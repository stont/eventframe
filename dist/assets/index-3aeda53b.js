var DI=Object.defineProperty;var NI=(t,e,n)=>e in t?DI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nn=(t,e,n)=>(NI(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function da(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var K_={exports:{}},qu={},Q_={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),MI=Symbol.for("react.portal"),VI=Symbol.for("react.fragment"),FI=Symbol.for("react.strict_mode"),jI=Symbol.for("react.profiler"),UI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),zI=Symbol.for("react.forward_ref"),BI=Symbol.for("react.suspense"),HI=Symbol.for("react.memo"),qI=Symbol.for("react.lazy"),Vg=Symbol.iterator;function WI(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y_=Object.assign,J_={};function Po(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||X_}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z_(){}Z_.prototype=Po.prototype;function Uf(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||X_}var $f=Uf.prototype=new Z_;$f.constructor=Uf;Y_($f,Po.prototype);$f.isPureReactComponent=!0;var Fg=Array.isArray,ew=Object.prototype.hasOwnProperty,zf={current:null},tw={key:!0,ref:!0,__self:!0,__source:!0};function nw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ew.call(e,r)&&!tw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fa,type:t,key:o,ref:s,props:i,_owner:zf.current}}function GI(t,e){return{$$typeof:fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bf(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function KI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KI(""+t.key):e.toString(36)}function Tl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fa:case MI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lh(s,0):r,Fg(i)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),Tl(i,e,n,"",function(c){return c})):i!=null&&(Bf(i)&&(i=GI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Fg(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+lh(o,a);s+=Tl(o,e,n,u,i)}else if(u=WI(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+lh(o,a++),s+=Tl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return Tl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function QI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},Sl={transition:null},XI={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:zf};function rw(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!Bf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Po;re.Fragment=VI;re.Profiler=jI;re.PureComponent=Uf;re.StrictMode=FI;re.Suspense=BI;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XI;re.act=rw;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=zf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)ew.call(e,u)&&!tw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fa,type:t.type,key:i,ref:o,props:r,_owner:s}};re.createContext=function(t){return t={$$typeof:$I,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UI,_context:t},t.Consumer=t};re.createElement=nw;re.createFactory=function(t){var e=nw.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:zI,render:t}};re.isValidElement=Bf;re.lazy=function(t){return{$$typeof:qI,_payload:{_status:-1,_result:t},_init:QI}};re.memo=function(t,e){return{$$typeof:HI,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Sl.transition;Sl.transition={};try{t()}finally{Sl.transition=e}};re.unstable_act=rw;re.useCallback=function(t,e){return Tt.current.useCallback(t,e)};re.useContext=function(t){return Tt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Tt.current.useEffect(t,e)};re.useId=function(){return Tt.current.useId()};re.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Tt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};re.useRef=function(t){return Tt.current.useRef(t)};re.useState=function(t){return Tt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Tt.current.useTransition()};re.version="18.3.1";Q_.exports=re;var D=Q_.exports;const ne=da(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=D,JI=Symbol.for("react.element"),ZI=Symbol.for("react.fragment"),eC=Object.prototype.hasOwnProperty,tC=YI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nC={key:!0,ref:!0,__self:!0,__source:!0};function iw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)eC.call(e,r)&&!nC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JI,type:t,key:o,ref:s,props:i,_owner:tC.current}}qu.Fragment=ZI;qu.jsx=iw;qu.jsxs=iw;K_.exports=qu;var N=K_.exports,od={},ow={exports:{}},$t={},sw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var Y=$.length;$.push(Q);e:for(;0<Y;){var me=Y-1>>>1,se=$[me];if(0<i(se,Q))$[me]=Q,$[Y]=se,Y=me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],Y=$.pop();if(Y!==Q){$[0]=Y;e:for(var me=0,se=$.length,Ae=se>>>1;me<Ae;){var mt=2*(me+1)-1,bn=$[mt],xn=mt+1,dn=$[xn];if(0>i(bn,Y))xn<se&&0>i(dn,bn)?($[me]=dn,$[xn]=Y,me=xn):($[me]=bn,$[mt]=Y,me=mt);else if(xn<se&&0>i(dn,Y))$[me]=dn,$[xn]=Y,me=xn;else break e}}return Q}function i($,Q){var Y=$.sortIndex-Q.sortIndex;return Y!==0?Y:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,p=3,v=!1,S=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=$)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function b($){if(I=!1,w($),!S)if(n(u)!==null)S=!0,it(L);else{var Q=n(c);Q!==null&&Ge(b,Q.startTime-$)}}function L($,Q){S=!1,I&&(I=!1,_(y),y=-1),v=!0;var Y=p;try{for(w(Q),f=n(u);f!==null&&(!(f.expirationTime>Q)||$&&!k());){var me=f.callback;if(typeof me=="function"){f.callback=null,p=f.priorityLevel;var se=me(f.expirationTime<=Q);Q=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(u)&&r(u),w(Q)}else r(u);f=n(u)}if(f!==null)var Ae=!0;else{var mt=n(c);mt!==null&&Ge(b,mt.startTime-Q),Ae=!1}return Ae}finally{f=null,p=Y,v=!1}}var V=!1,A=null,y=-1,T=5,C=-1;function k(){return!(t.unstable_now()-C<T)}function x(){if(A!==null){var $=t.unstable_now();C=$;var Q=!0;try{Q=A(!0,$)}finally{Q?P():(V=!1,A=null)}}else V=!1}var P;if(typeof g=="function")P=function(){g(x)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,fe=Re.port2;Re.port1.onmessage=x,P=function(){fe.postMessage(null)}}else P=function(){R(x,0)};function it($){A=$,V||(V=!0,P())}function Ge($,Q){y=R(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,it(L))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var Y=p;p=Q;try{return $()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=p;p=$;try{return Q()}finally{p=Y}},t.unstable_scheduleCallback=function($,Q,Y){var me=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,$){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,$={id:h++,callback:Q,priorityLevel:$,startTime:Y,expirationTime:se,sortIndex:-1},Y>me?($.sortIndex=Y,e(c,$),n(u)===null&&$===n(c)&&(I?(_(y),y=-1):I=!0,Ge(b,Y-me))):($.sortIndex=se,e(u,$),S||v||(S=!0,it(L))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var Q=p;return function(){var Y=p;p=Q;try{return $.apply(this,arguments)}finally{p=Y}}}})(aw);sw.exports=aw;var rC=sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=D,Ut=rC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lw=new Set,Vs={};function gi(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(Vs[t]=e,t=0;t<e.length;t++)lw.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ug={},$g={};function sC(t){return sd.call($g,t)?!0:sd.call(Ug,t)?!1:oC.test(t)?$g[t]=!0:(Ug[t]=!0,!1)}function aC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lC(t,e,n,r){if(e===null||typeof e>"u"||aC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hf=/[\-:]([a-z])/g;function qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hf,qf);nt[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hf,qf);nt[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hf,qf);nt[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wf(t,e,n,r){var i=nt.hasOwnProperty(e)?nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lC(e,n,i,r)&&(n=null),r||i===null?sC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var er=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),hw=Symbol.for("react.offscreen"),zg=Symbol.iterator;function es(t){return t===null||typeof t!="object"?null:(t=zg&&t[zg]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,uh;function ds(t){if(uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uh=e&&e[1]||""}return`
`+uh+t}var ch=!1;function hh(t,e){if(!t||ch)return"";ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ds(t):""}function uC(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=hh(t.type,!1),t;case 11:return t=hh(t.type.render,!1),t;case 1:return t=hh(t.type,!0),t;default:return""}}function cd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Vi:return"Portal";case ad:return"Profiler";case Gf:return"StrictMode";case ld:return"Suspense";case ud:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cw:return(t.displayName||"Context")+".Consumer";case uw:return(t._context.displayName||"Context")+".Provider";case Kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qf:return e=t.displayName||null,e!==null?e:cd(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return cd(t(e))}catch{}}return null}function cC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(e);case 8:return e===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hC(t){var e=dw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xa(t){t._valueTracker||(t._valueTracker=hC(t))}function fw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hd(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pw(t,e){e=e.checked,e!=null&&Wf(t,"checked",e,!1)}function dd(t,e){pw(t,e);var n=kr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&fd(t,e.type,kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fd(t,e,n){(e!=="number"||ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fs=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(fs(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kr(n)}}function mw(t,e){var n=kr(e.value),r=kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function md(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ya,yw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ya.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(t){dC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Es[e]=Es[t]})});function vw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Es.hasOwnProperty(t)&&Es[t]?(""+e).trim():e+"px"}function _w(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fC=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gd(t,e){if(e){if(fC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Xf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _d=null,Xi=null,Yi=null;function Gg(t){if(t=ga(t)){if(typeof _d!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Xu(e),_d(t.stateNode,t.type,e))}}function ww(t){Xi?Yi?Yi.push(t):Yi=[t]:Xi=t}function Ew(){if(Xi){var t=Xi,e=Yi;if(Yi=Xi=null,Gg(t),e)for(t=0;t<e.length;t++)Gg(e[t])}}function Tw(t,e){return t(e)}function Sw(){}var dh=!1;function Iw(t,e,n){if(dh)return t(e,n);dh=!0;try{return Tw(t,e,n)}finally{dh=!1,(Xi!==null||Yi!==null)&&(Sw(),Ew())}}function js(t,e){var n=t.stateNode;if(n===null)return null;var r=Xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var wd=!1;if(qn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){wd=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{wd=!1}function pC(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ts=!1,Wl=null,Gl=!1,Ed=null,mC={onError:function(t){Ts=!0,Wl=t}};function gC(t,e,n,r,i,o,s,a,u){Ts=!1,Wl=null,pC.apply(mC,arguments)}function yC(t,e,n,r,i,o,s,a,u){if(gC.apply(this,arguments),Ts){if(Ts){var c=Wl;Ts=!1,Wl=null}else throw Error(U(198));Gl||(Gl=!0,Ed=c)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(yi(t)!==t)throw Error(U(188))}function vC(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kg(i),t;if(o===r)return Kg(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Rw(t){return t=vC(t),t!==null?Aw(t):null}function Aw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Aw(t);if(e!==null)return e;t=t.sibling}return null}var Pw=Ut.unstable_scheduleCallback,Qg=Ut.unstable_cancelCallback,_C=Ut.unstable_shouldYield,wC=Ut.unstable_requestPaint,Fe=Ut.unstable_now,EC=Ut.unstable_getCurrentPriorityLevel,Yf=Ut.unstable_ImmediatePriority,kw=Ut.unstable_UserBlockingPriority,Kl=Ut.unstable_NormalPriority,TC=Ut.unstable_LowPriority,bw=Ut.unstable_IdlePriority,Wu=null,_n=null;function SC(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Wu,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:RC,IC=Math.log,CC=Math.LN2;function RC(t){return t>>>=0,t===0?32:31-(IC(t)/CC|0)|0}var Ja=64,Za=4194304;function ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ps(a):(o&=s,o!==0&&(r=ps(o)))}else s=n&~i,s!==0?r=ps(s):o!==0&&(r=ps(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),i=1<<n,r|=t[n],e&=~i;return r}function AC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ln(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=AC(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Td(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xw(){var t=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),t}function fh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function kC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ln(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Jf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dw,Zf,Nw,Lw,Mw,Sd=!1,el=[],gr=null,yr=null,vr=null,Us=new Map,$s=new Map,hr=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function ns(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ga(e),e!==null&&Zf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xC(t,e,n,r,i){switch(e){case"focusin":return gr=ns(gr,t,e,n,r,i),!0;case"dragenter":return yr=ns(yr,t,e,n,r,i),!0;case"mouseover":return vr=ns(vr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Us.set(o,ns(Us.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$s.set(o,ns($s.get(o)||null,t,e,n,r,i)),!0}return!1}function Vw(t){var e=Qr(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=Cw(n),e!==null){t.blockedOn=e,Mw(t.priority,function(){Nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Id(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return e=ga(n),e!==null&&Zf(e),t.blockedOn=n,!1;e.shift()}return!0}function Yg(t,e,n){Il(t)&&n.delete(e)}function OC(){Sd=!1,gr!==null&&Il(gr)&&(gr=null),yr!==null&&Il(yr)&&(yr=null),vr!==null&&Il(vr)&&(vr=null),Us.forEach(Yg),$s.forEach(Yg)}function rs(t,e){t.blockedOn===e&&(t.blockedOn=null,Sd||(Sd=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,OC)))}function zs(t){function e(i){return rs(i,t)}if(0<el.length){rs(el[0],t);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&rs(gr,t),yr!==null&&rs(yr,t),vr!==null&&rs(vr,t),Us.forEach(e),$s.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&hr.shift()}var Ji=er.ReactCurrentBatchConfig,Xl=!0;function DC(t,e,n,r){var i=de,o=Ji.transition;Ji.transition=null;try{de=1,ep(t,e,n,r)}finally{de=i,Ji.transition=o}}function NC(t,e,n,r){var i=de,o=Ji.transition;Ji.transition=null;try{de=4,ep(t,e,n,r)}finally{de=i,Ji.transition=o}}function ep(t,e,n,r){if(Xl){var i=Id(t,e,n,r);if(i===null)Sh(t,e,r,Yl,n),Xg(t,r);else if(xC(i,t,e,n,r))r.stopPropagation();else if(Xg(t,r),e&4&&-1<bC.indexOf(t)){for(;i!==null;){var o=ga(i);if(o!==null&&Dw(o),o=Id(t,e,n,r),o===null&&Sh(t,e,r,Yl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sh(t,e,r,null,n)}}var Yl=null;function Id(t,e,n,r){if(Yl=null,t=Xf(r),t=Qr(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yl=t,null}function Fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EC()){case Yf:return 1;case kw:return 4;case Kl:case TC:return 16;case bw:return 536870912;default:return 16}default:return 16}}var fr=null,tp=null,Cl=null;function jw(){if(Cl)return Cl;var t,e=tp,n=e.length,r,i="value"in fr?fr.value:fr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cl=i.slice(t,1<r?1-r:void 0)}function Rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Jg(){return!1}function zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tl:Jg,this.isPropagationStopped=Jg,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},np=zt(ko),ma=Oe({},ko,{view:0,detail:0}),LC=zt(ma),ph,mh,is,Gu=Oe({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(ph=t.screenX-is.screenX,mh=t.screenY-is.screenY):mh=ph=0,is=t),ph)},movementY:function(t){return"movementY"in t?t.movementY:mh}}),Zg=zt(Gu),MC=Oe({},Gu,{dataTransfer:0}),VC=zt(MC),FC=Oe({},ma,{relatedTarget:0}),gh=zt(FC),jC=Oe({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=zt(jC),$C=Oe({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zC=zt($C),BC=Oe({},ko,{data:0}),ey=zt(BC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WC[t])?!!e[t]:!1}function rp(){return GC}var KC=Oe({},ma,{key:function(t){if(t.key){var e=HC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(t){return t.type==="keypress"?Rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QC=zt(KC),XC=Oe({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=zt(XC),YC=Oe({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),JC=zt(YC),ZC=Oe({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),eR=zt(ZC),tR=Oe({},Gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nR=zt(tR),rR=[9,13,27,32],ip=qn&&"CompositionEvent"in window,Ss=null;qn&&"documentMode"in document&&(Ss=document.documentMode);var iR=qn&&"TextEvent"in window&&!Ss,Uw=qn&&(!ip||Ss&&8<Ss&&11>=Ss),ny=String.fromCharCode(32),ry=!1;function $w(t,e){switch(t){case"keyup":return rR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function oR(t,e){switch(t){case"compositionend":return zw(e);case"keypress":return e.which!==32?null:(ry=!0,ny);case"textInput":return t=e.data,t===ny&&ry?null:t;default:return null}}function sR(t,e){if(ji)return t==="compositionend"||!ip&&$w(t,e)?(t=jw(),Cl=tp=fr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uw&&e.locale!=="ko"?null:e.data;default:return null}}var aR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aR[t.type]:e==="textarea"}function Bw(t,e,n,r){ww(r),e=Jl(e,"onChange"),0<e.length&&(n=new np("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Is=null,Bs=null;function lR(t){e0(t,0)}function Ku(t){var e=zi(t);if(fw(e))return t}function uR(t,e){if(t==="change")return e}var Hw=!1;if(qn){var yh;if(qn){var vh="oninput"in document;if(!vh){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),vh=typeof oy.oninput=="function"}yh=vh}else yh=!1;Hw=yh&&(!document.documentMode||9<document.documentMode)}function sy(){Is&&(Is.detachEvent("onpropertychange",qw),Bs=Is=null)}function qw(t){if(t.propertyName==="value"&&Ku(Bs)){var e=[];Bw(e,Bs,t,Xf(t)),Iw(lR,e)}}function cR(t,e,n){t==="focusin"?(sy(),Is=e,Bs=n,Is.attachEvent("onpropertychange",qw)):t==="focusout"&&sy()}function hR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Bs)}function dR(t,e){if(t==="click")return Ku(e)}function fR(t,e){if(t==="input"||t==="change")return Ku(e)}function pR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:pR;function Hs(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sd.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,e){var n=ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ay(n)}}function Ww(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ww(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gw(){for(var t=window,e=ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ql(t.document)}return e}function op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mR(t){var e=Gw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ww(n.ownerDocument.documentElement,n)){if(r!==null&&op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ly(n,o);var s=ly(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gR=qn&&"documentMode"in document&&11>=document.documentMode,Ui=null,Cd=null,Cs=null,Rd=!1;function uy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||Ui==null||Ui!==ql(r)||(r=Ui,"selectionStart"in r&&op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Hs(Cs,r)||(Cs=r,r=Jl(Cd,"onSelect"),0<r.length&&(e=new np("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ui)))}function nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},_h={},Kw={};qn&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Qu(t){if(_h[t])return _h[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kw)return _h[t]=e[n];return t}var Qw=Qu("animationend"),Xw=Qu("animationiteration"),Yw=Qu("animationstart"),Jw=Qu("transitionend"),Zw=new Map,cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){Zw.set(t,e),gi(e,[t])}for(var wh=0;wh<cy.length;wh++){var Eh=cy[wh],yR=Eh.toLowerCase(),vR=Eh[0].toUpperCase()+Eh.slice(1);Vr(yR,"on"+vR)}Vr(Qw,"onAnimationEnd");Vr(Xw,"onAnimationIteration");Vr(Yw,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Jw,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function hy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yC(r,e,void 0,t),t.currentTarget=null}function e0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;hy(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;hy(i,a,c),o=u}}}if(Gl)throw t=Ed,Gl=!1,Ed=null,t}function _e(t,e){var n=e[xd];n===void 0&&(n=e[xd]=new Set);var r=t+"__bubble";n.has(r)||(t0(e,t,2,!1),n.add(r))}function Th(t,e,n){var r=0;e&&(r|=4),t0(n,t,r,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function qs(t){if(!t[rl]){t[rl]=!0,lw.forEach(function(n){n!=="selectionchange"&&(_R.has(n)||Th(n,!1,t),Th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Th("selectionchange",!1,e))}}function t0(t,e,n,r){switch(Fw(e)){case 1:var i=DC;break;case 4:i=NC;break;default:i=ep}n=i.bind(null,e,n,t),i=void 0,!wd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Qr(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Iw(function(){var c=o,h=Xf(n),f=[];e:{var p=Zw.get(t);if(p!==void 0){var v=np,S=t;switch(t){case"keypress":if(Rl(n)===0)break e;case"keydown":case"keyup":v=QC;break;case"focusin":S="focus",v=gh;break;case"focusout":S="blur",v=gh;break;case"beforeblur":case"afterblur":v=gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=VC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=JC;break;case Qw:case Xw:case Yw:v=UC;break;case Jw:v=eR;break;case"scroll":v=LC;break;case"wheel":v=nR;break;case"copy":case"cut":case"paste":v=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ty}var I=(e&4)!==0,R=!I&&t==="scroll",_=I?p!==null?p+"Capture":null:p;I=[];for(var g=c,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,_!==null&&(b=js(g,_),b!=null&&I.push(Ws(g,b,w)))),R)break;g=g.return}0<I.length&&(p=new v(p,S,null,n,h),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==vd&&(S=n.relatedTarget||n.fromElement)&&(Qr(S)||S[Wn]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=c,S=S?Qr(S):null,S!==null&&(R=yi(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=c),v!==S)){if(I=Zg,b="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(I=ty,b="onPointerLeave",_="onPointerEnter",g="pointer"),R=v==null?p:zi(v),w=S==null?p:zi(S),p=new I(b,g+"leave",v,n,h),p.target=R,p.relatedTarget=w,b=null,Qr(h)===c&&(I=new I(_,g+"enter",S,n,h),I.target=w,I.relatedTarget=R,b=I),R=b,v&&S)t:{for(I=v,_=S,g=0,w=I;w;w=Pi(w))g++;for(w=0,b=_;b;b=Pi(b))w++;for(;0<g-w;)I=Pi(I),g--;for(;0<w-g;)_=Pi(_),w--;for(;g--;){if(I===_||_!==null&&I===_.alternate)break t;I=Pi(I),_=Pi(_)}I=null}else I=null;v!==null&&dy(f,p,v,I,!1),S!==null&&R!==null&&dy(f,R,S,I,!0)}}e:{if(p=c?zi(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var L=uR;else if(iy(p))if(Hw)L=fR;else{L=hR;var V=cR}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=dR);if(L&&(L=L(t,c))){Bw(f,L,n,h);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&fd(p,"number",p.value)}switch(V=c?zi(c):window,t){case"focusin":(iy(V)||V.contentEditable==="true")&&(Ui=V,Cd=c,Cs=null);break;case"focusout":Cs=Cd=Ui=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,uy(f,n,h);break;case"selectionchange":if(gR)break;case"keydown":case"keyup":uy(f,n,h)}var A;if(ip)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ji?$w(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Uw&&n.locale!=="ko"&&(ji||y!=="onCompositionStart"?y==="onCompositionEnd"&&ji&&(A=jw()):(fr=h,tp="value"in fr?fr.value:fr.textContent,ji=!0)),V=Jl(c,y),0<V.length&&(y=new ey(y,t,null,n,h),f.push({event:y,listeners:V}),A?y.data=A:(A=zw(n),A!==null&&(y.data=A)))),(A=iR?oR(t,n):sR(t,n))&&(c=Jl(c,"onBeforeInput"),0<c.length&&(h=new ey("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=A))}e0(f,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=js(t,n),o!=null&&r.unshift(Ws(t,o,i)),o=js(t,e),o!=null&&r.push(Ws(t,o,i))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=js(n,o),u!=null&&s.unshift(Ws(n,u,a))):i||(u=js(n,o),u!=null&&s.push(Ws(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var wR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function fy(t){return(typeof t=="string"?t:""+t).replace(wR,`
`).replace(ER,"")}function il(t,e,n){if(e=fy(e),fy(t)!==e&&n)throw Error(U(425))}function Zl(){}var Ad=null,Pd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(t){return py.resolve(null).then(t).catch(IR)}:bd;function IR(t){setTimeout(function(){throw t})}function Ih(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function my(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),yn="__reactFiber$"+bo,Gs="__reactProps$"+bo,Wn="__reactContainer$"+bo,xd="__reactEvents$"+bo,CR="__reactListeners$"+bo,RR="__reactHandles$"+bo;function Qr(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=my(t);t!==null;){if(n=t[yn])return n;t=my(t)}return e}t=n,n=t.parentNode}return null}function ga(t){return t=t[yn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Xu(t){return t[Gs]||null}var Od=[],Bi=-1;function Fr(t){return{current:t}}function Ee(t){0>Bi||(t.current=Od[Bi],Od[Bi]=null,Bi--)}function ye(t,e){Bi++,Od[Bi]=t.current,t.current=e}var br={},pt=Fr(br),kt=Fr(!1),oi=br;function uo(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function eu(){Ee(kt),Ee(pt)}function gy(t,e,n){if(pt.current!==br)throw Error(U(168));ye(pt,e),ye(kt,n)}function n0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,cC(t)||"Unknown",i));return Oe({},n,r)}function tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,oi=pt.current,ye(pt,t),ye(kt,kt.current),!0}function yy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=n0(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,Ee(kt),Ee(pt),ye(pt,t)):Ee(kt),ye(kt,n)}var Mn=null,Yu=!1,Ch=!1;function r0(t){Mn===null?Mn=[t]:Mn.push(t)}function AR(t){Yu=!0,r0(t)}function jr(){if(!Ch&&Mn!==null){Ch=!0;var t=0,e=de;try{var n=Mn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,Yu=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),Pw(Yf,jr),i}finally{de=e,Ch=!1}}return null}var Hi=[],qi=0,nu=null,ru=0,Ht=[],qt=0,si=null,jn=1,Un="";function qr(t,e){Hi[qi++]=ru,Hi[qi++]=nu,nu=t,ru=e}function i0(t,e,n){Ht[qt++]=jn,Ht[qt++]=Un,Ht[qt++]=si,si=t;var r=jn;t=Un;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var o=32-ln(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jn=1<<32-ln(e)+i|n<<i|r,Un=o+t}else jn=1<<o|n<<i|r,Un=t}function sp(t){t.return!==null&&(qr(t,1),i0(t,1,0))}function ap(t){for(;t===nu;)nu=Hi[--qi],Hi[qi]=null,ru=Hi[--qi],Hi[qi]=null;for(;t===si;)si=Ht[--qt],Ht[qt]=null,Un=Ht[--qt],Ht[qt]=null,jn=Ht[--qt],Ht[qt]=null}var Ft=null,Mt=null,Ce=!1,on=null;function o0(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,Mt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:jn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ft=t,Mt=null,!0):!1;default:return!1}}function Dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nd(t){if(Ce){var e=Mt;if(e){var n=e;if(!vy(t,e)){if(Dd(t))throw Error(U(418));e=_r(n.nextSibling);var r=Ft;e&&vy(t,e)?o0(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Ft=t)}}else{if(Dd(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ce=!1,Ft=t}}}function _y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function ol(t){if(t!==Ft)return!1;if(!Ce)return _y(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=Mt)){if(Dd(t))throw s0(),Error(U(418));for(;e;)o0(t,e),e=_r(e.nextSibling)}if(_y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Ft?_r(t.stateNode.nextSibling):null;return!0}function s0(){for(var t=Mt;t;)t=_r(t.nextSibling)}function co(){Mt=Ft=null,Ce=!1}function lp(t){on===null?on=[t]:on.push(t)}var PR=er.ReactCurrentBatchConfig;function os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function sl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wy(t){var e=t._init;return e(t._payload)}function a0(t){function e(_,g){if(t){var w=_.deletions;w===null?(_.deletions=[g],_.flags|=16):w.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=Sr(_,g),_.index=0,_.sibling=null,_}function o(_,g,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<g?(_.flags|=2,g):w):(_.flags|=2,g)):(_.flags|=1048576,g)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,w,b){return g===null||g.tag!==6?(g=Oh(w,_.mode,b),g.return=_,g):(g=i(g,w),g.return=_,g)}function u(_,g,w,b){var L=w.type;return L===Fi?h(_,g,w.props.children,b,w.key):g!==null&&(g.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ar&&wy(L)===g.type)?(b=i(g,w.props),b.ref=os(_,g,w),b.return=_,b):(b=Dl(w.type,w.key,w.props,null,_.mode,b),b.ref=os(_,g,w),b.return=_,b)}function c(_,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Dh(w,_.mode,b),g.return=_,g):(g=i(g,w.children||[]),g.return=_,g)}function h(_,g,w,b,L){return g===null||g.tag!==7?(g=ti(w,_.mode,b,L),g.return=_,g):(g=i(g,w),g.return=_,g)}function f(_,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Oh(""+g,_.mode,w),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:return w=Dl(g.type,g.key,g.props,null,_.mode,w),w.ref=os(_,null,g),w.return=_,w;case Vi:return g=Dh(g,_.mode,w),g.return=_,g;case ar:var b=g._init;return f(_,b(g._payload),w)}if(fs(g)||es(g))return g=ti(g,_.mode,w,null),g.return=_,g;sl(_,g)}return null}function p(_,g,w,b){var L=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:a(_,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qa:return w.key===L?u(_,g,w,b):null;case Vi:return w.key===L?c(_,g,w,b):null;case ar:return L=w._init,p(_,g,L(w._payload),b)}if(fs(w)||es(w))return L!==null?null:h(_,g,w,b,null);sl(_,w)}return null}function v(_,g,w,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(w)||null,a(g,_,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qa:return _=_.get(b.key===null?w:b.key)||null,u(g,_,b,L);case Vi:return _=_.get(b.key===null?w:b.key)||null,c(g,_,b,L);case ar:var V=b._init;return v(_,g,w,V(b._payload),L)}if(fs(b)||es(b))return _=_.get(w)||null,h(g,_,b,L,null);sl(g,b)}return null}function S(_,g,w,b){for(var L=null,V=null,A=g,y=g=0,T=null;A!==null&&y<w.length;y++){A.index>y?(T=A,A=null):T=A.sibling;var C=p(_,A,w[y],b);if(C===null){A===null&&(A=T);break}t&&A&&C.alternate===null&&e(_,A),g=o(C,g,y),V===null?L=C:V.sibling=C,V=C,A=T}if(y===w.length)return n(_,A),Ce&&qr(_,y),L;if(A===null){for(;y<w.length;y++)A=f(_,w[y],b),A!==null&&(g=o(A,g,y),V===null?L=A:V.sibling=A,V=A);return Ce&&qr(_,y),L}for(A=r(_,A);y<w.length;y++)T=v(A,_,y,w[y],b),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?y:T.key),g=o(T,g,y),V===null?L=T:V.sibling=T,V=T);return t&&A.forEach(function(k){return e(_,k)}),Ce&&qr(_,y),L}function I(_,g,w,b){var L=es(w);if(typeof L!="function")throw Error(U(150));if(w=L.call(w),w==null)throw Error(U(151));for(var V=L=null,A=g,y=g=0,T=null,C=w.next();A!==null&&!C.done;y++,C=w.next()){A.index>y?(T=A,A=null):T=A.sibling;var k=p(_,A,C.value,b);if(k===null){A===null&&(A=T);break}t&&A&&k.alternate===null&&e(_,A),g=o(k,g,y),V===null?L=k:V.sibling=k,V=k,A=T}if(C.done)return n(_,A),Ce&&qr(_,y),L;if(A===null){for(;!C.done;y++,C=w.next())C=f(_,C.value,b),C!==null&&(g=o(C,g,y),V===null?L=C:V.sibling=C,V=C);return Ce&&qr(_,y),L}for(A=r(_,A);!C.done;y++,C=w.next())C=v(A,_,y,C.value,b),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?y:C.key),g=o(C,g,y),V===null?L=C:V.sibling=C,V=C);return t&&A.forEach(function(x){return e(_,x)}),Ce&&qr(_,y),L}function R(_,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qa:e:{for(var L=w.key,V=g;V!==null;){if(V.key===L){if(L=w.type,L===Fi){if(V.tag===7){n(_,V.sibling),g=i(V,w.props.children),g.return=_,_=g;break e}}else if(V.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ar&&wy(L)===V.type){n(_,V.sibling),g=i(V,w.props),g.ref=os(_,V,w),g.return=_,_=g;break e}n(_,V);break}else e(_,V);V=V.sibling}w.type===Fi?(g=ti(w.props.children,_.mode,b,w.key),g.return=_,_=g):(b=Dl(w.type,w.key,w.props,null,_.mode,b),b.ref=os(_,g,w),b.return=_,_=b)}return s(_);case Vi:e:{for(V=w.key;g!==null;){if(g.key===V)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(_,g.sibling),g=i(g,w.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Dh(w,_.mode,b),g.return=_,_=g}return s(_);case ar:return V=w._init,R(_,g,V(w._payload),b)}if(fs(w))return S(_,g,w,b);if(es(w))return I(_,g,w,b);sl(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(_,g.sibling),g=i(g,w),g.return=_,_=g):(n(_,g),g=Oh(w,_.mode,b),g.return=_,_=g),s(_)):n(_,g)}return R}var ho=a0(!0),l0=a0(!1),iu=Fr(null),ou=null,Wi=null,up=null;function cp(){up=Wi=ou=null}function hp(t){var e=iu.current;Ee(iu),t._currentValue=e}function Ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){ou=t,up=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function Yt(t){var e=t._currentValue;if(up!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(ou===null)throw Error(U(308));Wi=t,ou.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var Xr=null;function dp(t){Xr===null?Xr=[t]:Xr.push(t)}function u0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gn(t,n)}return i=r.interleaved,i===null?(e.next=e,dp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gn(t,n)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jf(t,n)}}function Ey(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function su(t,e,n,r){var i=t.updateQueue;lr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,I=a;switch(p=e,v=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){f=S.call(v,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,p=typeof S=="function"?S.call(v,f,p):S,p==null)break e;f=Oe({},f,p);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);li|=s,t.lanes=s,t.memoizedState=f}}function Ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ya={},wn=Fr(ya),Ks=Fr(ya),Qs=Fr(ya);function Yr(t){if(t===ya)throw Error(U(174));return t}function pp(t,e){switch(ye(Qs,e),ye(Ks,t),ye(wn,ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:md(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=md(e,t)}Ee(wn),ye(wn,e)}function fo(){Ee(wn),Ee(Ks),Ee(Qs)}function h0(t){Yr(Qs.current);var e=Yr(wn.current),n=md(e,t.type);e!==n&&(ye(Ks,t),ye(wn,n))}function mp(t){Ks.current===t&&(Ee(wn),Ee(Ks))}var ke=Fr(0);function au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function gp(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Pl=er.ReactCurrentDispatcher,Ah=er.ReactCurrentBatchConfig,ai=0,be=null,He=null,Qe=null,lu=!1,Rs=!1,Xs=0,kR=0;function lt(){throw Error(U(321))}function yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function vp(t,e,n,r,i,o){if(ai=o,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pl.current=t===null||t.memoizedState===null?DR:NR,t=n(r,i),Rs){o=0;do{if(Rs=!1,Xs=0,25<=o)throw Error(U(301));o+=1,Qe=He=null,e.updateQueue=null,Pl.current=LR,t=n(r,i)}while(Rs)}if(Pl.current=uu,e=He!==null&&He.next!==null,ai=0,Qe=He=be=null,lu=!1,e)throw Error(U(300));return t}function _p(){var t=Xs!==0;return Xs=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?be.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Jt(){if(He===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Qe===null?be.memoizedState:Qe.next;if(e!==null)Qe=e,He=t;else{if(t===null)throw Error(U(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?be.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ys(t,e){return typeof e=="function"?e(t):e}function Ph(t){var e=Jt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((ai&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,be.lanes|=h,li|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,cn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,be.lanes|=o,li|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=Jt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);cn(o,e.memoizedState)||(Pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function d0(){}function f0(t,e){var n=be,r=Jt(),i=e(),o=!cn(r.memoizedState,i);if(o&&(r.memoizedState=i,Pt=!0),r=r.queue,wp(g0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Js(9,m0.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(U(349));ai&30||p0(n,e,i)}return i}function p0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m0(t,e,n,r){e.value=n,e.getSnapshot=r,y0(e)&&v0(t)}function g0(t,e,n){return n(function(){y0(e)&&v0(t)})}function y0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function v0(t){var e=Gn(t,1);e!==null&&un(e,t,1,-1)}function Sy(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,be,t),[e.memoizedState,t]}function Js(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _0(){return Jt().memoizedState}function kl(t,e,n,r){var i=pn();be.flags|=t,i.memoizedState=Js(1|e,n,void 0,r===void 0?null:r)}function Ju(t,e,n,r){var i=Jt();r=r===void 0?null:r;var o=void 0;if(He!==null){var s=He.memoizedState;if(o=s.destroy,r!==null&&yp(r,s.deps)){i.memoizedState=Js(e,n,o,r);return}}be.flags|=t,i.memoizedState=Js(1|e,n,o,r)}function Iy(t,e){return kl(8390656,8,t,e)}function wp(t,e){return Ju(2048,8,t,e)}function w0(t,e){return Ju(4,2,t,e)}function E0(t,e){return Ju(4,4,t,e)}function T0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S0(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4,4,T0.bind(null,e,t),n)}function Ep(){}function I0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R0(t,e,n){return ai&21?(cn(n,e)||(n=xw(),be.lanes|=n,li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function bR(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Ah.transition;Ah.transition={};try{t(!1),e()}finally{de=n,Ah.transition=r}}function A0(){return Jt().memoizedState}function xR(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P0(t))k0(e,n);else if(n=u0(t,e,n,r),n!==null){var i=Et();un(n,t,r,i),b0(n,e,r)}}function OR(t,e,n){var r=Tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P0(t))k0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,cn(a,s)){var u=e.interleaved;u===null?(i.next=i,dp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=u0(t,e,i,r),n!==null&&(i=Et(),un(n,t,r,i),b0(n,e,r))}}function P0(t){var e=t.alternate;return t===be||e!==null&&e===be}function k0(t,e){Rs=lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jf(t,n)}}var uu={readContext:Yt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},DR={readContext:Yt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:Iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kl(4194308,4,T0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return kl(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xR.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:Ep,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=bR.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=pn();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Xe===null)throw Error(U(349));ai&30||p0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Iy(g0.bind(null,r,o,t),[t]),r.flags|=2048,Js(9,m0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=pn(),e=Xe.identifierPrefix;if(Ce){var n=Un,r=jn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NR={readContext:Yt,useCallback:I0,useContext:Yt,useEffect:wp,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:E0,useMemo:C0,useReducer:Ph,useRef:_0,useState:function(){return Ph(Ys)},useDebugValue:Ep,useDeferredValue:function(t){var e=Jt();return R0(e,He.memoizedState,t)},useTransition:function(){var t=Ph(Ys)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:f0,useId:A0,unstable_isNewReconciler:!1},LR={readContext:Yt,useCallback:I0,useContext:Yt,useEffect:wp,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:E0,useMemo:C0,useReducer:kh,useRef:_0,useState:function(){return kh(Ys)},useDebugValue:Ep,useDeferredValue:function(t){var e=Jt();return He===null?e.memoizedState=t:R0(e,He.memoizedState,t)},useTransition:function(){var t=kh(Ys)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:d0,useSyncExternalStore:f0,useId:A0,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Md(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zu={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Tr(t),o=$n(r,i);o.payload=e,n!=null&&(o.callback=n),e=wr(t,o,i),e!==null&&(un(e,t,i,r),Al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Tr(t),o=$n(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wr(t,o,i),e!==null&&(un(e,t,i,r),Al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=Tr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(un(e,t,r,n),Al(e,t,r))}};function Cy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Hs(n,r)||!Hs(i,o):!0}function x0(t,e,n){var r=!1,i=br,o=e.contextType;return typeof o=="object"&&o!==null?o=Yt(o):(i=bt(e)?oi:pt.current,r=e.contextTypes,o=(r=r!=null)?uo(t,i):br),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ry(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zu.enqueueReplaceState(e,e.state,null)}function Vd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yt(o):(o=bt(e)?oi:pt.current,i.context=uo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Md(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zu.enqueueReplaceState(i,i.state,null),su(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var n="",r=e;do n+=uC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function bh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MR=typeof WeakMap=="function"?WeakMap:Map;function O0(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hu||(hu=!0,Kd=r),Fd(t,e)},n}function D0(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fd(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ay(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XR.bind(null,t,e,n),e.then(t,t))}function Py(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ky(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var VR=er.ReactCurrentOwner,Pt=!1;function wt(t,e,n,r){e.child=t===null?l0(e,null,n,r):ho(e,t.child,n,r)}function by(t,e,n,r,i){n=n.render;var o=e.ref;return Zi(e,i),r=vp(t,e,n,r,o,i),n=_p(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Ce&&n&&sp(e),e.flags|=1,wt(t,e,r,i),e.child)}function xy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!kp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,N0(t,e,o,r,i)):(t=Dl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(s,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=Sr(o,r),t.ref=e.ref,t.return=e,e.child=t}function N0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hs(o,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return jd(t,e,n,r,i)}function L0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ki,Lt),Lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ki,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Ki,Lt),Lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ye(Ki,Lt),Lt|=r;return wt(t,e,i,n),e.child}function M0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jd(t,e,n,r,i){var o=bt(n)?oi:pt.current;return o=uo(e,o),Zi(e,i),n=vp(t,e,n,r,o,i),r=_p(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Ce&&r&&sp(e),e.flags|=1,wt(t,e,n,i),e.child)}function Oy(t,e,n,r,i){if(bt(n)){var o=!0;tu(e)}else o=!1;if(Zi(e,i),e.stateNode===null)bl(t,e),x0(e,n,r),Vd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yt(c):(c=bt(n)?oi:pt.current,c=uo(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ry(e,s,r,c),lr=!1;var p=e.memoizedState;s.state=p,su(e,r,s,i),u=e.memoizedState,a!==r||p!==u||kt.current||lr?(typeof h=="function"&&(Md(e,n,h,r),u=e.memoizedState),(a=lr||Cy(e,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,c0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:nn(e.type,a),s.props=c,f=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Yt(u):(u=bt(n)?oi:pt.current,u=uo(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Ry(e,s,r,u),lr=!1,p=e.memoizedState,s.state=p,su(e,r,s,i);var S=e.memoizedState;a!==f||p!==S||kt.current||lr?(typeof v=="function"&&(Md(e,n,v,r),S=e.memoizedState),(c=lr||Cy(e,n,c,r,p,S,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ud(t,e,n,r,o,i)}function Ud(t,e,n,r,i,o){M0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&yy(e,n,!1),Kn(t,e,o);r=e.stateNode,VR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ho(e,t.child,null,o),e.child=ho(e,null,a,o)):wt(t,e,a,o),e.memoizedState=r.state,i&&yy(e,n,!0),e.child}function V0(t){var e=t.stateNode;e.pendingContext?gy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gy(t,e.context,!1),pp(t,e.containerInfo)}function Dy(t,e,n,r,i){return co(),lp(i),e.flags|=256,wt(t,e,n,r),e.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function F0(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(ke,i&1),t===null)return Nd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=nc(s,r,0,null),t=ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=zd(n),e.memoizedState=$d,t):Tp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Sr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Sr(a,o):(o=ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?zd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$d,r}return o=t.child,t=o.sibling,r=Sr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tp(t,e){return e=nc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function al(t,e,n,r){return r!==null&&lp(r),ho(e,t.child,null,n),t=Tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=bh(Error(U(422))),al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=nc({mode:"visible",children:r.children},i,0,null),o=ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ho(e,t.child,null,s),e.child.memoizedState=zd(s),e.memoizedState=$d,o);if(!(e.mode&1))return al(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=bh(o,r,void 0),al(t,e,s,r)}if(a=(s&t.childLanes)!==0,Pt||a){if(r=Xe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gn(t,i),un(r,t,i,-1))}return Pp(),r=bh(Error(U(421))),al(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mt=_r(i.nextSibling),Ft=e,Ce=!0,on=null,t!==null&&(Ht[qt++]=jn,Ht[qt++]=Un,Ht[qt++]=si,jn=t.id,Un=t.overflow,si=e),e=Tp(e,r.children),e.flags|=4096,e)}function Ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ld(t.return,e,n)}function xh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function j0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,n,e);else if(t.tag===19)Ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xh(e,!0,n,null,o);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jR(t,e,n){switch(e.tag){case 3:V0(e),co();break;case 5:h0(e);break;case 1:bt(e.type)&&tu(e);break;case 4:pp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(iu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?F0(t,e,n):(ye(ke,ke.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,L0(t,e,n)}return Kn(t,e,n)}var U0,Bd,$0,z0;U0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};$0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yr(wn.current);var o=null;switch(n){case"input":i=hd(t,i),r=hd(t,r),o=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),o=[];break;case"textarea":i=pd(t,i),r=pd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zl)}gd(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&_e("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ss(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UR(t,e,n){var r=e.pendingProps;switch(ap(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return bt(e.type)&&eu(),ut(e),null;case 3:return r=e.stateNode,fo(),Ee(kt),Ee(pt),gp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Yd(on),on=null))),Bd(t,e),ut(e),null;case 5:mp(e);var i=Yr(Qs.current);if(n=e.type,t!==null&&e.stateNode!=null)$0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ut(e),null}if(t=Yr(wn.current),ol(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[yn]=e,r[Gs]=o,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<ms.length;i++)_e(ms[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Bg(r,o),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},_e("invalid",r);break;case"textarea":qg(r,o),_e("invalid",r)}gd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&il(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&il(r.textContent,a,t),i=["children",""+a]):Vs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&_e("scroll",r)}switch(n){case"input":Xa(r),Hg(r,o,!0);break;case"textarea":Xa(r),Wg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[yn]=e,t[Gs]=r,U0(t,e,!1,!1),e.stateNode=t;e:{switch(s=yd(n,r),n){case"dialog":_e("cancel",t),_e("close",t),i=r;break;case"iframe":case"object":case"embed":_e("load",t),i=r;break;case"video":case"audio":for(i=0;i<ms.length;i++)_e(ms[i],t);i=r;break;case"source":_e("error",t),i=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),i=r;break;case"details":_e("toggle",t),i=r;break;case"input":Bg(t,r),i=hd(t,r),_e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),_e("invalid",t);break;case"textarea":qg(t,r),i=pd(t,r),_e("invalid",t);break;default:i=r}gd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?_w(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yw(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fs(t,u):typeof u=="number"&&Fs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&_e("scroll",t):u!=null&&Wf(t,o,u,s))}switch(n){case"input":Xa(t),Hg(t,r,!1);break;case"textarea":Xa(t),Wg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Yr(Qs.current),Yr(wn.current),ol(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(o=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return ut(e),null;case 13:if(Ee(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Mt!==null&&e.mode&1&&!(e.flags&128))s0(),co(),e.flags|=98560,o=!1;else if(o=ol(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[yn]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),o=!1}else on!==null&&(Yd(on),on=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?qe===0&&(qe=3):Pp())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return fo(),Bd(t,e),t===null&&qs(e.stateNode.containerInfo),ut(e),null;case 10:return hp(e.type._context),ut(e),null;case 17:return bt(e.type)&&eu(),ut(e),null;case 19:if(Ee(ke),o=e.memoizedState,o===null)return ut(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ss(o,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=au(t),s!==null){for(e.flags|=128,ss(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fe()>mo&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304)}else{if(!r)if(t=au(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return ut(e),null}else 2*Fe()-o.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fe(),e.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Ap(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function $R(t,e){switch(ap(e),e.tag){case 1:return bt(e.type)&&eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fo(),Ee(kt),Ee(pt),gp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mp(e),null;case 13:if(Ee(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(ke),null;case 4:return fo(),null;case 10:return hp(e.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var ll=!1,dt=!1,zR=typeof WeakSet=="function"?WeakSet:Set,W=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Hd(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Ly=!1;function BR(t,e){if(Ad=Xl,t=Gw(),op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++h===r&&(u=s),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:t,selectionRange:n},Xl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,R=S.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:nn(e.type,I),R);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Me(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return S=Ly,Ly=!1,S}function As(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Hd(e,n,o)}i=i.next}while(i!==r)}}function ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B0(t){var e=t.alternate;e!==null&&(t.alternate=null,B0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Gs],delete e[xd],delete e[CR],delete e[RR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H0(t){return t.tag===5||t.tag===3||t.tag===4}function My(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zl));else if(r!==4&&(t=t.child,t!==null))for(Wd(t,e,n),t=t.sibling;t!==null;)Wd(t,e,n),t=t.sibling}function Gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gd(t,e,n),t=t.sibling;t!==null;)Gd(t,e,n),t=t.sibling}var Je=null,rn=!1;function or(t,e,n){for(n=n.child;n!==null;)q0(t,e,n),n=n.sibling}function q0(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:dt||Gi(n,e);case 6:var r=Je,i=rn;Je=null,or(t,e,n),Je=r,rn=i,Je!==null&&(rn?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(rn?(t=Je,n=n.stateNode,t.nodeType===8?Ih(t.parentNode,n):t.nodeType===1&&Ih(t,n),zs(t)):Ih(Je,n.stateNode));break;case 4:r=Je,i=rn,Je=n.stateNode.containerInfo,rn=!0,or(t,e,n),Je=r,rn=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Hd(n,e,s),i=i.next}while(i!==r)}or(t,e,n);break;case 1:if(!dt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}or(t,e,n);break;case 21:or(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,or(t,e,n),dt=r):or(t,e,n);break;default:or(t,e,n)}}function Vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zR),e.forEach(function(r){var i=JR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,rn=!1;break e;case 3:Je=a.stateNode.containerInfo,rn=!0;break e;case 4:Je=a.stateNode.containerInfo,rn=!0;break e}a=a.return}if(Je===null)throw Error(U(160));q0(o,s,i),Je=null,rn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W0(e,t),e=e.sibling}function W0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),fn(t),r&4){try{As(3,t,t.return),ec(3,t)}catch(I){Me(t,t.return,I)}try{As(5,t,t.return)}catch(I){Me(t,t.return,I)}}break;case 1:en(e,t),fn(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(en(e,t),fn(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{Fs(i,"")}catch(I){Me(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&pw(i,o),yd(a,s);var c=yd(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?_w(i,f):h==="dangerouslySetInnerHTML"?yw(i,f):h==="children"?Fs(i,f):Wf(i,h,f,c)}switch(a){case"input":dd(i,o);break;case"textarea":mw(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Qi(i,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?Qi(i,!!o.multiple,o.defaultValue,!0):Qi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gs]=o}catch(I){Me(t,t.return,I)}}break;case 6:if(en(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){Me(t,t.return,I)}}break;case 3:if(en(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(I){Me(t,t.return,I)}break;case 4:en(e,t),fn(t);break;case 13:en(e,t),fn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=Fe())),r&4&&Vy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||h,en(e,t),dt=c):en(e,t),fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(p=W,v=p.child,p.tag){case 0:case 11:case 14:case 15:As(4,p,p.return);break;case 1:Gi(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){Me(r,n,I)}}break;case 5:Gi(p,p.return);break;case 22:if(p.memoizedState!==null){jy(f);continue}}v!==null?(v.return=p,W=v):jy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=vw("display",s))}catch(I){Me(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){Me(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(e,t),fn(t),r&4&&Vy(t);break;case 21:break;default:en(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fs(i,""),r.flags&=-33);var o=My(t);Gd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=My(t);Wd(t,a,s);break;default:throw Error(U(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HR(t,e,n){W=t,G0(t)}function G0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ll;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||dt;a=ll;var c=dt;if(ll=s,(dt=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?Uy(i):u!==null?(u.return=s,W=u):Uy(i);for(;o!==null;)W=o,G0(o),o=o.sibling;W=i,ll=a,dt=c}Fy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):Fy(t)}}function Fy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||ec(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ty(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ty(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&zs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||e.flags&512&&qd(e)}catch(p){Me(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function jy(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Uy(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ec(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Me(e,i,u)}}var o=e.return;try{qd(e)}catch(u){Me(e,o,u)}break;case 5:var s=e.return;try{qd(e)}catch(u){Me(e,s,u)}}}catch(u){Me(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var qR=Math.ceil,cu=er.ReactCurrentDispatcher,Sp=er.ReactCurrentOwner,Qt=er.ReactCurrentBatchConfig,ue=0,Xe=null,Ue=null,tt=0,Lt=0,Ki=Fr(0),qe=0,Zs=null,li=0,tc=0,Ip=0,Ps=null,At=null,Cp=0,mo=1/0,Ln=null,hu=!1,Kd=null,Er=null,ul=!1,pr=null,du=0,ks=0,Qd=null,xl=-1,Ol=0;function Et(){return ue&6?Fe():xl!==-1?xl:xl=Fe()}function Tr(t){return t.mode&1?ue&2&&tt!==0?tt&-tt:PR.transition!==null?(Ol===0&&(Ol=xw()),Ol):(t=de,t!==0||(t=window.event,t=t===void 0?16:Fw(t.type)),t):1}function un(t,e,n,r){if(50<ks)throw ks=0,Qd=null,Error(U(185));pa(t,n,r),(!(ue&2)||t!==Xe)&&(t===Xe&&(!(ue&2)&&(tc|=n),qe===4&&dr(t,tt)),xt(t,r),n===1&&ue===0&&!(e.mode&1)&&(mo=Fe()+500,Yu&&jr()))}function xt(t,e){var n=t.callbackNode;PC(t,e);var r=Ql(t,t===Xe?tt:0);if(r===0)n!==null&&Qg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qg(n),e===1)t.tag===0?AR($y.bind(null,t)):r0($y.bind(null,t)),SR(function(){!(ue&6)&&jr()}),n=null;else{switch(Ow(r)){case 1:n=Yf;break;case 4:n=kw;break;case 16:n=Kl;break;case 536870912:n=bw;break;default:n=Kl}n=t1(n,K0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K0(t,e){if(xl=-1,Ol=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(eo()&&t.callbackNode!==n)return null;var r=Ql(t,t===Xe?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fu(t,r);else{e=r;var i=ue;ue|=2;var o=X0();(Xe!==t||tt!==e)&&(Ln=null,mo=Fe()+500,ei(t,e));do try{KR();break}catch(a){Q0(t,a)}while(1);cp(),cu.current=o,ue=i,Ue!==null?e=0:(Xe=null,tt=0,e=qe)}if(e!==0){if(e===2&&(i=Td(t),i!==0&&(r=i,e=Xd(t,i))),e===1)throw n=Zs,ei(t,0),dr(t,r),xt(t,Fe()),n;if(e===6)dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!WR(i)&&(e=fu(t,r),e===2&&(o=Td(t),o!==0&&(r=o,e=Xd(t,o))),e===1))throw n=Zs,ei(t,0),dr(t,r),xt(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Wr(t,At,Ln);break;case 3:if(dr(t,r),(r&130023424)===r&&(e=Cp+500-Fe(),10<e)){if(Ql(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bd(Wr.bind(null,t,At,Ln),e);break}Wr(t,At,Ln);break;case 4:if(dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ln(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qR(r/1960))-r,10<r){t.timeoutHandle=bd(Wr.bind(null,t,At,Ln),r);break}Wr(t,At,Ln);break;case 5:Wr(t,At,Ln);break;default:throw Error(U(329))}}}return xt(t,Fe()),t.callbackNode===n?K0.bind(null,t):null}function Xd(t,e){var n=Ps;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=fu(t,e),t!==2&&(e=At,At=n,e!==null&&Yd(e)),t}function Yd(t){At===null?At=t:At.push.apply(At,t)}function WR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~Ip,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(ue&6)throw Error(U(327));eo();var e=Ql(t,0);if(!(e&1))return xt(t,Fe()),null;var n=fu(t,e);if(t.tag!==0&&n===2){var r=Td(t);r!==0&&(e=r,n=Xd(t,r))}if(n===1)throw n=Zs,ei(t,0),dr(t,e),xt(t,Fe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wr(t,At,Ln),xt(t,Fe()),null}function Rp(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(mo=Fe()+500,Yu&&jr())}}function ui(t){pr!==null&&pr.tag===0&&!(ue&6)&&eo();var e=ue;ue|=1;var n=Qt.transition,r=de;try{if(Qt.transition=null,de=1,t)return t()}finally{de=r,Qt.transition=n,ue=e,!(ue&6)&&jr()}}function Ap(){Lt=Ki.current,Ee(Ki)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TR(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:fo(),Ee(kt),Ee(pt),gp();break;case 5:mp(r);break;case 4:fo();break;case 13:Ee(ke);break;case 19:Ee(ke);break;case 10:hp(r.type._context);break;case 22:case 23:Ap()}n=n.return}if(Xe=t,Ue=t=Sr(t.current,null),tt=Lt=e,qe=0,Zs=null,Ip=tc=li=0,At=Ps=null,Xr!==null){for(e=0;e<Xr.length;e++)if(n=Xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Xr=null}return t}function Q0(t,e){do{var n=Ue;try{if(cp(),Pl.current=uu,lu){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lu=!1}if(ai=0,Qe=He=be=null,Rs=!1,Xs=0,Sp.current=null,n===null||n.return===null){qe=1,Zs=e,Ue=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=tt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Py(s);if(v!==null){v.flags&=-257,ky(v,s,a,o,e),v.mode&1&&Ay(o,c,e),e=v,u=c;var S=e.updateQueue;if(S===null){var I=new Set;I.add(u),e.updateQueue=I}else S.add(u);break e}else{if(!(e&1)){Ay(o,c,e),Pp();break e}u=Error(U(426))}}else if(Ce&&a.mode&1){var R=Py(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),ky(R,s,a,o,e),lp(po(u,a));break e}}o=u=po(u,a),qe!==4&&(qe=2),Ps===null?Ps=[o]:Ps.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=O0(o,u,e);Ey(o,_);break e;case 1:a=u;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Er===null||!Er.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=D0(o,a,e);Ey(o,b);break e}}o=o.return}while(o!==null)}J0(n)}catch(L){e=L,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function X0(){var t=cu.current;return cu.current=uu,t===null?uu:t}function Pp(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(li&268435455)&&!(tc&268435455)||dr(Xe,tt)}function fu(t,e){var n=ue;ue|=2;var r=X0();(Xe!==t||tt!==e)&&(Ln=null,ei(t,e));do try{GR();break}catch(i){Q0(t,i)}while(1);if(cp(),ue=n,cu.current=r,Ue!==null)throw Error(U(261));return Xe=null,tt=0,qe}function GR(){for(;Ue!==null;)Y0(Ue)}function KR(){for(;Ue!==null&&!_C();)Y0(Ue)}function Y0(t){var e=e1(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?J0(t):Ue=e,Sp.current=null}function J0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$R(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ue=null;return}}else if(n=UR(n,e,Lt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);qe===0&&(qe=5)}function Wr(t,e,n){var r=de,i=Qt.transition;try{Qt.transition=null,de=1,QR(t,e,n,r)}finally{Qt.transition=i,de=r}return null}function QR(t,e,n,r){do eo();while(pr!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kC(t,o),t===Xe&&(Ue=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,t1(Kl,function(){return eo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var s=de;de=1;var a=ue;ue|=4,Sp.current=null,BR(t,n),W0(n,t),mR(Pd),Xl=!!Ad,Pd=Ad=null,t.current=n,HR(n),wC(),ue=a,de=s,Qt.transition=o}else t.current=n;if(ul&&(ul=!1,pr=t,du=i),o=t.pendingLanes,o===0&&(Er=null),SC(n.stateNode),xt(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hu)throw hu=!1,t=Kd,Kd=null,t;return du&1&&t.tag!==0&&eo(),o=t.pendingLanes,o&1?t===Qd?ks++:(ks=0,Qd=t):ks=0,jr(),null}function eo(){if(pr!==null){var t=Ow(du),e=Qt.transition,n=de;try{if(Qt.transition=null,de=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,du=0,ue&6)throw Error(U(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:As(8,h,o)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var p=h.sibling,v=h.return;if(B0(h),h===c){W=null;break}if(p!==null){p.return=v,W=p;break}W=v}}}var S=o.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:As(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,W=_;break e}W=o.return}}var g=t.current;for(W=g;W!==null;){s=W;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,W=w;else e:for(s=g;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ec(9,a)}}catch(L){Me(a,a.return,L)}if(a===s){W=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,W=b;break e}W=a.return}}if(ue=i,jr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Wu,t)}catch{}r=!0}return r}finally{de=n,Qt.transition=e}}return!1}function zy(t,e,n){e=po(n,e),e=O0(t,e,1),t=wr(t,e,1),e=Et(),t!==null&&(pa(t,1,e),xt(t,e))}function Me(t,e,n){if(t.tag===3)zy(t,t,n);else for(;e!==null;){if(e.tag===3){zy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=po(n,t),t=D0(e,t,1),e=wr(e,t,1),t=Et(),e!==null&&(pa(e,1,t),xt(e,t));break}}e=e.return}}function XR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(tt&n)===n&&(qe===4||qe===3&&(tt&130023424)===tt&&500>Fe()-Cp?ei(t,0):Ip|=n),xt(t,e)}function Z0(t,e){e===0&&(t.mode&1?(e=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):e=1);var n=Et();t=Gn(t,e),t!==null&&(pa(t,e,n),xt(t,n))}function YR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z0(t,n)}function JR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Z0(t,n)}var e1;e1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,jR(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Ce&&e.flags&1048576&&i0(e,ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bl(t,e),t=e.pendingProps;var i=uo(e,pt.current);Zi(e,n),i=vp(null,e,r,t,i,n);var o=_p();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(o=!0,tu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fp(e),i.updater=Zu,e.stateNode=i,i._reactInternals=e,Vd(e,r,t,n),e=Ud(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&sp(e),wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eA(r),t=nn(r,t),i){case 0:e=jd(null,e,r,t,n);break e;case 1:e=Oy(null,e,r,t,n);break e;case 11:e=by(null,e,r,t,n);break e;case 14:e=xy(null,e,r,nn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),jd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Oy(t,e,r,i,n);case 3:e:{if(V0(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,c0(t,e),su(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=po(Error(U(423)),e),e=Dy(t,e,r,n,i);break e}else if(r!==i){i=po(Error(U(424)),e),e=Dy(t,e,r,n,i);break e}else for(Mt=_r(e.stateNode.containerInfo.firstChild),Ft=e,Ce=!0,on=null,n=l0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===i){e=Kn(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return h0(e),t===null&&Nd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,kd(r,i)?s=null:o!==null&&kd(r,o)&&(e.flags|=32),M0(t,e),wt(t,e,s,n),e.child;case 6:return t===null&&Nd(e),null;case 13:return F0(t,e,n);case 4:return pp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ho(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),by(t,e,r,i,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ye(iu,r._currentValue),r._currentValue=s,o!==null)if(cn(o.value,s)){if(o.children===i.children&&!kt.current){e=Kn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=$n(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ld(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ld(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zi(e,n),i=Yt(i),r=r(i),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,i=nn(r,e.pendingProps),i=nn(r.type,i),xy(t,e,r,i,n);case 15:return N0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),bl(t,e),e.tag=1,bt(r)?(t=!0,tu(e)):t=!1,Zi(e,n),x0(e,r,i),Vd(e,r,i,n),Ud(null,e,r,!0,t,n);case 19:return j0(t,e,n);case 22:return L0(t,e,n)}throw Error(U(156,e.tag))};function t1(t,e){return Pw(t,e)}function ZR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new ZR(t,e,n,r)}function kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eA(t){if(typeof t=="function")return kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kf)return 11;if(t===Qf)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")kp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fi:return ti(n.children,i,o,e);case Gf:s=8,i|=8;break;case ad:return t=Kt(12,n,e,i|2),t.elementType=ad,t.lanes=o,t;case ld:return t=Kt(13,n,e,i),t.elementType=ld,t.lanes=o,t;case ud:return t=Kt(19,n,e,i),t.elementType=ud,t.lanes=o,t;case hw:return nc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uw:s=10;break e;case cw:s=9;break e;case Kf:s=11;break e;case Qf:s=14;break e;case ar:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Kt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ti(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function nc(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=hw,t.lanes=n,t.stateNode={isHidden:!1},t}function Oh(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Dh(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bp(t,e,n,r,i,o,s,a,u){return t=new tA(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(o),t}function nA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function n1(t){if(!t)return br;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(bt(n))return n0(t,n,e)}return e}function r1(t,e,n,r,i,o,s,a,u){return t=bp(n,r,!0,t,i,o,s,a,u),t.context=n1(null),n=t.current,r=Et(),i=Tr(n),o=$n(r,i),o.callback=e??null,wr(n,o,i),t.current.lanes=i,pa(t,i,r),xt(t,r),t}function rc(t,e,n,r){var i=e.current,o=Et(),s=Tr(i);return n=n1(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,s),t!==null&&(un(t,i,s,o),Al(t,i,s)),s}function pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function By(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xp(t,e){By(t,e),(t=t.alternate)&&By(t,e)}function rA(){return null}var i1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Op(t){this._internalRoot=t}ic.prototype.render=Op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));rc(t,e,null,null)};ic.prototype.unmount=Op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){rc(null,t,null,null)}),e[Wn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&Vw(t)}};function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hy(){}function iA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=pu(s);o.call(c)}}var s=r1(e,r,t,0,null,!1,!1,"",Hy);return t._reactRootContainer=s,t[Wn]=s.current,qs(t.nodeType===8?t.parentNode:t),ui(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=pu(u);a.call(c)}}var u=bp(t,0,!1,null,null,!1,!1,"",Hy);return t._reactRootContainer=u,t[Wn]=u.current,qs(t.nodeType===8?t.parentNode:t),ui(function(){rc(e,u,n,r)}),u}function sc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=pu(s);a.call(u)}}rc(e,s,t,i)}else s=iA(n,e,t,i,r);return pu(s)}Dw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ps(e.pendingLanes);n!==0&&(Jf(e,n|1),xt(e,Fe()),!(ue&6)&&(mo=Fe()+500,jr()))}break;case 13:ui(function(){var r=Gn(t,1);if(r!==null){var i=Et();un(r,t,1,i)}}),xp(t,1)}};Zf=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=Et();un(e,t,134217728,n)}xp(t,134217728)}};Nw=function(t){if(t.tag===13){var e=Tr(t),n=Gn(t,e);if(n!==null){var r=Et();un(n,t,e,r)}xp(t,e)}};Lw=function(){return de};Mw=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};_d=function(t,e,n){switch(e){case"input":if(dd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xu(r);if(!i)throw Error(U(90));fw(r),dd(r,i)}}}break;case"textarea":mw(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};Tw=Rp;Sw=ui;var oA={usingClientEntryPoint:!1,Events:[ga,zi,Xu,ww,Ew,Rp]},as={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sA={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rw(t),t===null?null:t.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Wu=cl.inject(sA),_n=cl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(e))throw Error(U(200));return nA(t,e,null,n)};$t.createRoot=function(t,e){if(!Dp(t))throw Error(U(299));var n=!1,r="",i=i1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bp(t,1,!1,null,null,n,!1,r,i),t[Wn]=e.current,qs(t.nodeType===8?t.parentNode:t),new Op(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Rw(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return ui(t)};$t.hydrate=function(t,e,n){if(!oc(e))throw Error(U(200));return sc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Dp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=i1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=r1(e,null,t,1,n??null,i,!1,o,s),t[Wn]=e.current,qs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ic(e)};$t.render=function(t,e,n){if(!oc(e))throw Error(U(200));return sc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!oc(t))throw Error(U(40));return t._reactRootContainer?(ui(function(){sc(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};$t.unstable_batchedUpdates=Rp;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return sc(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function o1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o1)}catch(t){console.error(t)}}o1(),ow.exports=$t;var aA=ow.exports,qy=aA;od.createRoot=qy.createRoot,od.hydrateRoot=qy.hydrateRoot;const lA="modulepreload",uA=function(t){return"/"+t},Wy={},cA=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=uA(o),o in Wy)return;Wy[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":lA,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Gy="popstate";function hA(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Jd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ea(i)}return fA(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function Ky(t,e){return{usr:t.state,key:t.key,idx:e}}function Jd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||r||dA()}}function ea({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function fA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",u=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function f(){a="POP";let R=h(),_=R==null?null:R-c;c=R,u&&u({action:a,location:I.location,delta:_})}function p(R,_){a="PUSH";let g=Jd(I.location,R,_);n&&n(g,R),c=h()+1;let w=Ky(g,c),b=I.createHref(g);try{s.pushState(w,"",b)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(b)}o&&u&&u({action:a,location:I.location,delta:1})}function v(R,_){a="REPLACE";let g=Jd(I.location,R,_);n&&n(g,R),c=h();let w=Ky(g,c),b=I.createHref(g);s.replaceState(w,"",b),o&&u&&u({action:a,location:I.location,delta:0})}function S(R){return pA(R)}let I={get action(){return a},get location(){return t(i,s)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gy,f),u=R,()=>{i.removeEventListener(Gy,f),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let _=S(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(R){return s.go(R)}};return I}function pA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ea(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s1(t,e,n="/"){return mA(t,e,n,!1)}function mA(t,e,n,r){let i=typeof e=="string"?xo(e):e,o=Qn(i.pathname||"/",n);if(o==null)return null;let s=a1(t);gA(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=AA(o);a=CA(s[u],c,r)}return a}function a1(t,e=[],n=[],r="",i=!1){let o=(s,a,u=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;xe(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=zn([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(xe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),a1(s.children,e,p,f,u)),!(s.path==null&&!s.index)&&e.push({path:f,score:SA(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,a);else for(let c of l1(s.path))o(s,a,!0,c)}),e}function l1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=l1(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function gA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yA=/^:[\w-]+$/,vA=3,_A=2,wA=1,EA=10,TA=-2,Qy=t=>t==="*";function SA(t,e){let n=t.split("/"),r=n.length;return n.some(Qy)&&(r+=TA),e&&(r+=_A),n.filter(i=>!Qy(i)).reduce((i,o)=>i+(yA.test(o)?vA:o===""?wA:EA),r)}function IA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CA(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=mu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=mu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:zn([o,f.pathname]),pathnameBase:xA(zn([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=zn([o,f.pathnameBase]))}return s}function mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},p)=>{if(h==="*"){let S=a[p]||"";s=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=a[p];return f&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function RA(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:n?n.startsWith("/")?n:kA(n,e):e,search:OA(r),hash:DA(i)}}function kA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u1(t){let e=bA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function c1(t,e,n,r=!1){let i;typeof t=="string"?i=xo(t):(i={...t},xe(!i.pathname||!i.pathname.includes("?"),Nh("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Nh("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Nh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=PA(i,a),c=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var zn=t=>t.join("/").replace(/\/\/+/g,"/"),xA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var h1=["POST","PUT","PATCH","DELETE"];new Set(h1);var LA=["GET",...h1];new Set(LA);var Oo=D.createContext(null);Oo.displayName="DataRouter";var ac=D.createContext(null);ac.displayName="DataRouterState";D.createContext(!1);var d1=D.createContext({isTransitioning:!1});d1.displayName="ViewTransition";var MA=D.createContext(new Map);MA.displayName="Fetchers";var VA=D.createContext(null);VA.displayName="Await";var Pn=D.createContext(null);Pn.displayName="Navigation";var va=D.createContext(null);va.displayName="Location";var kn=D.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Np=D.createContext(null);Np.displayName="RouteError";function FA(t,{relative:e}={}){xe(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Pn),{hash:i,pathname:o,search:s}=wa(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:zn([n,o])),r.createHref({pathname:a,search:s,hash:i})}function _a(){return D.useContext(va)!=null}function vi(){return xe(_a(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(va).location}var f1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(t){D.useContext(Pn).static||D.useLayoutEffect(t)}function m1(){let{isDataRoute:t}=D.useContext(kn);return t?JA():jA()}function jA(){xe(_a(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Oo),{basename:e,navigator:n}=D.useContext(Pn),{matches:r}=D.useContext(kn),{pathname:i}=vi(),o=JSON.stringify(u1(r)),s=D.useRef(!1);return p1(()=>{s.current=!0}),D.useCallback((u,c={})=>{if(Cn(s.current,f1),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=c1(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}D.createContext(null);function UA(){let{matches:t}=D.useContext(kn),e=t[t.length-1];return e?e.params:{}}function wa(t,{relative:e}={}){let{matches:n}=D.useContext(kn),{pathname:r}=vi(),i=JSON.stringify(u1(n));return D.useMemo(()=>c1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $A(t,e){return g1(t,e)}function g1(t,e,n,r,i){var g;xe(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Pn),{matches:s}=D.useContext(kn),a=s[s.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let w=f&&f.path||"";y1(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=vi(),v;if(e){let w=typeof e=="string"?xo(e):e;xe(h==="/"||((g=w.pathname)==null?void 0:g.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=p;let S=v.pathname||"/",I=S;if(h!=="/"){let w=h.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let R=s1(t,{pathname:I});Cn(f||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Cn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=WA(R&&R.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:zn([h,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:zn([h,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r,i);return e&&_?D.createElement(va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function zA(){let t=YA(),e=NA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,s)}var BA=D.createElement(zA,null),HA=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(kn.Provider,{value:this.props.routeContext},D.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qA({routeContext:t,match:e,children:n}){let r=D.useContext(Oo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(kn.Provider,{value:t},n)}function WA(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let c=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let p,v=!1,S=null,I=null;n&&(p=s&&h.route.id?s[h.route.id]:void 0,S=h.route.errorElement||BA,a&&(u<0&&f===0?(y1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,I=null):u===f&&(v=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,f+1)),_=()=>{let g;return p?g=S:v?g=I:h.route.Component?g=D.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,D.createElement(qA,{match:h,routeContext:{outlet:c,matches:R,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(HA,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):_()},null)}function Lp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(t){let e=D.useContext(Oo);return xe(e,Lp(t)),e}function KA(t){let e=D.useContext(ac);return xe(e,Lp(t)),e}function QA(t){let e=D.useContext(kn);return xe(e,Lp(t)),e}function Mp(t){let e=QA(t),n=e.matches[e.matches.length-1];return xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XA(){return Mp("useRouteId")}function YA(){var r;let t=D.useContext(Np),e=KA("useRouteError"),n=Mp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JA(){let{router:t}=GA("useNavigate"),e=Mp("useNavigate"),n=D.useRef(!1);return p1(()=>{n.current=!0}),D.useCallback(async(i,o={})=>{Cn(n.current,f1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Xy={};function y1(t,e,n){!e&&!Xy[t]&&(Xy[t]=!0,Cn(!1,n))}D.memo(ZA);function ZA({routes:t,future:e,state:n,unstable_onError:r}){return g1(t,void 0,n,r,e)}function gs(t){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){xe(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=xo(n));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=n,v=D.useMemo(()=>{let S=Qn(u,s);return S==null?null:{location:{pathname:S,search:c,hash:h,state:f,key:p},navigationType:r}},[s,u,c,h,f,p,r]);return Cn(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement(Pn.Provider,{value:a},D.createElement(va.Provider,{children:e,value:v}))}function tP({children:t,location:e}){return $A(Zd(t),e)}function Zd(t,e=[]){let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Zd(r.props.children,o));return}xe(r.type===gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zd(r.props.children,o)),n.push(s)}),n}var Nl="get",Ll="application/x-www-form-urlencoded";function lc(t){return t!=null&&typeof t.tagName=="string"}function nP(t){return lc(t)&&t.tagName.toLowerCase()==="button"}function rP(t){return lc(t)&&t.tagName.toLowerCase()==="form"}function iP(t){return lc(t)&&t.tagName.toLowerCase()==="input"}function oP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sP(t,e){return t.button===0&&(!e||e==="_self")&&!oP(t)}var hl=null;function aP(){if(hl===null)try{new FormData(document.createElement("form"),0),hl=!1}catch{hl=!0}return hl}var lP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(t){return t!=null&&!lP.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):t}function uP(t,e){let n,r,i,o,s;if(rP(t)){let a=t.getAttribute("action");r=a?Qn(a,e):null,n=t.getAttribute("method")||Nl,i=Lh(t.getAttribute("enctype"))||Ll,o=new FormData(t)}else if(nP(t)||iP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Qn(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Nl,i=Lh(t.getAttribute("formenctype"))||Lh(a.getAttribute("enctype"))||Ll,o=new FormData(a,t),!aP()){let{name:c,type:h,value:f}=t;if(h==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,f)}}else{if(lc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nl,r=null,i=Ll,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Qn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hP(t,e){if(t.id in e)return e[t.id];try{let n=await cA(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dP(t){return t!=null&&typeof t.page=="string"}function fP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pP(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await hP(o,n);return s.links?s.links():[]}return[]}));return vP(r.flat(1).filter(fP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yy(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||a(u,c)):o==="data"?e.filter((u,c)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function mP(t,e,{includeHydrateFallback:n}={}){return gP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gP(t){return[...new Set(t)]}function yP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vP(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!dP(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let a=JSON.stringify(yP(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function v1(){let t=D.useContext(Oo);return Vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _P(){let t=D.useContext(ac);return Vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fp=D.createContext(void 0);Fp.displayName="FrameworkContext";function _1(){let t=D.useContext(Fp);return Vp(t,"You must render this element inside a <HydratedRouter> element"),t}function wP(t,e){let n=D.useContext(Fp),[r,i]=D.useState(!1),[o,s]=D.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,p=D.useRef(null);D.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let I=_=>{_.forEach(g=>{s(g.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),D.useEffect(()=>{if(r){let I=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(I)}}},[r]);let v=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:ls(a,v),onBlur:ls(u,S),onMouseEnter:ls(c,v),onMouseLeave:ls(h,S),onTouchStart:ls(f,v)}]:[!1,p,{}]}function ls(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function EP({page:t,...e}){let{router:n}=v1(),r=D.useMemo(()=>s1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(SP,{page:t,matches:r,...e}):null}function TP(t){let{manifest:e,routeModules:n}=_1(),[r,i]=D.useState([]);return D.useEffect(()=>{let o=!1;return pP(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function SP({page:t,matches:e,...n}){let r=vi(),{manifest:i,routeModules:o}=_1(),{basename:s}=v1(),{loaderData:a,matches:u}=_P(),c=D.useMemo(()=>Yy(t,e,u,i,r,"data"),[t,e,u,i,r]),h=D.useMemo(()=>Yy(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,I=!1;if(e.forEach(_=>{var w;let g=i.routes[_.route.id];!g||!g.hasLoader||(!c.some(b=>b.route.id===_.route.id)&&_.route.id in a&&((w=o[_.route.id])!=null&&w.shouldRevalidate)||g.hasClientLoader?I=!0:S.add(_.route.id))}),S.size===0)return[];let R=cP(t,s,"data");return I&&S.size>0&&R.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[R.pathname+R.search]},[s,a,r,i,c,e,t,o]),p=D.useMemo(()=>mP(h,i),[h,i]),v=TP(h);return D.createElement(D.Fragment,null,f.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),p.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:I})=>D.createElement("link",{key:S,nonce:n.nonce,...I})))}function IP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.8.2")}catch{}function CP({basename:t,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=hA({window:n,v5Compat:!0}));let i=r.current,[o,s]=D.useState({action:i.action,location:i.location}),a=D.useCallback(u=>{D.startTransition(()=>s(u))},[s]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(eP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var E1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f,...p},v){let{basename:S}=D.useContext(Pn),I=typeof c=="string"&&E1.test(c),R,_=!1;if(typeof c=="string"&&I&&(R=c,w1))try{let T=new URL(window.location.href),C=c.startsWith("//")?new URL(T.protocol+c):new URL(c),k=Qn(C.pathname,S);C.origin===T.origin&&k!=null?c=k+C.search+C.hash:_=!0}catch{Cn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=FA(c,{relative:i}),[w,b,L]=wP(r,p),V=PP(c,{replace:s,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function A(T){e&&e(T),T.defaultPrevented||V(T)}let y=D.createElement("a",{...p,...L,href:R||g,onClick:_||o?e:A,ref:IP(v,b),target:u,"data-discover":!I&&n==="render"?"true":void 0});return w&&!I?D.createElement(D.Fragment,null,y,D.createElement(EP,{page:g})):y});go.displayName="Link";var ef=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:u,...c},h){let f=wa(s,{relative:c.relative}),p=vi(),v=D.useContext(ac),{navigator:S,basename:I}=D.useContext(Pn),R=v!=null&&DP(f)&&a===!0,_=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,g=p.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(g=g.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&I&&(w=Qn(w,I)||w);const b=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let L=g===_||!i&&g.startsWith(_)&&g.charAt(b)==="/",V=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),A={isActive:L,isPending:V,isTransitioning:R},y=L?e:void 0,T;typeof r=="function"?T=r(A):T=[r,L?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(A):o;return D.createElement(go,{...c,"aria-current":y,className:T,ref:h,style:C,to:s,viewTransition:a},typeof u=="function"?u(A):u)});ef.displayName="NavLink";var RP=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Nl,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...p},v)=>{let S=xP(),I=OP(a,{relative:c}),R=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&E1.test(a),g=w=>{if(u&&u(w),w.defaultPrevented)return;w.preventDefault();let b=w.nativeEvent.submitter,L=(b==null?void 0:b.getAttribute("formmethod"))||s;S(b||w.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:o,relative:c,preventScrollReset:h,viewTransition:f})};return D.createElement("form",{ref:v,method:R,action:I,onSubmit:r?u:g,...p,"data-discover":!_&&t==="render"?"true":void 0})});RP.displayName="Form";function AP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(t){let e=D.useContext(Oo);return xe(e,AP(t)),e}function PP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=m1(),u=vi(),c=wa(t,{relative:o});return D.useCallback(h=>{if(sP(h,e)){h.preventDefault();let f=n!==void 0?n:ea(u)===ea(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,a,c,n,r,e,t,i,o,s])}var kP=0,bP=()=>`__${String(++kP)}__`;function xP(){let{router:t}=T1("useSubmit"),{basename:e}=D.useContext(Pn),n=XA();return D.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:u,body:c}=uP(r,e);if(i.navigate===!1){let h=i.fetcherKey||bP();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function OP(t,{relative:e}={}){let{basename:n}=D.useContext(Pn),r=D.useContext(kn);xe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...wa(t||".",{relative:e})},s=vi();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:zn([n,o.pathname])),ea(o)}function DP(t,{relative:e}={}){let n=D.useContext(d1);xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T1("useViewTransitionState"),i=wa(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mu(i.pathname,s)!=null||mu(i.pathname,o)!=null}var S1={},I1={},uc={},C1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(C1);var NP="Expected a function",Jy=0/0,LP="[object Symbol]",MP=/^\s+|\s+$/g,VP=/^[-+]0x[0-9a-f]+$/i,FP=/^0b[01]+$/i,jP=/^0o[0-7]+$/i,UP=parseInt,$P=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,zP=typeof self=="object"&&self&&self.Object===Object&&self,BP=$P||zP||Function("return this")(),HP=Object.prototype,qP=HP.toString,WP=Math.max,GP=Math.min,Mh=function(){return BP.Date.now()};function KP(t,e,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(NP);e=Zy(e)||0,tf(n)&&(h=!!n.leading,f="maxWait"in n,o=f?WP(Zy(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function v(V){var A=r,y=i;return r=i=void 0,c=V,s=t.apply(y,A),s}function S(V){return c=V,a=setTimeout(_,e),h?v(V):s}function I(V){var A=V-u,y=V-c,T=e-A;return f?GP(T,o-y):T}function R(V){var A=V-u,y=V-c;return u===void 0||A>=e||A<0||f&&y>=o}function _(){var V=Mh();if(R(V))return g(V);a=setTimeout(_,I(V))}function g(V){return a=void 0,p&&r?v(V):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function b(){return a===void 0?s:g(Mh())}function L(){var V=Mh(),A=R(V);if(r=arguments,i=this,u=V,A){if(a===void 0)return S(u);if(f)return a=setTimeout(_,e),v(u)}return a===void 0&&(a=setTimeout(_,e)),s}return L.cancel=w,L.flush=b,L}function tf(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function QP(t){return!!t&&typeof t=="object"}function XP(t){return typeof t=="symbol"||QP(t)&&qP.call(t)==LP}function Zy(t){if(typeof t=="number")return t;if(XP(t))return Jy;if(tf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(MP,"");var n=FP.test(t);return n||jP.test(t)?UP(t.slice(2),n?2:8):VP.test(t)?Jy:+t}var YP=KP,R1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(R1);var cc=R1.exports,B={},jp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(D);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(jp);Object.defineProperty(B,"__esModule",{value:!0});B.checkSpecKeys=B.checkNavigable=B.changeSlide=B.canUseDOM=B.canGoNext=void 0;B.clamp=P1;B.extractObject=void 0;B.filterSettings=dk;B.validSettings=B.swipeStart=B.swipeMove=B.swipeEnd=B.slidesOnRight=B.slidesOnLeft=B.slideHandler=B.siblingDirection=B.safePreventDefault=B.lazyStartIndex=B.lazySlidesOnRight=B.lazySlidesOnLeft=B.lazyEndIndex=B.keyHandler=B.initializedState=B.getWidth=B.getTrackLeft=B.getTrackCSS=B.getTrackAnimateCSS=B.getTotalSlides=B.getSwipeDirection=B.getSlideCount=B.getRequiredLazySlides=B.getPreClones=B.getPostClones=B.getOnDemandLazySlides=B.getNavigableIndexes=B.getHeight=void 0;var JP=A1(D),ZP=A1(jp);function A1(t){return t&&t.__esModule?t:{default:t}}function ta(t){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(t)}function ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(n),!0).forEach(function(r){ek(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ek(t,e,n){return(e=tk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tk(t){var e=nk(t,"string");return ta(e)=="symbol"?e:e+""}function nk(t,e){if(ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P1(t,e,n){return Math.max(e,Math.min(t,n))}var to=B.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},k1=B.getOnDemandLazySlides=function(e){for(var n=[],r=b1(e),i=x1(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};B.getRequiredLazySlides=function(e){for(var n=[],r=b1(e),i=x1(e),o=r;o<i;o++)n.push(o);return n};var b1=B.lazyStartIndex=function(e){return e.currentSlide-rk(e)},x1=B.lazyEndIndex=function(e){return e.currentSlide+ik(e)},rk=B.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},ik=B.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},nf=B.getWidth=function(e){return e&&e.offsetWidth||0},O1=B.getHeight=function(e){return e&&e.offsetHeight||0},D1=B.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},N1=B.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};B.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};B.initializedState=function(e){var n=JP.default.Children.count(e.children),r=e.listRef,i=Math.ceil(nf(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(nf(o)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&O1(r.querySelector('[data-index="0"]')),h=c*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],v=k1(Ie(Ie({},e),{},{currentSlide:f,lazyLoadedList:p}));p=p.concat(v);var S={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:f,slideHeight:c,listHeight:h,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(S.autoplaying="playing"),S};B.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,h=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,S=e.lazyLoadedList;if(n&&r)return{};var I=s,R,_,g,w={},b={},L=o?s:P1(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?I=s+a:s>=a&&(I=s-a),u&&S.indexOf(I)<0&&(S=S.concat(I)),w={animating:!0,currentSlide:I,lazyLoadedList:S,targetSlide:I},b={animating:!1,targetSlide:I}}else R=I,I<0?(R=I+a,o?a%f!==0&&(R=a-a%f):R=0):!N1(e)&&I>c?I=R=c:h&&I>=a?(I=o?a:a-1,R=o?0:a-1):I>=a&&(R=I-a,o?a%f!==0&&(R=0):R=a-p),!o&&I+p>=a&&(R=a-p),_=yu(Ie(Ie({},e),{},{slideIndex:I})),g=yu(Ie(Ie({},e),{},{slideIndex:R})),o||(_===g&&(I=R),_=g),u&&(S=S.concat(k1(Ie(Ie({},e),{},{currentSlide:I})))),v?(w={animating:!0,currentSlide:R,trackStyle:L1(Ie(Ie({},e),{},{left:_})),lazyLoadedList:S,targetSlide:L},b={animating:!1,currentSlide:R,trackStyle:gu(Ie(Ie({},e),{},{left:g})),swipeLeft:null,targetSlide:L}):w={currentSlide:R,trackStyle:gu(Ie(Ie({},e),{},{left:g})),lazyLoadedList:S,targetSlide:L};return{state:w,nextState:b}};B.changeSlide=function(e,n){var r,i,o,s,a,u=e.slidesToScroll,c=e.slidesToShow,h=e.slideCount,f=e.currentSlide,p=e.targetSlide,v=e.lazyLoad,S=e.infinite;if(s=h%u!==0,r=s?0:(h-f)%u,n.message==="previous")o=r===0?u:c-r,a=f-o,v&&!S&&(i=f-o,a=i===-1?h-1:i),S||(a=p-u);else if(n.message==="next")o=r===0?u:r,a=f+o,v&&!S&&(a=(f+u)%h+r),S||(a=p+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,S){var I=lk(Ie(Ie({},e),{},{targetSlide:a}));a>n.currentSlide&&I==="left"?a=a-h:a<n.currentSlide&&I==="right"&&(a=a+h)}}else n.message==="index"&&(a=Number(n.index));return a};B.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};B.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&to(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};B.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,h=n.edgeFriction,f=n.edgeDragged,p=n.onEdge,v=n.swiped,S=n.swiping,I=n.slideCount,R=n.slidesToScroll,_=n.infinite,g=n.touchObject,w=n.swipeEvent,b=n.listHeight,L=n.listWidth;if(!r){if(i)return to(e);o&&s&&a&&to(e);var V,A={},y=yu(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var T=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!S&&T>10)return{scrolling:!0};a&&(g.swipeLength=T);var C=(u?-1:1)*(g.curX>g.startX?1:-1);a&&(C=g.curY>g.startY?1:-1);var k=Math.ceil(I/R),x=D1(n.touchObject,a),P=g.swipeLength;return _||(c===0&&(x==="right"||x==="down")||c+1>=k&&(x==="left"||x==="up")||!N1(n)&&(x==="left"||x==="up"))&&(P=g.swipeLength*h,f===!1&&p&&(p(x),A.edgeDragged=!0)),!v&&w&&(w(x),A.swiped=!0),o?V=y+P*(b/L)*C:u?V=y-P*C:V=y+P*C,a&&(V=y+P*C),A=Ie(Ie({},A),{},{touchObject:g,swipeLeft:V,trackStyle:gu(Ie(Ie({},n),{},{left:V}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(A.swiping=!0,to(e)),A}};B.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,h=n.swipeToSlide,f=n.scrolling,p=n.onSwipe,v=n.targetSlide,S=n.currentSlide,I=n.infinite;if(!r)return i&&to(e),{};var R=u?c/a:s/a,_=D1(o,u),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!o.swipeLength)return g;if(o.swipeLength>R){to(e),p&&p(_);var w,b,L=I?S:v;switch(_){case"left":case"up":b=L+nv(n),w=h?tv(n,b):b,g.currentDirection=0;break;case"right":case"down":b=L-nv(n),w=h?tv(n,b):b,g.currentDirection=1;break;default:w=L}g.triggerSlideHandler=w}else{var V=yu(n);g.trackStyle=L1(Ie(Ie({},n),{},{left:V}))}return g};var ok=B.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},tv=B.checkNavigable=function(e,n){var r=ok(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},nv=B.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(u){if(e.vertical){if(u.offsetTop+O1(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+nf(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},Up=B.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},gu=B.getTrackCSS=function(e){Up(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=ak(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Ie(Ie({},o),{},{WebkitTransform:s,transform:a,msTransform:u})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},L1=B.getTrackAnimateCSS=function(e){Up(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=gu(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},yu=B.getTrackLeft=function(e){if(e.unslick)return 0;Up(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,h=e.listWidth,f=e.variableWidth,p=e.slideHeight,v=e.fade,S=e.vertical,I=0,R,_,g=0;if(v||e.slideCount===1)return 0;var w=0;if(i?(w=-Ml(e),s%u!==0&&n+u>s&&(w=-(n>s?a-(n-s):s%u)),o&&(w+=parseInt(a/2))):(s%u!==0&&n+u>s&&(w=a-s%u),o&&(w=parseInt(a/2))),I=w*c,g=w*p,S?R=n*p*-1+g:R=n*c*-1+I,f===!0){var b,L=r&&r.node;if(b=n+Ml(e),_=L&&L.childNodes[b],R=_?_.offsetLeft*-1:0,o===!0){b=i?n+Ml(e):n,_=L&&L.children[b],R=0;for(var V=0;V<b;V++)R-=L&&L.children[V]&&L.children[V].offsetWidth;R-=parseInt(e.centerPadding),R+=_&&(h-_.offsetWidth)/2}}return R},Ml=B.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},sk=B.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},ak=B.getTotalSlides=function(e){return e.slideCount===1?1:Ml(e)+e.slideCount+sk(e)},lk=B.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+uk(e)?"left":"right":e.targetSlide<e.currentSlide-ck(e)?"right":"left"},uk=B.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},ck=B.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};B.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var hk=B.validSettings=Object.keys(ZP.default);function dk(t){return hk.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.Track=void 0;var ur=M1(D),Vh=M1(cc),dl=B;function M1(t){return t&&t.__esModule?t:{default:t}}function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(null,arguments)}function fk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F1(r.key),r)}}function pk(t,e,n){return e&&rv(t.prototype,e),n&&rv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&of(t,e)}function of(t,e){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},of(t,e)}function gk(t){var e=V1();return function(){var n,r=vu(t);if(e){var i=vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yk(this,n)}}function yk(t,e){if(e&&(yo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(t)}function sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V1=function(){return!!t})()}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(t)}function iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iv(Object(n),!0).forEach(function(r){af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function af(t,e,n){return(e=F1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1(t){var e=vk(t,"string");return yo(e)=="symbol"?e:e+""}function vk(t,e){if(yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fh=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},_k=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},jh=function(e,n){return e.key||n},wk=function(e){var n,r=[],i=[],o=[],s=ur.default.Children.count(e.children),a=(0,dl.lazyStartIndex)(e),u=(0,dl.lazyEndIndex)(e);return ur.default.Children.forEach(e.children,function(c,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f=c:f=ur.default.createElement("div",null);var v=_k(It(It({},e),{},{index:h})),S=f.props.className||"",I=Fh(It(It({},e),{},{index:h}));if(r.push(ur.default.cloneElement(f,{key:"original"+jh(f,h),"data-index":h,className:(0,Vh.default)(I,S),tabIndex:"-1","aria-hidden":!I["slick-active"],style:It(It({outline:"none"},f.props.style||{}),v),onClick:function(g){f.props&&f.props.onClick&&f.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&s>1&&e.fade===!1&&!e.unslick){var R=s-h;R<=(0,dl.getPreClones)(e)&&(n=-R,n>=a&&(f=c),I=Fh(It(It({},e),{},{index:n})),i.push(ur.default.cloneElement(f,{key:"precloned"+jh(f,n),"data-index":n,tabIndex:"-1",className:(0,Vh.default)(I,S),"aria-hidden":!I["slick-active"],style:It(It({},f.props.style||{}),v),onClick:function(g){f.props&&f.props.onClick&&f.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(p)}}))),h<(0,dl.getPostClones)(e)&&(n=s+h,n<u&&(f=c),I=Fh(It(It({},e),{},{index:n})),o.push(ur.default.cloneElement(f,{key:"postcloned"+jh(f,n),"data-index":n,tabIndex:"-1",className:(0,Vh.default)(I,S),"aria-hidden":!I["slick-active"],style:It(It({},f.props.style||{}),v),onClick:function(g){f.props&&f.props.onClick&&f.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(p)}})))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};hc.Track=function(t){mk(n,t);var e=gk(n);function n(){var r;fk(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),af(sf(r),"node",null),af(sf(r),"handleRef",function(a){r.node=a}),r}return pk(n,[{key:"render",value:function(){var i=wk(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,u=o.onMouseLeave,c={onMouseEnter:s,onMouseOver:a,onMouseLeave:u};return ur.default.createElement("div",rf({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(ur.default.PureComponent);var dc={};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}Object.defineProperty(dc,"__esModule",{value:!0});dc.Dots=void 0;var fl=j1(D),Ek=j1(cc),ov=B;function j1(t){return t&&t.__esModule?t:{default:t}}function sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sv(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sk(t,e,n){return(e=U1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ik(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U1(r.key),r)}}function Ck(t,e,n){return e&&av(t.prototype,e),n&&av(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1(t){var e=Rk(t,"string");return vo(e)=="symbol"?e:e+""}function Rk(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ak(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lf(t,e)}function lf(t,e){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},lf(t,e)}function Pk(t){var e=$1();return function(){var n,r=_u(t);if(e){var i=_u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kk(this,n)}}function kk(t,e){if(e&&(vo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bk(t)}function bk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($1=function(){return!!t})()}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_u(t)}var xk=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};dc.Dots=function(t){Ak(n,t);var e=Pk(n);function n(){return Ik(this,n),e.apply(this,arguments)}return Ck(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,h=i.slidesToShow,f=i.slideCount,p=i.currentSlide,v=xk({slideCount:f,slidesToScroll:c,slidesToShow:h,infinite:u}),S={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},I=[],R=0;R<v;R++){var _=(R+1)*c-1,g=u?_:(0,ov.clamp)(_,0,f-1),w=g-(c-1),b=u?w:(0,ov.clamp)(w,0,f-1),L=(0,Ek.default)({"slick-active":u?p>=b&&p<=g:p===b}),V={message:"dots",index:R,slidesToScroll:c,currentSlide:p},A=this.clickHandler.bind(this,V);I=I.concat(fl.default.createElement("li",{key:R,className:L},fl.default.cloneElement(this.props.customPaging(R),{onClick:A})))}return fl.default.cloneElement(this.props.appendDots(I),Tk({className:this.props.dotsClass},S))}}]),n}(fl.default.PureComponent);var _o={};function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}Object.defineProperty(_o,"__esModule",{value:!0});_o.PrevArrow=_o.NextArrow=void 0;var no=B1(D),z1=B1(cc),Ok=B;function B1(t){return t&&t.__esModule?t:{default:t}}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(null,arguments)}function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(r){Dk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dk(t,e,n){return(e=W1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W1(r.key),r)}}function q1(t,e,n){return e&&uv(t.prototype,e),n&&uv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W1(t){var e=Nk(t,"string");return wo(e)=="symbol"?e:e+""}function Nk(t,e){if(wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uf(t,e)}function uf(t,e){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uf(t,e)}function K1(t){var e=Q1();return function(){var n,r=Tu(t);if(e){var i=Tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lk(this,n)}}function Lk(t,e){if(e&&(wo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mk(t)}function Mk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q1=function(){return!!t})()}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tu(t)}_o.PrevArrow=function(t){G1(n,t);var e=K1(n);function n(){return H1(this,n),e.apply(this,arguments)}return q1(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,z1.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=no.default.cloneElement(this.props.prevArrow,Eu(Eu({},s),a)):u=no.default.createElement("button",wu({key:"0",type:"button"},s)," ","Previous"),u}}]),n}(no.default.PureComponent);_o.NextArrow=function(t){G1(n,t);var e=K1(n);function n(){return H1(this,n),e.apply(this,arguments)}return q1(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,Ok.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,z1.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=no.default.cloneElement(this.props.nextArrow,Eu(Eu({},s),a)):u=no.default.createElement("button",wu({key:"1",type:"button"},s)," ","Next"),u}}]),n}(no.default.PureComponent);var X1=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),cf=typeof window<"u"&&typeof document<"u"&&window.document===document,Su=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Vk=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Su):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Fk=2;function jk(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){Vk(o)}function a(){var u=Date.now();if(n){if(u-i<Fk)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=u}return a}var Uk=20,$k=["top","right","bottom","left","width","height","size","weight"],zk=typeof MutationObserver<"u",Bk=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=jk(this.refresh.bind(this),Uk)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!cf||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),zk?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!cf||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=$k.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Y1=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Eo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Su},J1=fc(0,0,0,0);function Iu(t){return parseFloat(t)||0}function cv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Iu(o)},0)}function Hk(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Iu(s)}return n}function qk(t){var e=t.getBBox();return fc(0,0,e.width,e.height)}function Wk(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return J1;var r=Eo(t).getComputedStyle(t),i=Hk(r),o=i.left+i.right,s=i.top+i.bottom,a=Iu(r.width),u=Iu(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=cv(r,"left","right")+o),Math.round(u+s)!==n&&(u-=cv(r,"top","bottom")+s)),!Kk(t)){var c=Math.round(a+o)-e,h=Math.round(u+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(h)!==1&&(u-=h)}return fc(i.left,i.top,a,u)}var Gk=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Eo(t).SVGGraphicsElement}:function(t){return t instanceof Eo(t).SVGElement&&typeof t.getBBox=="function"}}();function Kk(t){return t===Eo(t).document.documentElement}function Qk(t){return cf?Gk(t)?qk(t):Wk(t):J1}function Xk(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Y1(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function fc(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Yk=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fc(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Qk(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Jk=function(){function t(e,n){var r=Xk(n);Y1(this,{target:e,contentRect:r})}return t}(),Zk=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new X1,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Yk(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Jk(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Z1=typeof WeakMap<"u"?new WeakMap:new X1,eE=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Bk.getInstance(),r=new Zk(e,n,this);Z1.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){eE.prototype[t]=function(){var e;return(e=Z1.get(this))[t].apply(e,arguments)}});var eb=function(){return typeof Su.ResizeObserver<"u"?Su.ResizeObserver:eE}();const tb=Object.freeze(Object.defineProperty({__proto__:null,default:eb},Symbol.toStringTag,{value:"Module"})),nb=LI(tb);Object.defineProperty(uc,"__esModule",{value:!0});uc.InnerSlider=void 0;var vt=Ea(D),rb=Ea(C1),ib=Ea(YP),ob=Ea(cc),Pe=B,sb=hc,ab=dc,hv=_o,lb=Ea(nb);function Ea(t){return t&&t.__esModule?t:{default:t}}function ci(t){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(t)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(null,arguments)}function ub(t,e){if(t==null)return{};var n,r,i=cb(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dv(Object(n),!0).forEach(function(r){te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nE(r.key),r)}}function db(t,e,n){return e&&fv(t.prototype,e),n&&fv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hf(t,e)}function hf(t,e){return hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hf(t,e)}function pb(t){var e=tE();return function(){var n,r=Ru(t);if(e){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mb(this,n)}}function mb(t,e){if(e&&(ci(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(t)}function ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tE=function(){return!!t})()}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(t)}function te(t,e,n){return(e=nE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nE(t){var e=gb(t,"string");return ci(e)=="symbol"?e:e+""}function gb(t,e){if(ci(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ci(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}uc.InnerSlider=function(t){fb(n,t);var e=pb(n);function n(r){var i;hb(this,n),i=e.call(this,r),te(ee(i),"listRefHandler",function(s){return i.list=s}),te(ee(i),"trackRefHandler",function(s){return i.track=s}),te(ee(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Pe.getHeight)(s)+"px"}}),te(ee(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,Pe.getOnDemandLazySlides)(K(K({},i.props),i.state));s.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=K({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new lb.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),te(ee(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),te(ee(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Pe.getOnDemandLazySlides)(K(K({},i.props),i.state));a.length>0&&(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=K(K({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(s);c&&i.updateState(u,c,function(){i.state.currentSlide>=vt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:vt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),te(ee(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,ib.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),te(ee(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=K(K({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),te(ee(i),"updateState",function(s,a,u){var c=(0,Pe.initializedState)(s);s=K(K(K({},s),c),{},{slideIndex:c.currentSlide});var h=(0,Pe.getTrackLeft)(s);s=K(K({},s),{},{left:h});var f=(0,Pe.getTrackCSS)(s);(a||vt.default.Children.count(i.props.children)!==vt.default.Children.count(s.children))&&(c.trackStyle=f),i.setState(c,u)}),te(ee(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,u=[],c=(0,Pe.getPreClones)(K(K(K({},i.props),i.state),{},{slideCount:i.props.children.length})),h=(0,Pe.getPostClones)(K(K(K({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(A){u.push(A.props.style.width),s+=A.props.style.width});for(var f=0;f<c;f++)a+=u[u.length-1-f],s+=u[u.length-1-f];for(var p=0;p<h;p++)s+=u[p];for(var v=0;v<i.state.currentSlide;v++)a+=u[v];var S={width:s+"px",left:-a+"px"};if(i.props.centerMode){var I="".concat(u[i.state.currentSlide],"px");S.left="calc(".concat(S.left," + (100% - ").concat(I,") / 2 ) ")}return{trackStyle:S}}var R=vt.default.Children.count(i.props.children),_=K(K(K({},i.props),i.state),{},{slideCount:R}),g=(0,Pe.getPreClones)(_)+(0,Pe.getPostClones)(_)+R,w=100/i.props.slidesToShow*g,b=100/g,L=-b*((0,Pe.getPreClones)(_)+i.state.currentSlide)*w/100;i.props.centerMode&&(L+=(100-b*w/100)/2);var V={width:w+"%",left:L+"%"};return{slideWidth:b+"%",trackStyle:V}}),te(ee(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,u=0;Array.prototype.forEach.call(s,function(c){var h=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var f=c.onclick;c.onclick=function(p){f(p),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=h,c.onerror=function(){h(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),te(ee(i),"progressiveLazyLoad",function(){for(var s=[],a=K(K({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Pe.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Pe.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){s.push(c);break}s.length>0?(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),te(ee(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,h=u.beforeChange,f=u.onLazyLoad,p=u.speed,v=u.afterChange,S=i.state.currentSlide,I=(0,Pe.slideHandler)(K(K(K({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),R=I.state,_=I.nextState;if(R){h&&h(S,R.currentSlide);var g=R.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});f&&g.length>0&&f(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),v&&v(S),delete i.animationEndCallback),i.setState(R,function(){c&&i.asNavForIndex!==s&&(i.asNavForIndex=s,c.innerSlider.slideHandler(s)),_&&(i.animationEndCallback=setTimeout(function(){var w=_.animating,b=ub(_,["animating"]);i.setState(b,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),v&&v(R.currentSlide),delete i.animationEndCallback})},p))})}}),te(ee(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=K(K({},i.props),i.state),c=(0,Pe.changeSlide)(u,s);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var h=i.list.querySelectorAll(".slick-current");h[0]&&h[0].focus()}}),te(ee(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),te(ee(i),"keyHandler",function(s){var a=(0,Pe.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),te(ee(i),"selectHandler",function(s){i.changeSlide(s)}),te(ee(i),"disableBodyScroll",function(){var s=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=s}),te(ee(i),"enableBodyScroll",function(){window.ontouchmove=null}),te(ee(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Pe.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),te(ee(i),"swipeMove",function(s){var a=(0,Pe.swipeMove)(s,K(K(K({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),te(ee(i),"swipeEnd",function(s){var a=(0,Pe.swipeEnd)(s,K(K(K({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),te(ee(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),te(ee(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),te(ee(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),te(ee(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),te(ee(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,Pe.canGoNext)(K(K({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),te(ee(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),te(ee(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),te(ee(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),te(ee(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),te(ee(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),te(ee(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),te(ee(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),te(ee(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),te(ee(i),"render",function(){var s=(0,ob.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=K(K({},i.props),i.state),u=(0,Pe.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=K(K({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var h;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Pe.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;f=K(K({},f),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),h=vt.default.createElement(ab.Dots,f)}var v,S,I=(0,Pe.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);I.clickHandler=i.changeSlide,i.props.arrows&&(v=vt.default.createElement(hv.PrevArrow,I),S=vt.default.createElement(hv.NextArrow,I));var R=null;i.props.vertical&&(R={height:i.state.listHeight});var _=null;i.props.vertical===!1?i.props.centerMode===!0&&(_={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(_={padding:i.props.centerPadding+" 0px"});var g=K(K({},R),_),w=i.props.touchMove,b={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},L={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(b={className:"slick-list"},L={className:s,style:i.props.style}),vt.default.createElement("div",L,i.props.unslick?"":v,vt.default.createElement("div",Cu({ref:i.listRefHandler},b),vt.default.createElement(sb.Track,Cu({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":S,i.props.unslick?"":h)}),i.list=null,i.track=null,i.state=K(K({},rb.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:vt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=K(K({},i.state),o),i}return db(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var u=a[s];if(!i.hasOwnProperty(u)){o=!0;break}if(!(ci(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){o=!0;break}}return o||vt.default.Children.count(this.props.children)!==vt.default.Children.count(i.children)}}]),n}(vt.default.Component);var yb=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},vb=yb,_b=vb,wb=function(t){var e=/[height|width]$/;return e.test(t)},pv=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=_b(r),wb(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},Eb=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=pv(n),r<t.length-1&&(e+=", ")}),e):pv(t)},Tb=Eb;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(D),n=uc,r=s(Tb),i=s(jp),o=B;function s(y){return y&&y.__esModule?y:{default:y}}function a(y){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(y)}function u(){return u=Object.assign?Object.assign.bind():function(y){for(var T=1;T<arguments.length;T++){var C=arguments[T];for(var k in C)({}).hasOwnProperty.call(C,k)&&(y[k]=C[k])}return y},u.apply(null,arguments)}function c(y,T){var C=Object.keys(y);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(y);T&&(k=k.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),C.push.apply(C,k)}return C}function h(y){for(var T=1;T<arguments.length;T++){var C=arguments[T]!=null?arguments[T]:{};T%2?c(Object(C),!0).forEach(function(k){L(y,k,C[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(C)):c(Object(C)).forEach(function(k){Object.defineProperty(y,k,Object.getOwnPropertyDescriptor(C,k))})}return y}function f(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}function p(y,T){for(var C=0;C<T.length;C++){var k=T[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(y,V(k.key),k)}}function v(y,T,C){return T&&p(y.prototype,T),C&&p(y,C),Object.defineProperty(y,"prototype",{writable:!1}),y}function S(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),T&&I(y,T)}function I(y,T){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,k){return C.__proto__=k,C},I(y,T)}function R(y){var T=w();return function(){var C,k=b(y);if(T){var x=b(this).constructor;C=Reflect.construct(k,arguments,x)}else C=k.apply(this,arguments);return _(this,C)}}function _(y,T){if(T&&(a(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(y)}function g(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function w(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!y})()}function b(y){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},b(y)}function L(y,T,C){return(T=V(T))in y?Object.defineProperty(y,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[T]=C,y}function V(y){var T=A(y,"string");return a(T)=="symbol"?T:T+""}function A(y,T){if(a(y)!="object"||!y)return y;var C=y[Symbol.toPrimitive];if(C!==void 0){var k=C.call(y,T||"default");if(a(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(y)}t.default=function(y){S(C,y);var T=R(C);function C(k){var x;return f(this,C),x=T.call(this,k),L(g(x),"innerSliderRefHandler",function(P){return x.innerSlider=P}),L(g(x),"slickPrev",function(){return x.innerSlider.slickPrev()}),L(g(x),"slickNext",function(){return x.innerSlider.slickNext()}),L(g(x),"slickGoTo",function(P){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return x.innerSlider.slickGoTo(P,Re)}),L(g(x),"slickPause",function(){return x.innerSlider.pause("paused")}),L(g(x),"slickPlay",function(){return x.innerSlider.autoPlay("play")}),x.state={breakpoint:null},x._responsiveMediaHandlers=[],x}return v(C,[{key:"media",value:function(x,P){var Re=window.matchMedia(x),fe=function(Ge){var $=Ge.matches;$&&P()};Re.addListener(fe),this._responsiveMediaHandlers.push({mql:Re,query:x,listener:fe})}},{key:"componentDidMount",value:function(){var x=this;if(this.props.responsive){var P=this.props.responsive.map(function(fe){return fe.breakpoint});P.sort(function(fe,it){return fe-it}),P.forEach(function(fe,it){var Ge;it===0?Ge=(0,r.default)({minWidth:0,maxWidth:fe}):Ge=(0,r.default)({minWidth:P[it-1]+1,maxWidth:fe}),(0,o.canUseDOM)()&&x.media(Ge,function(){x.setState({breakpoint:fe})})});var Re=(0,r.default)({minWidth:P.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Re,function(){x.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(x){x.mql.removeListener(x.listener)})}},{key:"render",value:function(){var x=this,P,Re;this.state.breakpoint?(Re=this.props.responsive.filter(function(mt){return mt.breakpoint===x.state.breakpoint}),P=Re[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),Re[0].settings)):P=h(h({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var fe=e.default.Children.toArray(this.props.children);fe=fe.filter(function(mt){return typeof mt=="string"?!!mt.trim():!!mt}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var it=[],Ge=null,$=0;$<fe.length;$+=P.rows*P.slidesPerRow){for(var Q=[],Y=$;Y<$+P.rows*P.slidesPerRow;Y+=P.slidesPerRow){for(var me=[],se=Y;se<Y+P.slidesPerRow&&(P.variableWidth&&fe[se].props.style&&(Ge=fe[se].props.style.width),!(se>=fe.length));se+=1)me.push(e.default.cloneElement(fe[se],{key:100*$+10*Y+se,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));Q.push(e.default.createElement("div",{key:10*$+Y},me))}P.variableWidth?it.push(e.default.createElement("div",{key:$,style:{width:Ge}},Q)):it.push(e.default.createElement("div",{key:$},Q))}if(P==="unslick"){var Ae="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Ae},fe)}else it.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(P)),it)}}]),C}(e.default.Component)})(I1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(I1);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(S1);const Sb=da(S1),Ib=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Cb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;u||(v=64,s||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Rb;const p=o<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(t){const e=rE(t);return iE.encodeByteArray(e,!0)},Au=function(t){return Ab(t).replace(/\./g,"")},Pb=function(t){try{return iE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=()=>kb().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ob=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pb(t[1]);return e&&JSON.parse(e)},$p=()=>{try{return Ib()||bb()||xb()||Ob()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Db=t=>{var e,n;return(n=(e=$p())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oE=t=>{const e=Db(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sE=()=>{var t;return(t=$p())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Au(JSON.stringify(n)),Au(JSON.stringify(s)),a].join(".")}const bs={};function Lb(){const t={prod:[],emulator:[]};for(const e of Object.keys(bs))bs[e]?t.emulator.push(e):t.prod.push(e);return t}function Mb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mv=!1;function uE(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||bs[t]===e||bs[t]||mv)return;bs[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=Lb().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{mv=!0,s()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Mb(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),g=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),h(R,I);const b=c();u(g,_),w.append(g,S,R,b),document.body.appendChild(w)}o?(S.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){var e;const t=(e=$p())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ub(){return!Fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cE(){try{return typeof indexedDB=="object"}catch{return!1}}function hE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function $b(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zb,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Bb(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tr(i,a,r)}}function Bb(t,e){return t.replace(Hb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hb=/\{\$([^}]+)}/g;function na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(gv(o)&&gv(s)){if(!na(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1e3,Wb=2,Gb=4*60*60*1e3,Kb=.5;function yv(t,e=qb,n=Wb){const r=e*Math.pow(n,t),i=Math.round(Kb*r*(Math.random()-.5)*2);return Math.min(Gb,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yb(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(t){return t===Gr?void 0:t}function Yb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const Zb={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ex=le.INFO,tx={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},nx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=ex,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const rx=(t,e)=>e.some(n=>t instanceof n);let vv,_v;function ix(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,df=new WeakMap,fE=new WeakMap,Uh=new WeakMap,Bp=new WeakMap;function sx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&dE.set(n,t)}).catch(()=>{}),Bp.set(e,t),e}function ax(t){if(df.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});df.set(t,e)}let ff={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return df.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lx(t){ff=t(ff)}function ux(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($h(this),e,...n);return fE.set(r,e.sort?e.sort():[e]),Ir(r)}:ox().includes(t)?function(...e){return t.apply($h(this),e),Ir(dE.get(this))}:function(...e){return Ir(t.apply($h(this),e))}}function cx(t){return typeof t=="function"?ux(t):(t instanceof IDBTransaction&&ax(t),rx(t,ix())?new Proxy(t,ff):t)}function Ir(t){if(t instanceof IDBRequest)return sx(t);if(Uh.has(t))return Uh.get(t);const e=cx(t);return e!==t&&(Uh.set(t,e),Bp.set(e,t)),e}const $h=t=>Bp.get(t);function pE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ir(s.result),u.oldVersion,u.newVersion,Ir(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hx=["get","getKey","getAll","getAllKeys","count"],dx=["put","add","delete","clear"],zh=new Map;function wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hx.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return zh.set(e,o),o}lx(t=>({...t,get:(e,n,r)=>wv(e,n)||t.get(e,n,r),has:(e,n)=>!!wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(px(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function px(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",Ev="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new zp("@firebase/app"),mx="@firebase/app-compat",gx="@firebase/analytics-compat",yx="@firebase/analytics",vx="@firebase/app-check-compat",_x="@firebase/app-check",wx="@firebase/auth",Ex="@firebase/auth-compat",Tx="@firebase/database",Sx="@firebase/data-connect",Ix="@firebase/database-compat",Cx="@firebase/functions",Rx="@firebase/functions-compat",Ax="@firebase/installations",Px="@firebase/installations-compat",kx="@firebase/messaging",bx="@firebase/messaging-compat",xx="@firebase/performance",Ox="@firebase/performance-compat",Dx="@firebase/remote-config",Nx="@firebase/remote-config-compat",Lx="@firebase/storage",Mx="@firebase/storage-compat",Vx="@firebase/firestore",Fx="@firebase/ai",jx="@firebase/firestore-compat",Ux="firebase",$x="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",zx={[pf]:"fire-core",[mx]:"fire-core-compat",[yx]:"fire-analytics",[gx]:"fire-analytics-compat",[_x]:"fire-app-check",[vx]:"fire-app-check-compat",[wx]:"fire-auth",[Ex]:"fire-auth-compat",[Tx]:"fire-rtdb",[Sx]:"fire-data-connect",[Ix]:"fire-rtdb-compat",[Cx]:"fire-fn",[Rx]:"fire-fn-compat",[Ax]:"fire-iid",[Px]:"fire-iid-compat",[kx]:"fire-fcm",[bx]:"fire-fcm-compat",[xx]:"fire-perf",[Ox]:"fire-perf-compat",[Dx]:"fire-rc",[Nx]:"fire-rc-compat",[Lx]:"fire-gcs",[Mx]:"fire-gcs-compat",[Vx]:"fire-fst",[jx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[Ux]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,Bx=new Map,gf=new Map;function Tv(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yn(t){const e=t.name;if(gf.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,t);for(const n of Pu.values())Tv(n,t);for(const n of Bx.values())Tv(n,t);return!0}function Do(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new pc("app","Firebase",Hx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=$x;function yE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=sE()),!n)throw Cr.create("no-options");const o=Pu.get(i);if(o){if(na(n,o.options)&&na(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}const s=new Jb(i);for(const u of gf.values())s.addComponent(u);const a=new qx(n,r,s);return Pu.set(i,a),a}function Hp(t=mf){const e=Pu.get(t);if(!e&&t===mf&&sE())return yE();if(!e)throw Cr.create("no-app",{appName:t});return e}function Xt(t,e,n){let r=zx[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(s.join(" "));return}Yn(new Rn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-heartbeat-database",Gx=1,ra="firebase-heartbeat-store";let Bh=null;function vE(){return Bh||(Bh=pE(Wx,Gx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Bh}async function Kx(t){try{const n=(await vE()).transaction(ra),r=await n.objectStore(ra).get(_E(t));return await n.done,r}catch(e){if(e instanceof tr)Xn.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xn.warn(n.message)}}}async function Sv(t,e){try{const r=(await vE()).transaction(ra,"readwrite");await r.objectStore(ra).put(e,_E(t)),await r.done}catch(n){if(n instanceof tr)Xn.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(r.message)}}}function _E(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1024,Xx=30;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Iv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xx){const s=e2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iv(),{heartbeatsToSend:r,unsentEntries:i}=Jx(this._heartbeatsCache.heartbeats),o=Au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xn.warn(n),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function Jx(t,e=Qx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Cv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cE()?hE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cv(t){return Au(JSON.stringify({version:2,heartbeats:t})).length}function e2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){Yn(new Rn("platform-logger",e=>new fx(e),"PRIVATE")),Yn(new Rn("heartbeat",e=>new Yx(e),"PRIVATE")),Xt(pf,Ev,t),Xt(pf,Ev,"esm2020"),Xt("fire-js","")}t2("");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,wE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,y){function T(){}T.prototype=y.prototype,A.D=y.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(C,k,x){for(var P=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)P[Re-2]=arguments[Re];return y.prototype[k].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,y,T){T||(T=0);var C=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)C[k]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(k=0;16>k;++k)C[k]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=A.g[0],T=A.g[1],k=A.g[2];var x=A.g[3],P=y+(x^T&(k^x))+C[0]+3614090360&4294967295;y=T+(P<<7&4294967295|P>>>25),P=x+(k^y&(T^k))+C[1]+3905402710&4294967295,x=y+(P<<12&4294967295|P>>>20),P=k+(T^x&(y^T))+C[2]+606105819&4294967295,k=x+(P<<17&4294967295|P>>>15),P=T+(y^k&(x^y))+C[3]+3250441966&4294967295,T=k+(P<<22&4294967295|P>>>10),P=y+(x^T&(k^x))+C[4]+4118548399&4294967295,y=T+(P<<7&4294967295|P>>>25),P=x+(k^y&(T^k))+C[5]+1200080426&4294967295,x=y+(P<<12&4294967295|P>>>20),P=k+(T^x&(y^T))+C[6]+2821735955&4294967295,k=x+(P<<17&4294967295|P>>>15),P=T+(y^k&(x^y))+C[7]+4249261313&4294967295,T=k+(P<<22&4294967295|P>>>10),P=y+(x^T&(k^x))+C[8]+1770035416&4294967295,y=T+(P<<7&4294967295|P>>>25),P=x+(k^y&(T^k))+C[9]+2336552879&4294967295,x=y+(P<<12&4294967295|P>>>20),P=k+(T^x&(y^T))+C[10]+4294925233&4294967295,k=x+(P<<17&4294967295|P>>>15),P=T+(y^k&(x^y))+C[11]+2304563134&4294967295,T=k+(P<<22&4294967295|P>>>10),P=y+(x^T&(k^x))+C[12]+1804603682&4294967295,y=T+(P<<7&4294967295|P>>>25),P=x+(k^y&(T^k))+C[13]+4254626195&4294967295,x=y+(P<<12&4294967295|P>>>20),P=k+(T^x&(y^T))+C[14]+2792965006&4294967295,k=x+(P<<17&4294967295|P>>>15),P=T+(y^k&(x^y))+C[15]+1236535329&4294967295,T=k+(P<<22&4294967295|P>>>10),P=y+(k^x&(T^k))+C[1]+4129170786&4294967295,y=T+(P<<5&4294967295|P>>>27),P=x+(T^k&(y^T))+C[6]+3225465664&4294967295,x=y+(P<<9&4294967295|P>>>23),P=k+(y^T&(x^y))+C[11]+643717713&4294967295,k=x+(P<<14&4294967295|P>>>18),P=T+(x^y&(k^x))+C[0]+3921069994&4294967295,T=k+(P<<20&4294967295|P>>>12),P=y+(k^x&(T^k))+C[5]+3593408605&4294967295,y=T+(P<<5&4294967295|P>>>27),P=x+(T^k&(y^T))+C[10]+38016083&4294967295,x=y+(P<<9&4294967295|P>>>23),P=k+(y^T&(x^y))+C[15]+3634488961&4294967295,k=x+(P<<14&4294967295|P>>>18),P=T+(x^y&(k^x))+C[4]+3889429448&4294967295,T=k+(P<<20&4294967295|P>>>12),P=y+(k^x&(T^k))+C[9]+568446438&4294967295,y=T+(P<<5&4294967295|P>>>27),P=x+(T^k&(y^T))+C[14]+3275163606&4294967295,x=y+(P<<9&4294967295|P>>>23),P=k+(y^T&(x^y))+C[3]+4107603335&4294967295,k=x+(P<<14&4294967295|P>>>18),P=T+(x^y&(k^x))+C[8]+1163531501&4294967295,T=k+(P<<20&4294967295|P>>>12),P=y+(k^x&(T^k))+C[13]+2850285829&4294967295,y=T+(P<<5&4294967295|P>>>27),P=x+(T^k&(y^T))+C[2]+4243563512&4294967295,x=y+(P<<9&4294967295|P>>>23),P=k+(y^T&(x^y))+C[7]+1735328473&4294967295,k=x+(P<<14&4294967295|P>>>18),P=T+(x^y&(k^x))+C[12]+2368359562&4294967295,T=k+(P<<20&4294967295|P>>>12),P=y+(T^k^x)+C[5]+4294588738&4294967295,y=T+(P<<4&4294967295|P>>>28),P=x+(y^T^k)+C[8]+2272392833&4294967295,x=y+(P<<11&4294967295|P>>>21),P=k+(x^y^T)+C[11]+1839030562&4294967295,k=x+(P<<16&4294967295|P>>>16),P=T+(k^x^y)+C[14]+4259657740&4294967295,T=k+(P<<23&4294967295|P>>>9),P=y+(T^k^x)+C[1]+2763975236&4294967295,y=T+(P<<4&4294967295|P>>>28),P=x+(y^T^k)+C[4]+1272893353&4294967295,x=y+(P<<11&4294967295|P>>>21),P=k+(x^y^T)+C[7]+4139469664&4294967295,k=x+(P<<16&4294967295|P>>>16),P=T+(k^x^y)+C[10]+3200236656&4294967295,T=k+(P<<23&4294967295|P>>>9),P=y+(T^k^x)+C[13]+681279174&4294967295,y=T+(P<<4&4294967295|P>>>28),P=x+(y^T^k)+C[0]+3936430074&4294967295,x=y+(P<<11&4294967295|P>>>21),P=k+(x^y^T)+C[3]+3572445317&4294967295,k=x+(P<<16&4294967295|P>>>16),P=T+(k^x^y)+C[6]+76029189&4294967295,T=k+(P<<23&4294967295|P>>>9),P=y+(T^k^x)+C[9]+3654602809&4294967295,y=T+(P<<4&4294967295|P>>>28),P=x+(y^T^k)+C[12]+3873151461&4294967295,x=y+(P<<11&4294967295|P>>>21),P=k+(x^y^T)+C[15]+530742520&4294967295,k=x+(P<<16&4294967295|P>>>16),P=T+(k^x^y)+C[2]+3299628645&4294967295,T=k+(P<<23&4294967295|P>>>9),P=y+(k^(T|~x))+C[0]+4096336452&4294967295,y=T+(P<<6&4294967295|P>>>26),P=x+(T^(y|~k))+C[7]+1126891415&4294967295,x=y+(P<<10&4294967295|P>>>22),P=k+(y^(x|~T))+C[14]+2878612391&4294967295,k=x+(P<<15&4294967295|P>>>17),P=T+(x^(k|~y))+C[5]+4237533241&4294967295,T=k+(P<<21&4294967295|P>>>11),P=y+(k^(T|~x))+C[12]+1700485571&4294967295,y=T+(P<<6&4294967295|P>>>26),P=x+(T^(y|~k))+C[3]+2399980690&4294967295,x=y+(P<<10&4294967295|P>>>22),P=k+(y^(x|~T))+C[10]+4293915773&4294967295,k=x+(P<<15&4294967295|P>>>17),P=T+(x^(k|~y))+C[1]+2240044497&4294967295,T=k+(P<<21&4294967295|P>>>11),P=y+(k^(T|~x))+C[8]+1873313359&4294967295,y=T+(P<<6&4294967295|P>>>26),P=x+(T^(y|~k))+C[15]+4264355552&4294967295,x=y+(P<<10&4294967295|P>>>22),P=k+(y^(x|~T))+C[6]+2734768916&4294967295,k=x+(P<<15&4294967295|P>>>17),P=T+(x^(k|~y))+C[13]+1309151649&4294967295,T=k+(P<<21&4294967295|P>>>11),P=y+(k^(T|~x))+C[4]+4149444226&4294967295,y=T+(P<<6&4294967295|P>>>26),P=x+(T^(y|~k))+C[11]+3174756917&4294967295,x=y+(P<<10&4294967295|P>>>22),P=k+(y^(x|~T))+C[2]+718787259&4294967295,k=x+(P<<15&4294967295|P>>>17),P=T+(x^(k|~y))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+x&4294967295}r.prototype.u=function(A,y){y===void 0&&(y=A.length);for(var T=y-this.blockSize,C=this.B,k=this.h,x=0;x<y;){if(k==0)for(;x<=T;)i(this,A,x),x+=this.blockSize;if(typeof A=="string"){for(;x<y;)if(C[k++]=A.charCodeAt(x++),k==this.blockSize){i(this,C),k=0;break}}else for(;x<y;)if(C[k++]=A[x++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;var T=8*this.o;for(y=A.length-8;y<A.length;++y)A[y]=T&255,T/=256;for(this.u(A),A=Array(16),y=T=0;4>y;++y)for(var C=0;32>C;C+=8)A[T++]=this.g[y]>>>C&255;return A};function o(A,y){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=y(A)}function s(A,y){this.h=y;for(var T=[],C=!0,k=A.length-1;0<=k;k--){var x=A[k]|0;C&&x==y||(T[k]=x,C=!1)}this.g=T}var a={};function u(A){return-128<=A&&128>A?o(A,function(y){return new s([y|0],0>y?-1:0)}):new s([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return R(c(-A));for(var y=[],T=1,C=0;A>=T;C++)y[C]=A/T|0,T*=4294967296;return new s(y,0)}function h(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return R(h(A.substring(1),y));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),C=f,k=0;k<A.length;k+=8){var x=Math.min(8,A.length-k),P=parseInt(A.substring(k,k+x),y);8>x?(x=c(Math.pow(y,x)),C=C.j(x).add(c(P))):(C=C.j(T),C=C.add(c(P)))}return C}var f=u(0),p=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(I(this))return-R(this).m();for(var A=0,y=1,T=0;T<this.g.length;T++){var C=this.i(T);A+=(0<=C?C:4294967296+C)*y,y*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(I(this))return"-"+R(this).toString(A);for(var y=c(Math.pow(A,6)),T=this,C="";;){var k=b(T,y).g;T=_(T,k.j(y));var x=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=k,S(T))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function I(A){return A.h==-1}t.l=function(A){return A=_(this,A),I(A)?-1:S(A)?0:1};function R(A){for(var y=A.g.length,T=[],C=0;C<y;C++)T[C]=~A.g[C];return new s(T,~A.h).add(p)}t.abs=function(){return I(this)?R(this):this},t.add=function(A){for(var y=Math.max(this.g.length,A.g.length),T=[],C=0,k=0;k<=y;k++){var x=C+(this.i(k)&65535)+(A.i(k)&65535),P=(x>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);C=P>>>16,x&=65535,P&=65535,T[k]=P<<16|x}return new s(T,T[T.length-1]&-2147483648?-1:0)};function _(A,y){return A.add(R(y))}t.j=function(A){if(S(this)||S(A))return f;if(I(this))return I(A)?R(this).j(R(A)):R(R(this).j(A));if(I(A))return R(this.j(R(A)));if(0>this.l(v)&&0>A.l(v))return c(this.m()*A.m());for(var y=this.g.length+A.g.length,T=[],C=0;C<2*y;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<A.g.length;k++){var x=this.i(C)>>>16,P=this.i(C)&65535,Re=A.i(k)>>>16,fe=A.i(k)&65535;T[2*C+2*k]+=P*fe,g(T,2*C+2*k),T[2*C+2*k+1]+=x*fe,g(T,2*C+2*k+1),T[2*C+2*k+1]+=P*Re,g(T,2*C+2*k+1),T[2*C+2*k+2]+=x*Re,g(T,2*C+2*k+2)}for(C=0;C<y;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=y;C<2*y;C++)T[C]=0;return new s(T,0)};function g(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function w(A,y){this.g=A,this.h=y}function b(A,y){if(S(y))throw Error("division by zero");if(S(A))return new w(f,f);if(I(A))return y=b(R(A),y),new w(R(y.g),R(y.h));if(I(y))return y=b(A,R(y)),new w(R(y.g),y.h);if(30<A.g.length){if(I(A)||I(y))throw Error("slowDivide_ only works with positive integers.");for(var T=p,C=y;0>=C.l(A);)T=L(T),C=L(C);var k=V(T,1),x=V(C,1);for(C=V(C,2),T=V(T,2);!S(C);){var P=x.add(C);0>=P.l(A)&&(k=k.add(T),x=P),C=V(C,1),T=V(T,1)}return y=_(A,k.j(y)),new w(k,y)}for(k=f;0<=A.l(y);){for(T=Math.max(1,Math.floor(A.m()/y.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=c(T),P=x.j(y);I(P)||0<P.l(A);)T-=C,x=c(T),P=x.j(y);S(x)&&(x=p),k=k.add(x),A=_(A,P)}return new w(k,A)}t.A=function(A){return b(this,A).h},t.and=function(A){for(var y=Math.max(this.g.length,A.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)&A.i(C);return new s(T,this.h&A.h)},t.or=function(A){for(var y=Math.max(this.g.length,A.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)|A.i(C);return new s(T,this.h|A.h)},t.xor=function(A){for(var y=Math.max(this.g.length,A.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)^A.i(C);return new s(T,this.h^A.h)};function L(A){for(var y=A.g.length+1,T=[],C=0;C<y;C++)T[C]=A.i(C)<<1|A.i(C-1)>>>31;return new s(T,A.h)}function V(A,y){var T=y>>5;y%=32;for(var C=A.g.length-T,k=[],x=0;x<C;x++)k[x]=0<y?A.i(x+T)>>>y|A.i(x+T+1)<<32-y:A.i(x+T);return new s(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Rr=s}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,ys,TE,Vl,yf,SE,IE,CE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof pl=="object"&&pl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in m))break e;m=m[O]}l=l[l.length-1],E=m[l],d=d(E),d!=E&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var m=0,E=!1,O={next:function(){if(!E&&m<l.length){var M=m++;return{value:d(M,l[M]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function p(l,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function S(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(E,O,M){for(var z=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)z[pe-2]=arguments[pe];return d.prototype[O].apply(E,z)}}function I(l){const d=l.length;if(0<d){const m=Array(d);for(let E=0;E<d;E++)m[E]=l[E];return m}return[]}function R(l,d){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const O=l.length||0,M=E.length||0;l.length=O+M;for(let z=0;z<M;z++)l[O+z]=E[z]}else l.push(E)}}class _{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function g(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function V(l,d,m){for(const E in l)d.call(m,l[E],E,l)}function A(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function y(l){const d={};for(const m in l)d[m]=l[m];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,d){let m,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(m in E)l[m]=E[m];for(let M=0;M<T.length;M++)m=T[M],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function k(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Q;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Re{constructor(){this.h=this.g=null}add(d,m){const E=fe.get();E.set(d,m),this.h?this.h.next=E:this.g=E,this.h=E}}var fe=new _(()=>new it,l=>l.reset());class it{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,$=!1,Q=new Re,Y=()=>{const l=a.Promise.resolve(void 0);Ge=()=>{l.then(me)}};var me=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){x(m)}var d=fe;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function bn(l,d){if(Ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(L){e:{try{b(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&bn.aa.h.call(this)}}S(bn,Ae);var xn={2:"touch",3:"pen",4:"mouse"};bn.prototype.h=function(){bn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),rI=0;function iI(l,d,m,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!E,this.ha=O,this.key=++rI,this.da=this.fa=!1}function ba(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xa(l){this.src=l,this.g={},this.h=0}xa.prototype.add=function(l,d,m,E,O){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var z=jc(l,d,E,O);return-1<z?(d=l[z],m||(d.fa=!1)):(d=new iI(d,this.src,M,!!E,O),d.fa=m,l.push(d)),d};function Fc(l,d){var m=d.type;if(m in l.g){var E=l.g[m],O=Array.prototype.indexOf.call(E,d,void 0),M;(M=0<=O)&&Array.prototype.splice.call(E,O,1),M&&(ba(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function jc(l,d,m,E){for(var O=0;O<l.length;++O){var M=l[O];if(!M.da&&M.listener==d&&M.capture==!!m&&M.ha==E)return O}return-1}var Uc="closure_lm_"+(1e6*Math.random()|0),$c={};function Vm(l,d,m,E,O){if(E&&E.once)return jm(l,d,m,E,O);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Vm(l,d[M],m,E,O);return null}return m=qc(m),l&&l[dn]?l.K(d,m,c(E)?!!E.capture:!!E,O):Fm(l,d,m,!1,E,O)}function Fm(l,d,m,E,O,M){if(!d)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,pe=Bc(l);if(pe||(l[Uc]=pe=new xa(l)),m=pe.add(d,m,E,z,M),m.proxy)return m;if(E=oI(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)mt||(O=z),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent($m(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function oI(){function l(m){return d.call(l.src,l.listener,m)}const d=sI;return l}function jm(l,d,m,E,O){if(Array.isArray(d)){for(var M=0;M<d.length;M++)jm(l,d[M],m,E,O);return null}return m=qc(m),l&&l[dn]?l.L(d,m,c(E)?!!E.capture:!!E,O):Fm(l,d,m,!0,E,O)}function Um(l,d,m,E,O){if(Array.isArray(d))for(var M=0;M<d.length;M++)Um(l,d[M],m,E,O);else E=c(E)?!!E.capture:!!E,m=qc(m),l&&l[dn]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],m=jc(M,m,E,O),-1<m&&(ba(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=Bc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=jc(d,m,E,O)),(m=-1<l?d[l]:null)&&zc(m))}function zc(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[dn])Fc(d.i,l);else{var m=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(m,E,l.capture):d.detachEvent?d.detachEvent($m(m),E):d.addListener&&d.removeListener&&d.removeListener(E),(m=Bc(d))?(Fc(m,l),m.h==0&&(m.src=null,d[Uc]=null)):ba(l)}}}function $m(l){return l in $c?$c[l]:$c[l]="on"+l}function sI(l,d){if(l.da)l=!0;else{d=new bn(d,this);var m=l.listener,E=l.ha||l.src;l.fa&&zc(l),l=m.call(E,d)}return l}function Bc(l){return l=l[Uc],l instanceof xa?l:null}var Hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function qc(l){return typeof l=="function"?l:(l[Hc]||(l[Hc]=function(d){return l.handleEvent(d)}),l[Hc])}function ot(){se.call(this),this.i=new xa(this),this.M=this,this.F=null}S(ot,se),ot.prototype[dn]=!0,ot.prototype.removeEventListener=function(l,d,m,E){Um(this,l,d,m,E)};function gt(l,d){var m,E=l.F;if(E)for(m=[];E;E=E.F)m.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new Ae(d,l);else if(d instanceof Ae)d.target=d.target||l;else{var O=d;d=new Ae(E,l),C(d,O)}if(O=!0,m)for(var M=m.length-1;0<=M;M--){var z=d.g=m[M];O=Oa(z,E,!0,d)&&O}if(z=d.g=l,O=Oa(z,E,!0,d)&&O,O=Oa(z,E,!1,d)&&O,m)for(M=0;M<m.length;M++)z=d.g=m[M],O=Oa(z,E,!1,d)&&O}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],E=0;E<m.length;E++)ba(m[E]);delete l.g[d],l.h--}}this.F=null},ot.prototype.K=function(l,d,m,E){return this.i.add(String(l),d,!1,m,E)},ot.prototype.L=function(l,d,m,E){return this.i.add(String(l),d,!0,m,E)};function Oa(l,d,m,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,M=0;M<d.length;++M){var z=d[M];if(z&&!z.da&&z.capture==m){var pe=z.listener,Ye=z.ha||z.src;z.fa&&Fc(l.i,z),O=pe.call(Ye,E)!==!1&&O}}return O&&!E.defaultPrevented}function zm(l,d,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Bm(l){l.g=zm(()=>{l.g=null,l.i&&(l.i=!1,Bm(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class aI extends se{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Bm(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(l){se.call(this),this.h=l,this.g={}}S($o,se);var Hm=[];function qm(l){V(l.g,function(d,m){this.g.hasOwnProperty(m)&&zc(d)},l),l.g={}}$o.prototype.N=function(){$o.aa.N.call(this),qm(this)},$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wc=a.JSON.stringify,lI=a.JSON.parse,uI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Gc(){}Gc.prototype.h=null;function Wm(l){return l.h||(l.h=l.i())}function Gm(){}var zo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kc(){Ae.call(this,"d")}S(Kc,Ae);function Qc(){Ae.call(this,"c")}S(Qc,Ae);var $r={},Km=null;function Da(){return Km=Km||new ot}$r.La="serverreachability";function Qm(l){Ae.call(this,$r.La,l)}S(Qm,Ae);function Bo(l){const d=Da();gt(d,new Qm(d))}$r.STAT_EVENT="statevent";function Xm(l,d){Ae.call(this,$r.STAT_EVENT,l),this.stat=d}S(Xm,Ae);function yt(l){const d=Da();gt(d,new Xm(d,l))}$r.Ma="timingevent";function Ym(l,d){Ae.call(this,$r.Ma,l),this.size=d}S(Ym,Ae);function Ho(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function cI(l,d,m,E,O,M){l.info(function(){if(l.g)if(M)for(var z="",pe=M.split("&"),Ye=0;Ye<pe.length;Ye++){var ce=pe[Ye].split("=");if(1<ce.length){var st=ce[0];ce=ce[1];var at=st.split("_");z=2<=at.length&&at[1]=="type"?z+(st+"="+ce+"&"):z+(st+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+m+`
`+z})}function hI(l,d,m,E,O,M,z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+m+`
`+M+" "+z})}function Ii(l,d,m,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+fI(l,m)+(E?" "+E:"")})}function dI(l,d){l.info(function(){return"TIMEOUT: "+d})}qo.prototype.info=function(){};function fI(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var E=m[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Wc(m)}catch{return d}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xc;function La(){}S(La,Gc),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Xc=new La;function nr(l,d,m,E){this.j=l,this.i=d,this.l=m,this.R=E||1,this.U=new $o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zm}function Zm(){this.i=null,this.g="",this.h=!1}var eg={},Yc={};function Jc(l,d,m){l.L=1,l.v=ja(On(d)),l.m=m,l.P=!0,tg(l,null)}function tg(l,d){l.F=Date.now(),Ma(l),l.A=On(l.v);var m=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),mg(m.i,"t",E),l.C=0,m=l.j.J,l.h=new Zm,l.g=Dg(l.j,m?d:null,!l.m),0<l.O&&(l.M=new aI(p(l.Y,l,l.g),l.O)),d=l.U,m=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Hm[0]=O.toString()),O=Hm);for(var M=0;M<O.length;M++){var z=Vm(m,O[M],E||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Bo(),cI(l.i,l.u,l.A,l.l,l.R,l.m)}nr.prototype.ca=function(l){l=l.target;const d=this.M;d&&Dn(l)==3?d.j():this.Y(l)},nr.prototype.Y=function(l){try{if(l==this.g)e:{const at=Dn(this.g);var d=this.g.Ba();const Ai=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Tg(this.g)))){this.J||at!=4||d==7||(d==8||0>=Ai?Bo(3):Bo(2)),Zc(this);var m=this.g.Z();this.X=m;t:if(ng(this)){var E=Tg(this.g);l="";var O=E.length,M=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Wo(this);var z="";break t}this.h.i=new a.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(M&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,hI(this.i,this.u,this.A,this.l,this.R,at,m),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Ye=this.g;if((pe=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(pe)){var ce=pe;break t}}ce=null}if(m=ce)Ii(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,m);else{this.o=!1,this.s=3,yt(12),zr(this),Wo(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<z.length;)if(Zt=pI(this,z),Zt==Yc){at==4&&(this.s=4,yt(14),m=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==eg){this.s=4,yt(15),Ii(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else Ii(this.i,this.l,Zt,null),eh(this,Zt);if(ng(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||z.length!=0||this.h.h||(this.s=1,yt(16),m=!1),this.o=this.o&&m,!m)Ii(this.i,this.l,z,"[Invalid Chunked Response]"),zr(this),Wo(this);else if(0<z.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),sh(st),st.M=!0,yt(11))}}else Ii(this.i,this.l,z,null),eh(this,z);at==4&&zr(this),this.o&&!this.J&&(at==4?kg(this.j,this):(this.o=!1,Ma(this)))}else xI(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),zr(this),Wo(this)}}}catch{}finally{}};function ng(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pI(l,d){var m=l.C,E=d.indexOf(`
`,m);return E==-1?Yc:(m=Number(d.substring(m,E)),isNaN(m)?eg:(E+=1,E+m>d.length?Yc:(d=d.slice(E,E+m),l.C=E+m,d)))}nr.prototype.cancel=function(){this.J=!0,zr(this)};function Ma(l){l.S=Date.now()+l.I,rg(l,l.I)}function rg(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ho(p(l.ba,l),d)}function Zc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}nr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(dI(this.i,this.A),this.L!=2&&(Bo(),yt(17)),zr(this),this.s=2,Wo(this)):rg(this,this.S-l)};function Wo(l){l.j.G==0||l.J||kg(l.j,l)}function zr(l){Zc(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,qm(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function eh(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||th(m.h,l))){if(!l.K&&th(m.h,l)&&m.G==3){try{var E=m.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)qa(m),Ba(m);else break e;oh(m),yt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ho(p(m.Za,m),6e3));if(1>=sg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Hr(m,11)}else if((l.K||m.g==l)&&qa(m),!g(d))for(O=m.Da.g.parse(d),d=0;d<O.length;d++){let ce=O[d];if(m.T=ce[0],ce=ce[1],m.G==2)if(ce[0]=="c"){m.K=ce[1],m.ia=ce[2];const st=ce[3];st!=null&&(m.la=st,m.j.info("VER="+m.la));const at=ce[4];at!=null&&(m.Aa=at,m.j.info("SVER="+m.Aa));const Ai=ce[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(E=1.5*Ai,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const Zt=l.g;if(Zt){const Ga=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var M=E.h;M.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(nh(M,M.h),M.h=null))}if(E.D){const ah=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(E.ya=ah,ve(E.I,E.D,ah))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var z=l;if(E.qa=Og(E,E.J?E.ia:null,E.W),z.K){ag(E.h,z);var pe=z,Ye=E.L;Ye&&(pe.I=Ye),pe.B&&(Zc(pe),Ma(pe)),E.g=z}else Ag(E);0<m.i.length&&Ha(m)}else ce[0]!="stop"&&ce[0]!="close"||Hr(m,7);else m.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Hr(m,7):ih(m):ce[0]!="noop"&&m.l&&m.l.ta(ce),m.v=0)}}Bo(4)}catch{}}var mI=class{constructor(l,d){this.g=l,this.map=d}};function ig(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function og(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sg(l){return l.h?1:l.g?l.g.size:0}function th(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function nh(l,d){l.g?l.g.add(d):l.h=d}function ag(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ig.prototype.cancel=function(){if(this.i=lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function lg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return I(l.i)}function gI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,E=0;E<m;E++)d.push(l[E]);return d}d=[],m=0;for(E in l)d[m++]=l[E];return d}function yI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const E in l)d[m++]=E;return d}}}function ug(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=yI(l),E=gI(l),O=E.length,M=0;M<O;M++)d.call(void 0,E[M],m&&m[M],l)}var cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vI(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var E=l[m].indexOf("="),O=null;if(0<=E){var M=l[m].substring(0,E);O=l[m].substring(E+1)}else M=l[m];d(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Br(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Br){this.h=l.h,Va(this,l.j),this.o=l.o,this.g=l.g,Fa(this,l.s),this.l=l.l;var d=l.i,m=new Qo;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),hg(this,m),this.m=l.m}else l&&(d=String(l).match(cg))?(this.h=!1,Va(this,d[1]||"",!0),this.o=Go(d[2]||""),this.g=Go(d[3]||"",!0),Fa(this,d[4]),this.l=Go(d[5]||"",!0),hg(this,d[6]||"",!0),this.m=Go(d[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}Br.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ko(d,dg,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ko(d,dg,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ko(m,m.charAt(0)=="/"?EI:wI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ko(m,SI)),l.join("")};function On(l){return new Br(l)}function Va(l,d,m){l.j=m?Go(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Fa(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function hg(l,d,m){d instanceof Qo?(l.i=d,II(l.i,l.h)):(m||(d=Ko(d,TI)),l.i=new Qo(d,l.h))}function ve(l,d,m){l.i.set(d,m)}function ja(l){return ve(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Go(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ko(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,_I),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _I(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dg=/[#\/\?@]/g,wI=/[#\?:]/g,EI=/[#\?]/g,TI=/[#\?@]/g,SI=/#/g;function Qo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function rr(l){l.g||(l.g=new Map,l.h=0,l.i&&vI(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Qo.prototype,t.add=function(l,d){rr(this),this.i=null,l=Ci(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function fg(l,d){rr(l),d=Ci(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function pg(l,d){return rr(l),d=Ci(l,d),l.g.has(d)}t.forEach=function(l,d){rr(this),this.g.forEach(function(m,E){m.forEach(function(O){l.call(d,O,E,this)},this)},this)},t.na=function(){rr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let E=0;E<d.length;E++){const O=l[E];for(let M=0;M<O.length;M++)m.push(d[E])}return m},t.V=function(l){rr(this);let d=[];if(typeof l=="string")pg(this,l)&&(d=d.concat(this.g.get(Ci(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return rr(this),this.i=null,l=Ci(this,l),pg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function mg(l,d,m){fg(l,d),0<m.length&&(l.i=null,l.g.set(Ci(l,d),I(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var E=d[m];const M=encodeURIComponent(String(E)),z=this.V(E);for(E=0;E<z.length;E++){var O=M;z[E]!==""&&(O+="="+encodeURIComponent(String(z[E]))),l.push(O)}}return this.i=l.join("&")};function Ci(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function II(l,d){d&&!l.j&&(rr(l),l.i=null,l.g.forEach(function(m,E){var O=E.toLowerCase();E!=O&&(fg(this,E),mg(this,O,m))},l)),l.j=d}function CI(l,d){const m=new qo;if(a.Image){const E=new Image;E.onload=v(ir,m,"TestLoadImage: loaded",!0,d,E),E.onerror=v(ir,m,"TestLoadImage: error",!1,d,E),E.onabort=v(ir,m,"TestLoadImage: abort",!1,d,E),E.ontimeout=v(ir,m,"TestLoadImage: timeout",!1,d,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function RI(l,d){const m=new qo,E=new AbortController,O=setTimeout(()=>{E.abort(),ir(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(M=>{clearTimeout(O),M.ok?ir(m,"TestPingServer: ok",!0,d):ir(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),ir(m,"TestPingServer: error",!1,d)})}function ir(l,d,m,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(m)}catch{}}function AI(){this.g=new uI}function PI(l,d,m){const E=m||"";try{ug(l,function(O,M){let z=O;c(O)&&(z=Wc(O)),d.push(E+M+"="+encodeURIComponent(z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function Ua(l){this.l=l.Ub||null,this.j=l.eb||!1}S(Ua,Gc),Ua.prototype.g=function(){return new $a(this.l,this.j)},Ua.prototype.i=function(l){return function(){return l}}({});function $a(l,d){ot.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($a,ot),t=$a.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Yo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function gg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Xo(this):Yo(this),this.readyState==3&&gg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Xo(this))},t.Qa=function(l){this.g&&(this.response=l,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Yo(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Yo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function yg(l){let d="";return V(l,function(m,E){d+=E,d+=":",d+=m,d+=`\r
`}),d}function rh(l,d,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=yg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ve(l,d,m))}function Le(l){ot.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Le,ot);var kI=/^https?$/i,bI=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xc.g(),this.v=this.o?Wm(this.o):Wm(Xc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){vg(this,M);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)m.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const M of E.keys())m.set(M,E.get(M));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bI,d,void 0))||E||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of m)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eg(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){vg(this,M)}};function vg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,_g(l),za(l)}function _g(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wg(this):this.bb())},t.bb=function(){wg(this)};function wg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Dn(l)!=4||l.Z()!=2)){if(l.u&&Dn(l)==4)zm(l.Ea,0,l);else if(gt(l,"readystatechange"),Dn(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var E;if(E=z===0){var O=String(l.D).match(cg)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),E=!kI.test(O?O.toLowerCase():"")}m=E}if(m)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var M=2<Dn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",_g(l)}}finally{za(l)}}}}function za(l,d){if(l.g){Eg(l);const m=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||gt(l,"ready");try{m.onreadystatechange=E}catch{}}}function Eg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Dn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),lI(d)}};function Tg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xI(l){const d={};l=(l.g&&2<=Dn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(g(l[E]))continue;var m=k(l[E]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=d[O]||[];d[O]=M,M.push(m)}A(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Sg(l){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,l),this.cb=Jo("retryDelaySeedMs",1e4,l),this.Wa=Jo("forwardChannelMaxRetries",2,l),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ig(l&&l.concurrentRequestLimit),this.Da=new AI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sg.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,E){yt(0),this.W=l,this.H=d||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Og(this,null,this.W),Ha(this)};function ih(l){if(Ig(l),l.G==3){var d=l.U++,m=On(l.I);if(ve(m,"SID",l.K),ve(m,"RID",d),ve(m,"TYPE","terminate"),Zo(l,m),d=new nr(l,l.j,d),d.L=2,d.v=ja(On(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=Dg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ma(d)}xg(l)}function Ba(l){l.g&&(sh(l),l.g.cancel(),l.g=null)}function Ig(l){Ba(l),l.u&&(a.clearTimeout(l.u),l.u=null),qa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ha(l){if(!og(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ge||Y(),$||(Ge(),$=!0),Q.add(d,l),l.B=0}}function OI(l,d){return sg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ho(p(l.Ga,l,d),bg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new nr(this,this.j,l);let M=this.o;if(this.S&&(M?(M=y(M),C(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Rg(this,O,d),m=On(this.I),ve(m,"RID",l),ve(m,"CVER",22),this.D&&ve(m,"X-HTTP-Session-Id",this.D),Zo(this,m),M&&(this.O?d="headers="+encodeURIComponent(String(yg(M)))+"&"+d:this.m&&rh(m,this.m,M)),nh(this.h,O),this.Ua&&ve(m,"TYPE","init"),this.P?(ve(m,"$req",d),ve(m,"SID","null"),O.T=!0,Jc(O,m,null)):Jc(O,m,d),this.G=2}}else this.G==3&&(l?Cg(this,l):this.i.length==0||og(this.h)||Cg(this))};function Cg(l,d){var m;d?m=d.l:m=l.U++;const E=On(l.I);ve(E,"SID",l.K),ve(E,"RID",m),ve(E,"AID",l.T),Zo(l,E),l.m&&l.o&&rh(E,l.m,l.o),m=new nr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Rg(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),nh(l.h,m),Jc(m,E,d)}function Zo(l,d){l.H&&V(l.H,function(m,E){ve(d,E,m)}),l.l&&ug({},function(m,E){ve(d,E,m)})}function Rg(l,d,m){m=Math.min(l.i.length,m);var E=l.l?p(l.l.Na,l.l,l):null;e:{var O=l.i;let M=-1;for(;;){const z=["count="+m];M==-1?0<m?(M=O[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let pe=!0;for(let Ye=0;Ye<m;Ye++){let ce=O[Ye].g;const st=O[Ye].map;if(ce-=M,0>ce)M=Math.max(0,O[Ye].g-100),pe=!1;else try{PI(st,z,"req"+ce+"_")}catch{E&&E(st)}}if(pe){E=z.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,E}function Ag(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ge||Y(),$||(Ge(),$=!0),Q.add(d,l),l.v=0}}function oh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ho(p(l.Fa,l),bg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Pg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ho(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ba(this),Pg(this))};function sh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Pg(l){l.g=new nr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=On(l.qa);ve(d,"RID","rpc"),ve(d,"SID",l.K),ve(d,"AID",l.T),ve(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ve(d,"TO",l.ja),ve(d,"TYPE","xmlhttp"),Zo(l,d),l.m&&l.o&&rh(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ja(On(d)),m.m=null,m.P=!0,tg(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ba(this),oh(this),yt(19))};function qa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function kg(l,d){var m=null;if(l.g==d){qa(l),sh(l),l.g=null;var E=2}else if(th(l.h,d))m=d.D,ag(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=Da(),gt(E,new Ym(E,m)),Ha(l)}else Ag(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&OI(l,d)||E==2&&oh(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),O){case 1:Hr(l,5);break;case 4:Hr(l,10);break;case 3:Hr(l,6);break;default:Hr(l,2)}}}function bg(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Hr(l,d){if(l.j.info("Error code "+d),d==2){var m=p(l.fb,l),E=l.Xa;const O=!E;E=new Br(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Va(E,"https"),ja(E),O?CI(E.toString(),m):RI(E.toString(),m)}else yt(2);l.G=0,l.l&&l.l.sa(d),xg(l),Ig(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function xg(l){if(l.G=0,l.ka=[],l.l){const d=lg(l.h);(d.length!=0||l.i.length!=0)&&(R(l.ka,d),R(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function Og(l,d,m){var E=m instanceof Br?On(m):new Br(m);if(E.g!="")d&&(E.g=d+"."+E.g),Fa(E,E.s);else{var O=a.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var M=new Br(null);E&&Va(M,E),d&&(M.g=d),O&&Fa(M,O),m&&(M.l=m),E=M}return m=l.D,d=l.ya,m&&d&&ve(E,m,d),ve(E,"VER",l.la),Zo(l,E),E}function Dg(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Le(new Ua({eb:m})):new Le(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ng(){}t=Ng.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(l,d){return new Nt(l,d)};function Nt(l,d){ot.call(this),this.g=new Sg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!g(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!g(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ri(this)}S(Nt,ot),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){ih(this.g)},Nt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Wc(l),l=m);d.i.push(new mI(d.Ya++,l)),d.G==3&&Ha(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,Nt.aa.N.call(this)};function Lg(l){Kc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}S(Lg,Kc);function Mg(){Qc.call(this),this.status=1}S(Mg,Qc);function Ri(l){this.g=l}S(Ri,Ng),Ri.prototype.ua=function(){gt(this.g,"a")},Ri.prototype.ta=function(l){gt(this.g,new Lg(l))},Ri.prototype.sa=function(l){gt(this.g,new Mg)},Ri.prototype.ra=function(){gt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,CE=function(){return new Wa},IE=function(){return Da()},SE=$r,yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Vl=Na,Jm.COMPLETE="complete",TE=Jm,Gm.EventType=zo,zo.OPEN="a",zo.CLOSE="b",zo.ERROR="c",zo.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ys=Gm,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,EE=Le}).apply(typeof pl<"u"?pl:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Pv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new zp("@firebase/firestore");function Di(){return hi.logLevel}function q(t,...e){if(hi.logLevel<=le.DEBUG){const n=e.map(qp);hi.debug(`Firestore (${No}): ${t}`,...n)}}function Jn(t,...e){if(hi.logLevel<=le.ERROR){const n=e.map(qp);hi.error(`Firestore (${No}): ${t}`,...n)}}function To(t,...e){if(hi.logLevel<=le.WARN){const n=e.map(qp);hi.warn(`Firestore (${No}): ${t}`,...n)}}function qp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RE(t,r,n)}function RE(t,e,n){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jn(r),new Error(r)}function he(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RE(e,i,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ar,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ar)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new AE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class o2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new o2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=l2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function vf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Hh(i)===Hh(o)?ie(i,o):Hh(i)?1:-1}return ie(t.length,e.length)}const u2=55296,c2=57343;function Hh(t){const e=t.charCodeAt(0);return e>=u2&&e<=c2}function So(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__name__";class gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=gn.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ie(e.length,n.length)}static compareSegments(e,n){const r=gn.isNumericId(e),i=gn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gn.extractNumericId(e).compare(gn.extractNumericId(n)):vf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class ge extends gn{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends gn{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new et([bv])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ge.fromString(e))}static fromName(e){return new G(ge.fromString(e).popFirst(5))}static empty(){return new G(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d2(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xv(t){if(!G.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ov(t){if(G.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mc(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function f2(t,e){if(e<=0)throw new H(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sa(t,e){if(!kE(t))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new H(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Nv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Nv);return new we(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dv)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sa(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:ze("string",we._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new we(0,0))}static max(){return new J(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=-1;function p2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new xr(i,G.empty(),e)}function m2(t){return new xr(t.readTime,t.key,ia)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(J.min(),G.empty(),ia)}static max(){return new xr(J.max(),G.empty(),ia)}}function g2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==y2)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function yc(t){return t==null}function ku(t){return t===0&&1/t==-1/0}function w2(t){return typeof t=="number"&&Number.isInteger(t)&&!ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="";function E2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lv(e)),e=T2(t.get(n),e);return Lv(e)}function T2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case bE:n+="";break;default:n+=o}}return n}function Lv(t){return t+bE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ml(this.root,e,this.comparator,!0)}}class ml{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new sn([])}unionWith(e){let n=new We(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OE("Invalid base64 string: "+o):o}}(e);return new rt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=S2.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="server_timestamp",NE="__type__",LE="__previous_value__",ME="__local_write_time__";function Kp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NE])==null?void 0:r.stringValue)===DE}function vc(t){const e=t.mapValue.fields[LE];return Kp(e)?vc(e):e}function oa(t){const e=Or(t.mapValue.fields[ME].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,i,o,s,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const bu="(default)";class sa{constructor(e,n){this.projectId=e,this.database=n||bu}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database===bu}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__type__",FE="__max__",gl={mapValue:{fields:{__type__:{stringValue:FE}}}},jE="__vector__",xu="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kp(t)?4:R2(t)?9007199254740991:C2(t)?10:11:X(28295,{value:t})}function An(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oa(t).isEqual(oa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Dr(i.bytesValue).isEqual(Dr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?ku(s)===ku(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Mv(s)!==Mv(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!An(s[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function aa(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Fv(t.timestampValue,e.timestampValue);case 4:return Fv(oa(t),oa(e));case 5:return vf(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Dr(o),u=Dr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ie(a[c],u[c]);if(h!==0)return h}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ie(Ve(o.latitude),Ve(s.latitude));return a!==0?a:ie(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jv(t.arrayValue,e.arrayValue);case 10:return function(o,s){var p,v,S,I;const a=o.fields||{},u=s.fields||{},c=(p=a[xu])==null?void 0:p.arrayValue,h=(v=u[xu])==null?void 0:v.arrayValue,f=ie(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:jv(c,h)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===gl.mapValue&&s===gl.mapValue)return 0;if(o===gl.mapValue)return 1;if(s===gl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=vf(u[f],h[f]);if(p!==0)return p;const v=Io(a[u[f]],c[h[f]]);if(v!==0)return v}return ie(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function Fv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Or(t),r=Or(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function jv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Io(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function Co(t){return _f(t)}function _f(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_f(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_f(n.fields[s])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function Fl(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(t);return e?16+Fl(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _i(r.fields,(o,s)=>{i+=o.length+Fl(s)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function Uv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wf(t){return!!t&&"integerValue"in t}function Qp(t){return!!t&&"arrayValue"in t}function $v(t){return!!t&&"nullValue"in t}function zv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jl(t){return!!t&&"mapValue"in t}function C2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VE])==null?void 0:r.stringValue)===jE}function xs(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xs(t.arrayValue.values[n]);return e}return{...t}}function R2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=xs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_i(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Wt(xs(this.value))}}function UE(t){const e=[];return _i(t.fields,(n,r)=>{const i=new et([n]);if(jl(r)){const o=UE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,J.min(),J.min(),J.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,J.min(),J.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,J.min(),J.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.position=e,this.inclusive=n}}function Bv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n="asc"){this.field=e,this.dir=n}}function A2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{}class $e extends $E{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k2(e,n,r):n==="array-contains"?new O2(e,r):n==="in"?new D2(e,r):n==="not-in"?new N2(e,r):n==="array-contains-any"?new L2(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b2(e,r):new x2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends $E{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hn(e,n)}matches(e){return zE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(t){return t.op==="and"}function BE(t){return P2(t)&&zE(t)}function P2(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Ef(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(BE(t))return t.filters.map(e=>Ef(e)).join(",");{const e=t.filters.map(n=>Ef(n)).join(",");return`${t.op}(${e})`}}function HE(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&HE(s,i.filters[a]),!0):!1}(t,e):void X(19439)}function qE(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(qE).join(" ,")+"}"}(t):"Filter"}class k2 extends $e{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class b2 extends $e{constructor(e,n){super(e,"in",n),this.keys=WE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x2 extends $e{constructor(e,n){super(e,"not-in",n),this.keys=WE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class O2 extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&aa(n.arrayValue,this.value)}}class D2 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class N2 extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!aa(this.value.arrayValue,n)}}class L2 extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>aa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function qv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new M2(t,e,n,r,i,o,s)}function Xp(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ef(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.Te=n}return e.Te}function Yp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hv(t.startAt,e.startAt)&&Hv(t.endAt,e.endAt)}function Tf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V2(t,e,n,r,i,o,s,a){return new Vo(t,e,n,r,i,o,s,a)}function _c(t){return new Vo(t)}function Wv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GE(t){return t.collectionGroup!==null}function Os(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new We(et.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new la(o,r))}),n.has(et.keyField().canonicalString())||e.Ie.push(new la(et.keyField(),r))}return e.Ie}function En(t){const e=Z(t);return e.Ee||(e.Ee=F2(e,Os(t))),e.Ee}function F2(t,e){if(t.limitType==="F")return qv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new la(i.field,o)});const n=t.endAt?new Ou(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ou(t.startAt.position,t.startAt.inclusive):null;return qv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sf(t,e){const n=t.filters.concat([e]);return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Du(t,e,n){return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wc(t,e){return Yp(En(t),En(e))&&t.limitType===e.limitType}function KE(t){return`${Xp(En(t))}|lt:${t.limitType}`}function Ni(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qE(i)).join(", ")}]`),yc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(En(t))}; limitType=${t.limitType})`}function Ec(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Os(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=Bv(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Os(r),i)||r.endAt&&!function(s,a,u){const c=Bv(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Os(r),i))}(t,e)}function j2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QE(t){return(e,n)=>{let r=!1;for(const i of Os(t)){const o=U2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function U2(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Io(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new De(G.comparator);function Zn(){return $2}const XE=new De(G.comparator);function vs(...t){let e=XE;for(const n of t)e=e.insert(n.key,n);return e}function YE(t){let e=XE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Ds()}function JE(){return Ds()}function Ds(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const z2=new De(G.comparator),B2=new We(G.comparator);function oe(...t){let e=B2;for(const n of t)e=e.add(n);return e}const H2=new We(ie);function q2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function ZE(t){return{integerValue:""+t}}function W2(t,e){return w2(e)?ZE(e):Jp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function G2(t,e,n){return t instanceof Nu?function(i,o){const s={fields:{[NE]:{stringValue:DE},[ME]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Kp(o)&&(o=vc(o)),o&&(s.fields[LE]=o),{mapValue:s}}(n,e):t instanceof ua?tT(t,e):t instanceof ca?nT(t,e):function(i,o){const s=eT(i,o),a=Gv(s)+Gv(i.Ae);return wf(s)&&wf(i.Ae)?ZE(a):Jp(i.serializer,a)}(t,e)}function K2(t,e,n){return t instanceof ua?tT(t,e):t instanceof ca?nT(t,e):n}function eT(t,e){return t instanceof Lu?function(r){return wf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nu extends Tc{}class ua extends Tc{constructor(e){super(),this.elements=e}}function tT(t,e){const n=rT(e);for(const r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}class ca extends Tc{constructor(e){super(),this.elements=e}}function nT(t,e){let n=rT(e);for(const r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}class Lu extends Tc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gv(t){return Ve(t.integerValue||t.doubleValue)}function rT(t){return Qp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ua&&i instanceof ua||r instanceof ca&&i instanceof ca?So(r.elements,i.elements,An):r instanceof Lu&&i instanceof Lu?An(r.Ae,i.Ae):r instanceof Nu&&i instanceof Nu}(t.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sc{}function iT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sT(t.key,Bn.none()):new Ia(t.key,t.data,Bn.none());{const n=t.data,r=Wt.empty();let i=new We(et.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ei(t.key,r,new sn(i.toArray()),Bn.none())}}function Y2(t,e,n){t instanceof Ia?function(i,o,s){const a=i.value.clone(),u=Qv(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(i,o,s){if(!Ul(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Qv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(oT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ns(t,e,n,r){return t instanceof Ia?function(o,s,a,u){if(!Ul(o.precondition,s))return a;const c=o.value.clone(),h=Xv(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(o,s,a,u){if(!Ul(o.precondition,s))return a;const c=Xv(o.fieldTransforms,u,s),h=s.data;return h.setAll(oT(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ul(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function J2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=eT(r.transform,i||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function Kv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&So(r,i,(o,s)=>Q2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ia extends Sc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends Sc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qv(t,e,n){const r=new Map;he(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,K2(s,a,n[i]))}return r}function Xv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,G2(o,s,e))}return r}class sT extends Sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends Sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Y2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ns(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ns(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=iT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>Kv(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>Kv(n,r))}}class Zp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return z2}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Zp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,ae;function rO(t){switch(t){case F.OK:return X(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function aT(t){if(t===void 0)return Jn("GRPC error has no .code"),F.UNKNOWN;switch(t){case je.OK:return F.OK;case je.CANCELLED:return F.CANCELLED;case je.UNKNOWN:return F.UNKNOWN;case je.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case je.INTERNAL:return F.INTERNAL;case je.UNAVAILABLE:return F.UNAVAILABLE;case je.UNAUTHENTICATED:return F.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case je.NOT_FOUND:return F.NOT_FOUND;case je.ALREADY_EXISTS:return F.ALREADY_EXISTS;case je.PERMISSION_DENIED:return F.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case je.ABORTED:return F.ABORTED;case je.OUT_OF_RANGE:return F.OUT_OF_RANGE;case je.UNIMPLEMENTED:return F.UNIMPLEMENTED;case je.DATA_LOSS:return F.DATA_LOSS;default:return X(39323,{code:t})}}(ae=je||(je={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Rr([4294967295,4294967295],0);function Yv(t){const e=iO().encode(t),n=new wE;return n.update(e),new Uint8Array(n.digest())}function Jv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}class em{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _s(`Invalid padding: ${n}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _s(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(oO)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yv(e),[r,i]=Jv(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new em(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Yv(e),[r,i]=Jv(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _s extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ic(J.min(),i,new De(ie),Zn(),oe())}}class Ca{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ca(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class lT{constructor(e,n){this.targetId=e,this.Ce=n}}class uT{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zv{constructor(){this.ve=0,this.Fe=e_(),this.Me=rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),r=oe();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new Ca(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=e_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=yl(),this.He=yl(),this.Ye=new De(ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Tf(o))if(r===0){const s=new G(o.path);this.et(n,s,ft.newNoDocument(s,J.min()))}else he(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Dr(r).toUint8Array()}catch(u){if(u instanceof OE)return To("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new em(s,i,o)}catch(u){return To(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Tf(a.target)){const u=new G(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,ft.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=oe();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Ic(e,n,this.Ye,this.je,r);return this.je=Zn(),this.Je=yl(),this.He=yl(),this.Ye=new De(ie),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new We(ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new We(ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yl(){return new De(G.comparator)}function e_(){return new De(G.comparator)}const aO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uO=(()=>({and:"AND",or:"OR"}))();class cO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function If(t,e){return t.useProto3Json||yc(e)?e:{value:e}}function Mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hO(t,e){return Mu(t,e.toTimestamp())}function Tn(t){return he(!!t,49232),J.fromTimestamp(function(n){const r=Or(n);return new we(r.seconds,r.nanos)}(t))}function tm(t,e){return Cf(t,e).canonicalString()}function Cf(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hT(t){const e=ge.fromString(t);return he(gT(e),10190,{key:e.toString()}),e}function Rf(t,e){return tm(t.databaseId,e.path)}function qh(t,e){const n=hT(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(fT(n))}function dT(t,e){return tm(t.databaseId,e)}function dO(t){const e=hT(t);return e.length===4?ge.emptyPath():fT(e)}function Af(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fT(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t_(t,e,n){return{name:Rf(t,e),fields:n.value.mapValue.fields}}function fO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(he(h===void 0||typeof h=="string",58123),rt.fromBase64String(h||"")):(he(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?F.UNKNOWN:aT(c.code);return new H(h,c.message||"")}(s);n=new uT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qh(t,r.document.name),o=Tn(r.document.updateTime),s=r.document.createTime?Tn(r.document.createTime):J.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new $l(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qh(t,r.document),o=r.readTime?Tn(r.readTime):J.min(),s=ft.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $l([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qh(t,r.document),o=r.removedTargetIds||[];n=new $l([],o,i,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new nO(i,o),a=r.targetId;n=new lT(a,s)}}return n}function pO(t,e){let n;if(e instanceof Ia)n={update:t_(t,e.key,e.value)};else if(e instanceof sT)n={delete:Rf(t,e.key)};else if(e instanceof Ei)n={update:t_(t,e.key,e.data),updateMask:SO(e.fieldMask)};else{if(!(e instanceof Z2))return X(16599,{Vt:e.type});n={verify:Rf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lu)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(t,e.precondition)),n}function mO(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Tn(i.updateTime):Tn(o);return s.isEqual(J.min())&&(s=Tn(o)),new X2(s,i.transformResults||[])}(n,e))):[]}function gO(t,e){return{documents:[dT(t,e.path)]}}function yO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dT(t,i);const o=function(c){if(c.length!==0)return mT(hn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Li(p.field),direction:wO(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=If(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function vO(t){let e=dO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const p=pT(f);return p instanceof hn&&BE(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(S){return new la(Mi(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,yc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,v=f.values||[];return new Ou(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,v=f.values||[];return new Ou(v,p)}(n.endAt)),V2(e,i,s,o,a,"F",u,c)}function _O(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mi(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mi(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mi(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mi(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Mi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>pT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function wO(t){return aO[t]}function EO(t){return lO[t]}function TO(t){return uO[t]}function Li(t){return{fieldPath:t.canonicalString()}}function Mi(t){return et.fromServerFormat(t.fieldPath)}function mT(t){return t instanceof $e?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(n.field),op:EO(n.op),value:n.value}}}(t):t instanceof hn?function(n){const r=n.getFilters().map(i=>mT(i));return r.length===1?r[0]:{compositeFilter:{op:TO(n.op),filters:r}}}(t):X(54877,{filter:t})}function SO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,o=J.min(),s=J.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.yt=e}}function CO(t){const e=vO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Du(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Cn=new AO}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(xr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class AO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(yT,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",PO=1048576;function i_([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class kO{constructor(e){this.Ir=e,this.buffer=new We(i_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(r_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?q(r_,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)})}}class xO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(gc.ce);const r=new kO(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(n_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Di()<=le.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function OO(t,e){return new xO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ns(r.mutation,i,sn.empty(),we.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=vs();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zn();const s=Ds(),a=function(){return Ds()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ei)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Ns(h.mutation,c,h.mutation.getFieldMask(),we.now())):s.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>a.set(c,new NO(h,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new De((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||sn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=JE();h.forEach(p=>{if(!o.has(p)){const v=iT(n.get(p),r.get(p));v!==null&&f.set(p,v),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(Jr());let a=ia,u=o;return s.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,oe())).next(h=>({batchId:a,changes:YE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=vs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=vs();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,u=>{const c=function(f,p){return new Vo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,ft.newInvalidDocument(h)))});let a=vs();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Ns(h.mutation,c,sn.empty(),we.now()),Ec(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:CO(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new De(G.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new De((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=Jr(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Jr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tO(n,r));let o=this.qr.get(n);o===void 0&&(o=oe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.Qr=new We(Ke.$r),this.Ur=new We(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ke(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new G(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1);let o=oe();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ke(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||ie(e.Yr,n.Yr)}static Kr(e,n){return ie(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(Ke.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new eO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ie);return n.forEach(i=>{const o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;G.isDocumentKey(o)||(o=o.child(""));const s=new Ke(new G(o),0);let a=new We(ie);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},s),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ke(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.ri=e,this.docs=function(){return new De(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ft.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zn();const s=n.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||g2(m2(h),r)<=0||(i.has(h.key)||Ec(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $O(this)}getSize(e){return j.resolve(this.size)}}class $O extends DO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.persistence=e,this.si=new wi(n=>Xp(n),Yp),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new nm,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new FO,this.referenceDelegate=e(this),this.Pi=new zO(this),this.indexManager=new RO,this.remoteDocumentCache=function(i){return new UO(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new IO(n),this.Ii=new MO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new BO(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BO extends v2{constructor(e){super(),this.currentSequenceNumber=e}}class rm{constructor(e){this.persistence=e,this.Ri=new nm,this.Vi=null}static mi(e){return new rm(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=G.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vu{constructor(e,n){this.persistence=e,this.pi=new wi(r=>E2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OO(this,n)}static mi(e,n){return new Vu(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fl(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new im(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ub()?8:_2(Vb())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new HO;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Di()<=le.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Di()<=le.DEBUG&&q("QueryEngine","Query:",Ni(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Di()<=le.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):j.resolve())}ys(e,n){if(Wv(n))return j.resolve(null);let r=En(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Du(n,null,"F"),r=En(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=oe(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,s,u.readTime)?this.ys(e,Du(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return Wv(n)||i.isEqual(J.min())?j.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?j.resolve(null):(Di()<=le.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ni(n)),this.vs(e,s,n,p2(i,ia)).next(a=>a))})}Ds(e,n){let r=new We(QE(e));return n.forEach((i,o)=>{Ec(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Di()<=le.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ni(n)),this.ps.getDocumentsMatchingQuery(e,n,xr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",WO=3e8;class GO{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new De(ie),this.xs=new wi(o=>Xp(o),Yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KO(t,e,n,r){return new GO(t,e,n,r)}async function _T(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=oe();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function QO(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let v=j.resolve();return p.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(I=>{const R=c.docVersions.get(S);he(R!==null,48541),I.version.compareTo(R)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wT(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function XO(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,h.addedDocuments,f)));let v=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(rt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),function(I,R,_){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=WO?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(o,v))});let u=Zn(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(YO(o,s,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(J.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ms=i,o))}function YO(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q(om,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:s,qs:i}})}function JO(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZO(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new mr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pf(t,e,n){const r=Z(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mo(s))throw s;q(om,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function o_(t,e,n){const r=Z(t);let i=J.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const f=Z(u),p=f.xs.get(h);return p!==void 0?j.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,h)}(r,s,En(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:oe())).next(a=>(eD(r,j2(e),a),{documents:a,Qs:o})))}function eD(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class s_{constructor(){this.activeTargetIds=q2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class l_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(a_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=null;function kf(){return vl===null?vl=function(){return 268435456+Math.round(2147483648*Math.random())}():vl++,"0x"+vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RestConnection",rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=kf(),a=this.zo(e,n.toUriEncodedString());q(Wh,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);const{host:c}=new URL(a),h=Ta(c);return this.Jo(e,a,u,r,h).then(f=>(q(Wh,`Received RPC '${e}' ${s}: `,f),f),f=>{throw To(Wh,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=rD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class sD extends iD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=kf();return new Promise((a,u)=>{const c=new EE;c.setWithCredentials(!0),c.listenOnce(TE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vl.NO_ERROR:const f=c.getResponseJson();q(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Vl.TIMEOUT:q(ct,`RPC '${e}' ${s} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const p=c.getStatus();if(q(ct,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const I=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(g)>=0?g:F.UNKNOWN}(S.status);u(new H(I,S.message))}else u(new H(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(ct,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);q(ct,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=kf(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CE(),a=IE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");q(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=s.createWebChannel(h,u);this.I_(f);let p=!1,v=!1;const S=new oD({Yo:R=>{v?q(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(q(ct,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(ct,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Zo:()=>f.close()}),I=(R,_,g)=>{R.listen(_,w=>{try{g(w)}catch(b){setTimeout(()=>{throw b},0)}})};return I(f,ys.EventType.OPEN,()=>{v||(q(ct,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),I(f,ys.EventType.CLOSE,()=>{v||(v=!0,q(ct,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(f))}),I(f,ys.EventType.ERROR,R=>{v||(v=!0,To(ct,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),I(f,ys.EventType.MESSAGE,R=>{var _;if(!v){const g=R.data[0];he(!!g,16349);const w=g,b=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(b){q(ct,`RPC '${e}' stream ${i} received error:`,b);const L=b.status;let V=function(T){const C=je[T];if(C!==void 0)return aT(C)}(L),A=b.message;V===void 0&&(V=F.INTERNAL,A="Unknown error status: "+L+" with message "+b.message),v=!0,S.a_(new H(V,A)),f.close()}else q(ct,`RPC '${e}' stream ${i} received:`,g),S.u_(g)}}),I(a,SE.STAT_EVENT,R=>{R.stat===yf.PROXY?q(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===yf.NOPROXY&&q(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){return new cO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="PersistentStream";class TT{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(u_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aD extends TT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fO(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Tn(s.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Af(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Tf(u)?{documents:gO(o,u)}:{query:yO(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cT(o,s.resumeToken);const c=If(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Mu(o,s.snapshotVersion.toTimestamp());const c=If(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_O(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Af(this.serializer),n.removeTarget=e,this.q_(n)}}class lD extends TT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mO(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Af(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class cD extends uD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Cf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Cf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="RemoteStore";class dD{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ti(this)&&(q(di,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await Ra(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Rc(c)}(this))})}),this.Ra=new hD(r,i)}}async function Rc(t){if(Ti(t))for(const e of t.da)await e(!0)}async function Ra(t){for(const e of t.da)await e(!1)}function ST(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),um(n)?lm(n):Fo(n).O_()&&am(n,e))}function sm(t,e){const n=Z(t),r=Fo(n);n.Ia.delete(e),r.O_()&&IT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ti(n)&&n.Ra.set("Unknown"))}function am(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(t).Y_(e)}function IT(t,e){t.Va.Ue(e),Fo(t).Z_(e)}function lm(t){t.Va=new sO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fo(t).start(),t.Ra.ua()}function um(t){return Ti(t)&&!Fo(t).x_()&&t.Ia.size>0}function Ti(t){return Z(t).Ea.size===0}function CT(t){t.Va=void 0}async function fD(t){t.Ra.set("Online")}async function pD(t){t.Ia.forEach((e,n)=>{am(t,e)})}async function mD(t,e){CT(t),um(t)?(t.Ra.ha(e),lm(t)):t.Ra.set("Unknown")}async function gD(t,e,n){if(t.Ra.set("Online"),e instanceof uT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){q(di,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fu(t,r)}else if(e instanceof $l?t.Va.Ze(e):e instanceof lT?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await wT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.Ia.get(c);h&&o.Ia.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),IT(o,u);const f=new mr(h.target,u,c,h.sequenceNumber);am(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(di,"Failed to raise snapshot:",r),await Fu(t,r)}}async function Fu(t,e,n){if(!Mo(e))throw e;t.Ea.add(1),await Ra(t),t.Ra.set("Offline"),n||(n=()=>wT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(di,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rc(t)})}function RT(t,e){return e().catch(n=>Fu(t,n,e))}async function Ac(t){const e=Z(t),n=Lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;yD(e);)try{const i=await JO(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,vD(e,i)}catch(i){await Fu(e,i)}AT(e)&&PT(e)}function yD(t){return Ti(t)&&t.Ta.length<10}function vD(t,e){t.Ta.push(e);const n=Lr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AT(t){return Ti(t)&&!Lr(t).x_()&&t.Ta.length>0}function PT(t){Lr(t).start()}async function _D(t){Lr(t).ra()}async function wD(t){const e=Lr(t);for(const n of t.Ta)e.ea(n.mutations)}async function ED(t,e,n){const r=t.Ta.shift(),i=Zp.from(r,e,n);await RT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ac(t)}async function TD(t,e){e&&Lr(t).X_&&await async function(r,i){if(function(s){return rO(s)&&s!==F.ABORTED}(i.code)){const o=r.Ta.shift();Lr(r).B_(),await RT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ac(r)}}(t,e),AT(t)&&PT(t)}async function c_(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),q(di,"RemoteStore received new credentials");const r=Ti(n);n.Ea.add(3),await Ra(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rc(n)}async function SD(t,e){const n=Z(t);e?(n.Ea.delete(2),await Rc(n)):e||(n.Ea.add(2),await Ra(n),n.Ra.set("Unknown"))}function Fo(t){return t.ma||(t.ma=function(n,r,i){const o=Z(n);return o.sa(),new aD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:fD.bind(null,t),t_:pD.bind(null,t),r_:mD.bind(null,t),H_:gD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),um(t)?lm(t):t.Ra.set("Unknown")):(await t.ma.stop(),CT(t))})),t.ma}function Lr(t){return t.fa||(t.fa=function(n,r,i){const o=Z(n);return o.sa(),new lD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_D.bind(null,t),r_:TD.bind(null,t),ta:wD.bind(null,t),na:ED.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ac(t)):(await t.fa.stop(),t.Ta.length>0&&(q(di,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new cm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hm(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),Mo(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=vs(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.ga=new De(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ao(e,n,ro.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class CD{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Z(n),o=i.queries;i.queries=d_(),o.forEach((s,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function d_(){return new wi(t=>KE(t),wc)}async function kT(t,e){const n=Z(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new ID,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=hm(s,`Initialization of query '${Ni(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&dm(n)}async function bT(t,e){const n=Z(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RD(t,e){const n=Z(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&dm(n)}function AD(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function dm(t){t.Ca.forEach(e=>{e.next()})}var bf,f_;(f_=bf||(bf={})).Ma="default",f_.Cache="cache";class xT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class PD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=QE(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new h_,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),v=Ec(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;p&&v?p.data.isEqual(v.data)?S!==I&&(r.track({type:3,doc:v}),R=!0):this.su(p,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.eu(v,u)>0||c&&this.eu(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),R=!0):p&&!v&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(a=!0)),R&&(v?(s=s.add(v),o=I?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((h,f)=>function(v,S){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:R})}};return I(v)-I(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,s.length!==0||c?{snapshot:new Ao(this.query,e.tu,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=oe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new DT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new OT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fm="SyncEngine";class kD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bD{constructor(e){this.key=e,this.hu=!1}}class xD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new wi(a=>KE(a),wc),this.Iu=new Map,this.Eu=new Set,this.du=new De(G.comparator),this.Au=new Map,this.Ru=new nm,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OD(t,e,n=!0){const r=jT(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await NT(r,e,n,!0),i}async function DD(t,e){const n=jT(t);await NT(n,e,!0,!1)}async function NT(t,e,n,r){const i=await ZO(t.localStore,En(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await ND(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ST(t.remoteStore,i),a}async function ND(t,e,n,r,i){t.pu=(f,p,v)=>async function(I,R,_,g){let w=R.view.ru(_);w.Cs&&(w=await o_(I.localStore,R.query,!1).then(({documents:A})=>R.view.ru(A,w)));const b=g&&g.targetChanges.get(R.targetId),L=g&&g.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(w,I.isPrimaryClient,b,L);return m_(I,R.targetId,V.au),V.snapshot}(t,f,p,v);const o=await o_(t.localStore,e,!0),s=new PD(e,o.Qs),a=s.ru(o.documents),u=Ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);m_(t,n,c.au);const h=new kD(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function LD(t,e,n){const r=Z(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!wc(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sm(r.remoteStore,i.targetId),xf(r,i.targetId)}).catch(Lo)):(xf(r,i.targetId),await Pf(r.localStore,i.targetId,!0))}async function MD(t,e){const n=Z(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sm(n.remoteStore,r.targetId))}async function VD(t,e,n){const r=HD(t);try{const i=await function(s,a){const u=Z(s),c=we.now(),h=a.reduce((v,S)=>v.add(S.key),oe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Zn(),I=oe();return u.Ns.getEntries(v,h).next(R=>{S=R,S.forEach((_,g)=>{g.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{f=R;const _=[];for(const g of a){const w=J2(g,f.get(g.key).overlayedDocument);w!=null&&_.push(new Ei(g.key,w,UE(w.value.mapValue),Bn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,a)}).next(R=>{p=R;const _=R.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(v,R.batchId,_)})}).then(()=>({batchId:p.batchId,changes:YE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Vu[s.currentUser.toKey()];c||(c=new De(ie)),c=c.insert(a,u),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Aa(r,i.changes),await Ac(r.remoteStore)}catch(i){const o=hm(i,"Failed to persist write");n.reject(o)}}async function LT(t,e){const n=Z(t);try{const r=await XO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?he(s.hu,14607):i.removedDocuments.size>0&&(he(s.hu,42227),s.hu=!1))}),await Aa(n,r,e)}catch(r){await Lo(r)}}function p_(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Z(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&dm(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FD(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new De(G.comparator);s=s.insert(o,ft.newNoDocument(o,J.min()));const a=oe().add(o),u=new Ic(J.min(),new Map,new De(ie),s,a);await LT(r,u),r.du=r.du.remove(o),r.Au.delete(e),pm(r)}else await Pf(r.localStore,e,!1).then(()=>xf(r,e,n)).catch(Lo)}async function jD(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await QO(n.localStore,e);VT(n,r,null),MT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(n,i)}catch(i){await Lo(i)}}async function UD(t,e,n){const r=Z(t);try{const i=await function(s,a){const u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(he(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);VT(r,e,n),MT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Aa(r,i)}catch(i){await Lo(i)}}function MT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function VT(t,e,n){const r=Z(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function xf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||FT(t,r)})}function FT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),pm(t))}function m_(t,e,n){for(const r of n)r instanceof OT?(t.Ru.addReference(r.key,e),$D(t,r)):r instanceof DT?(q(fm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||FT(t,r.key)):X(19791,{wu:r})}function $D(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(fm,"New document in limbo: "+n),t.Eu.add(r),pm(t))}function pm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(ge.fromString(e)),r=t.fu.next();t.Au.set(r,new bD(n)),t.du=t.du.insert(n,r),ST(t.remoteStore,new mr(En(_c(n.path)),r,"TargetPurposeLimboResolution",gc.ce))}}async function Aa(t,e,n){const r=Z(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=im.As(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,c){const h=Z(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,p=>j.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>j.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Mo(f))throw f;q(om,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),S=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,I)}}}(r.localStore,o))}async function zD(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){q(fm,"User change. New user:",e.toKey());const r=await _T(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Aa(n,r.Ls)}}function BD(t,e){const n=Z(t),r=n.Au.get(e);if(r&&r.hu)return oe().add(r.key);{let i=oe();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function jT(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.Pu.H_=RD.bind(null,e.eventManager),e.Pu.yu=AD.bind(null,e.eventManager),e}function HD(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UD.bind(null,e),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KO(this.persistence,new qO,e.initialUser,this.serializer)}Cu(e){return new vT(rm.mi,this.serializer)}Du(e){return new tD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class qD extends ju{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof Vu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new vT(r=>Vu.mi(r,n),this.serializer)}}class Of{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zD.bind(null,this.syncEngine),await SD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CD}()}createDatastore(e){const n=Cc(e.databaseInfo.databaseId),r=function(o){return new sD(o)}(e.databaseInfo);return function(o,s,a,u){return new cD(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new dD(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>p_(this.syncEngine,n,0),function(){return l_.v()?new l_:new nD}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const f=new xD(i,o,s,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Z(i);q(di,"RemoteStore shutting down."),o.Ea.add(5),await Ra(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Of.provider={build:()=>new Of};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class WD{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{q(Mr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q(Mr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kh(t,e){t.asyncQueue.verifyOperationInProgress(),q(Mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _T(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function g_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GD(t);q(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>c_(e.remoteStore,i)),t._onlineComponents=e}async function GD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Mr,"Using user provided OfflineComponentProvider");try{await Kh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Kh(t,new ju)}}else q(Mr,"Using default OfflineComponentProvider"),await Kh(t,new qD(void 0));return t._offlineComponents}async function $T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Mr,"Using user provided OnlineComponentProvider"),await g_(t,t._uninitializedComponentsProvider._online)):(q(Mr,"Using default OnlineComponentProvider"),await g_(t,new Of))),t._onlineComponents}function KD(t){return $T(t).then(e=>e.syncEngine)}async function Df(t){const e=await $T(t),n=e.eventManager;return n.onListen=OD.bind(null,e.syncEngine),n.onUnlisten=LD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MD.bind(null,e.syncEngine),n}function QD(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new UT({next:p=>{h.Nu(),s.enqueueAndForget(()=>bT(o,f));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new xT(_c(a.path),h,{includeMetadataChanges:!0,qa:!0});return kT(o,f)}(await Df(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firestore.googleapis.com",v_=!0;class __{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BT,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PO)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n2;switch(r.type){case"firstParty":return new s2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y_.get(n);r&&(q("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}}function XD(t,e,n,r={}){var c;t=ni(t,Pc);const i=Ta(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(aE(`https://${a}`),uE("Firestore",!0)),o.host!==BT&&o.host!==a&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:a,ssl:i,emulatorOptions:r};if(!na(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ht.MOCK_USER;else{h=lE(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(p)}t._authCredentials=new r2(new AE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Sa(n,Be._jsonSchema))return new Be(e,r||null,new G(ge.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ze("string",Be._jsonSchemaVersion),referencePath:ze("string")};class Pr extends Ur{constructor(e,n,r){super(e,n,_c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new G(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function jo(t,e,...n){if(t=Dt(t),PE("collection","path",e),t instanceof Pc){const r=ge.fromString(e,...n);return Ov(r),new Pr(t,null,r)}{if(!(t instanceof Be||t instanceof Pr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Ov(r),new Pr(t.firestore,null,r)}}function HT(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Wp.newId()),PE("doc","path",e),t instanceof Pc){const r=ge.fromString(e,...n);return xv(r),new Be(t,null,new G(r))}{if(!(t instanceof Be||t instanceof Pr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return xv(r),new Be(t.firestore,t instanceof Pr?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const r=Gh();r&&q(w_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ar;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;q(w_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jn("INTERNAL UNHANDLED ERROR: ",T_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cm.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&X(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ha extends Pc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new E_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function YD(t,e){const n=typeof t=="object"?t:Hp(),r=typeof t=="string"?t:e||bu,i=Do(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oE("firestore");o&&XD(i,...o)}return i}function mm(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JD(t),t._firestoreClient}function JD(t){var r,i,o;const e=t._freezeSettings(),n=function(a,u,c,h){return new I2(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new WD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gt(rt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gt(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sa(e,Gt._jsonSchema))return Gt.fromBase64String(e.bytes)}}Gt._jsonSchemaVersion="firestore/bytes/1.0",Gt._jsonSchema={type:ze("string",Gt._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sn._jsonSchemaVersion}}static fromJSON(e){if(Sa(e,Sn._jsonSchema))return new Sn(e.latitude,e.longitude)}}Sn._jsonSchemaVersion="firestore/geoPoint/1.0",Sn._jsonSchema={type:ze("string",Sn._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:In._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sa(e,In._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new In(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}In._jsonSchemaVersion="firestore/vectorValue/1.0",In._jsonSchema={type:ze("string",In._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ia(e,this.data,n,this.fieldTransforms)}}function WT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class ym{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WT(this.Ac)&&ZD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cc(e)}Cc(e,n,r,i=!1){return new ym({Ac:e,methodName:n,Dc:r,path:et.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(t){const e=t._freezeSettings(),n=Cc(t._databaseId);return new tN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nN(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);XT("Data must be an object, but it was:",s,r);const a=KT(r,s);let u,c;if(o.merge)u=new sn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const p=iN(e,f,n);if(!s.contains(p))throw new H(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sN(h,p)||h.push(p)}u=new sn(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new eN(new Wt(a),u,c)}function rN(t,e,n,r=!1){return vm(n,t.Cc(r?4:3,e))}function vm(t,e){if(QT(t=Dt(t)))return XT("Unsupported field value:",e,t),KT(t,e);if(t instanceof qT)return function(r,i){if(!WT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=vm(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=we.fromDate(r);return{timestampValue:Mu(i.serializer,o)}}if(r instanceof we){const o=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mu(i.serializer,o)}}if(r instanceof Sn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gt)return{bytesValue:cT(i.serializer,r._byteString)};if(r instanceof Be){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof In)return function(s,a){return{mapValue:{fields:{[VE]:{stringValue:jE},[xu]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Jp(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${mc(r)}`)}(t,e)}function KT(t,e){const n={};return xE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(t,(r,i)=>{const o=vm(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Sn||t instanceof Gt||t instanceof Be||t instanceof qT||t instanceof In)}function XT(t,e,n){if(!QT(n)||!kE(n)){const r=mc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iN(t,e,n){if((e=Dt(e))instanceof gm)return e._internalPath;if(typeof e=="string")return YT(t,e);throw Uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const oN=new RegExp("[~\\*/\\[\\]]");function YT(t,e,n){if(e.search(oN)>=0)throw Uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gm(...e.split("."))._internalPath}catch{throw Uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+t+u)}function sN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aN extends JT{data(){return super.data()}}function kc(t,e){return typeof e=="string"?YT(t,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class wm extends _m{}function bc(t,e,...n){let r=[];e instanceof _m&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Em).length,a=o.filter(u=>u instanceof xc).length;if(s>1||s>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xc extends wm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xc(e,n,r)}_apply(e){const n=this._parse(e);return eS(e._query,n),new Ur(e.firestore,e.converter,Sf(e._query,n))}_parse(e){const n=GT(e.firestore);return function(o,s,a,u,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){C_(f,h);const S=[];for(const I of f)S.push(I_(u,o,I));p={arrayValue:{values:S}}}else p=I_(u,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||C_(f,h),p=rN(a,s,f,h==="in"||h==="not-in");return $e.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oc(t,e,n){const r=e,i=kc("where",t);return xc._create(i,r,n)}class Em extends _m{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Em(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)eS(s,u),s=Sf(s,u)}(e._query,n),new Ur(e.firestore,e.converter,Sf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tm extends wm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new la(o,s)}(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Vo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Dc(t,e="asc"){const n=e,r=kc("orderBy",t);return Tm._create(r,n)}class Sm extends wm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sm(e,n,r)}_apply(e){return new Ur(e.firestore,e.converter,Du(e._query,this._limit,this._limitType))}}function ZT(t){return f2("limit",t),Sm._create("limit",t,"F")}function I_(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!G.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uv(t,new G(r))}if(n instanceof Be)return Uv(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uN{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _i(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[xu].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Ve(s.doubleValue));return new In(n)}convertGeoPoint(e){return new Sn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const n=Or(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);he(gT(r),9688,{name:e});const i=new sa(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ri extends JT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ri._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ri._jsonSchemaVersion="firestore/documentSnapshot/1.0",ri._jsonSchema={type:ze("string",ri._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class zl extends ri{data(e={}){return super.data(e)}}class io{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zl(this._firestore,this._userDataWriter,r.key,r,new ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:hN(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){t=ni(t,Be);const e=ni(t.firestore,ha);return QD(mm(e),t._key).then(n=>rS(e,t,n))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:ze("string",io._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class tS extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function nS(t,e){const n=ni(t.firestore,ha),r=HT(t),i=cN(t.converter,e);return fN(n,[nN(GT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Nc(t,...e){var u,c,h;t=Dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||S_(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(S_(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let o,s,a;if(t instanceof Be)s=ni(t.firestore,ha),a=_c(t._key.path),o={next:f=>{e[r]&&e[r](rS(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ni(t,Ur);s=ni(f.firestore,ha),a=f._query;const p=new tS(s);o={next:v=>{e[r]&&e[r](new io(s,p,f,v))},error:e[r+1],complete:e[r+2]},lN(t._query)}return function(p,v,S,I){const R=new UT(I),_=new xT(v,R,S);return p.asyncQueue.enqueueAndForget(async()=>kT(await Df(p),_)),()=>{R.Nu(),p.asyncQueue.enqueueAndForget(async()=>bT(await Df(p),_))}}(mm(s),a,i,o)}function fN(t,e){return function(r,i){const o=new Ar;return r.asyncQueue.enqueueAndForget(async()=>VD(await KD(r),i,o)),o.promise}(mm(t),e)}function rS(t,e,n){const r=n.docs.get(e._key),i=new tS(t);return new ri(t,i,e._key,r,new ws(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){No=i})(gE),Yn(new Rn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ha(new i2(r.getProvider("auth-internal")),new a2(s,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(c.options.projectId,h)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xt(Av,Pv,e),Xt(Av,Pv,"esm2020")})();var pN="firebase",mN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt(pN,mN,"app");const iS="@firebase/installations",Im="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1e4,sS=`w:${Im}`,aS="FIS_v2",gN="https://firebaseinstallations.googleapis.com/v1",yN=60*60*1e3,vN="installations",_N="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fi=new pc(vN,_N,wN);function lS(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS({projectId:t}){return`${gN}/projects/${t}/installations`}function cS(t){return{token:t.token,requestStatus:2,expiresIn:TN(t.expiresIn),creationTime:Date.now()}}async function hS(t,e){const r=(await e.json()).error;return fi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function dS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EN(t,{refreshToken:e}){const n=dS(t);return n.append("Authorization",SN(e)),n}async function fS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function TN(t){return Number(t.replace("s","000"))}function SN(t){return`${aS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uS(t),i=dS(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:aS,appId:t.appId,sdkVersion:sS},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await fS(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:cS(c.authToken)}}else throw await hS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^[cdef][\w-]{21}$/,Nf="";function AN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PN(t);return RN.test(n)?n:Nf}catch{return Nf}}function PN(t){return CN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;function gS(t,e){const n=Lc(t);yS(n,e),kN(n,e)}function yS(t,e){const n=mS.get(t);if(n)for(const r of n)r(e)}function kN(t,e){const n=bN();n&&n.postMessage({key:t,fid:e}),xN()}let Zr=null;function bN(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=t=>{yS(t.data.key,t.data.fid)}),Zr}function xN(){mS.size===0&&Zr&&(Zr.close(),Zr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-installations-database",DN=1,pi="firebase-installations-store";let Qh=null;function Cm(){return Qh||(Qh=pE(ON,DN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pi)}}})),Qh}async function $u(t,e){const n=Lc(t),i=(await Cm()).transaction(pi,"readwrite"),o=i.objectStore(pi),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&gS(t,e.fid),e}async function vS(t){const e=Lc(t),r=(await Cm()).transaction(pi,"readwrite");await r.objectStore(pi).delete(e),await r.done}async function Mc(t,e){const n=Lc(t),i=(await Cm()).transaction(pi,"readwrite"),o=i.objectStore(pi),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&gS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(t){let e;const n=await Mc(t.appConfig,r=>{const i=NN(r),o=LN(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Nf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NN(t){const e=t||{fid:AN(),registrationStatus:0};return _S(e)}function LN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VN(t)}:{installationEntry:e}}async function MN(t,e){try{const n=await IN(t,e);return $u(t.appConfig,n)}catch(n){throw lS(n)&&n.customData.serverCode===409?await vS(t.appConfig):await $u(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VN(t){let e=await R_(t.appConfig);for(;e.registrationStatus===1;)await pS(100),e=await R_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Rm(t);return r||n}return e}function R_(t){return Mc(t,e=>{if(!e)throw fi.create("installation-not-found");return _S(e)})}function _S(t){return FN(t)?{fid:t.fid,registrationStatus:0}:t}function FN(t){return t.registrationStatus===1&&t.registrationTime+oS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN({appConfig:t,heartbeatServiceProvider:e},n){const r=UN(t,n),i=EN(t,n),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:sS,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await fS(()=>fetch(r,a));if(u.ok){const c=await u.json();return cS(c)}else throw await hS("Generate Auth Token",u)}function UN(t,{fid:e}){return`${uS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t,e=!1){let n;const r=await Mc(t.appConfig,o=>{if(!wS(o))throw fi.create("not-registered");const s=o.authToken;if(!e&&BN(s))return o;if(s.requestStatus===1)return n=$N(t,e),o;{if(!navigator.onLine)throw fi.create("app-offline");const a=qN(o);return n=zN(t,a),a}});return n?await n:r.authToken}async function $N(t,e){let n=await A_(t.appConfig);for(;n.authToken.requestStatus===1;)await pS(100),n=await A_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Am(t,e):r}function A_(t){return Mc(t,e=>{if(!wS(e))throw fi.create("not-registered");const n=e.authToken;return WN(n)?{...e,authToken:{requestStatus:0}}:e})}async function zN(t,e){try{const n=await jN(t,e),r={...e,authToken:n};return await $u(t.appConfig,r),n}catch(n){if(lS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $u(t.appConfig,r)}throw n}}function wS(t){return t!==void 0&&t.registrationStatus===2}function BN(t){return t.requestStatus===2&&!HN(t)}function HN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yN}function qN(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function WN(t){return t.requestStatus===1&&t.requestTime+oS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t){const e=t,{installationEntry:n,registrationPromise:r}=await Rm(e);return r?r.catch(console.error):Am(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e=!1){const n=t;return await QN(n),(await Am(n,e)).token}async function QN(t){const{registrationPromise:e}=await Rm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){if(!t||!t.options)throw Xh("App Configuration");if(!t.name)throw Xh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xh(t){return fi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="installations",YN="installations-internal",JN=t=>{const e=t.getProvider("app").getImmediate(),n=XN(e),r=Do(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZN=t=>{const e=t.getProvider("app").getImmediate(),n=Do(e,ES).getImmediate();return{getId:()=>GN(n),getToken:i=>KN(n,i)}};function eL(){Yn(new Rn(ES,JN,"PUBLIC")),Yn(new Rn(YN,ZN,"PRIVATE"))}eL();Xt(iS,Im);Xt(iS,Im,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="analytics",tL="firebase_id",nL="origin",rL=60*1e3,iL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot=new zp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jt=new pc("analytics","Analytics",oL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(!t.startsWith(Pm)){const e=jt.create("invalid-gtag-resource",{gtagURL:t});return Ot.warn(e.message),""}return t}function TS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lL(t,e){const n=aL("firebase-js-sdk-policy",{createScriptURL:sL}),r=document.createElement("script"),i=`${Pm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function uL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function cL(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const u=(await TS(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){Ot.error(a)}t("config",i,o)}async function hL(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await TS(n);for(const u of s){const c=a.find(f=>f.measurementId===u),h=c&&e[c.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ot.error(o)}}function dL(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,u]=s;await hL(t,e,n,a,u)}else if(o==="config"){const[a,u]=s;await cL(t,e,n,r,a,u)}else if(o==="consent"){const[a,u]=s;t("consent",a,u)}else if(o==="get"){const[a,u,c]=s;t("get",a,u,c)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Ot.error(a)}}return i}function fL(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=dL(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function pL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=30,gL=1e3;class yL{constructor(e={},n=gL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SS=new yL;function vL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _L(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:vL(n)},i=iL.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();(s=u.error)!=null&&s.message&&(a=u.error.message)}catch{}throw jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function wL(t,e=SS,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw jt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jt.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new SL;return setTimeout(async()=>{a.abort()},n!==void 0?n:rL),IS({appId:r,apiKey:i,measurementId:o},s,a,e)}async function IS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SS){var a;const{appId:o,measurementId:s}=t;try{await EL(r,e)}catch(u){if(s)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw u}try{const u=await _L(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!TL(c)){if(i.deleteThrottleMetadata(o),s)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw u}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?yv(n,i.intervalMillis,mL):yv(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,f),Ot.debug(`Calling attemptFetch again in ${h} millis`),IS(t,f,r,i)}}function EL(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TL(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class SL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IL(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s={...r,send_to:o};t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(){if(cE())try{await hE()}catch(t){return Ot.warn(jt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ot.warn(jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RL(t,e,n,r,i,o,s){const a=wL(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ot.error(p)),e.push(a);const u=CL().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([a,u]);pL(o)||lL(o,c.measurementId),i("js",new Date);const f=(s==null?void 0:s.config)??{};return f[nL]="firebase",f.update=!0,h!=null&&(f[tL]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.app=e}_delete(){return delete Ls[this.app.options.appId],Promise.resolve()}}let Ls={},P_=[];const k_={};let Yh="dataLayer",PL="gtag",b_,CS,x_=!1;function kL(){const t=[];if(jb()&&t.push("This is a browser extension environment."),$b()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jt.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}function bL(t,e,n){kL();const r=t.options.appId;if(!r)throw jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jt.create("no-api-key");if(Ls[r]!=null)throw jt.create("already-exists",{id:r});if(!x_){uL(Yh);const{wrappedGtag:o,gtagCore:s}=fL(Ls,P_,k_,Yh,PL);CS=o,b_=s,x_=!0}return Ls[r]=RL(t,P_,k_,e,b_,Yh,n),new AL(t)}function xL(t=Hp()){t=Dt(t);const e=Do(t,zu);return e.isInitialized()?e.getImmediate():OL(t)}function OL(t,e={}){const n=Do(t,zu);if(n.isInitialized()){const i=n.getImmediate();if(na(e,n.getOptions()))return i;throw jt.create("already-initialized")}return n.initialize({options:e})}function DL(t,e,n,r){t=Dt(t),IL(CS,Ls[t.app.options.appId],e,n,r).catch(i=>Ot.error(i))}const O_="@firebase/analytics",D_="0.10.18";function NL(){Yn(new Rn(zu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return bL(r,i,n)},"PUBLIC")),Yn(new Rn("analytics-internal",t,"PRIVATE")),Xt(O_,D_),Xt(O_,D_,"esm2020");function t(e){try{const n=e.getProvider(zu).getImmediate();return{logEvent:(r,i,o)=>DL(n,r,i,o)}}catch(n){throw jt.create("interop-component-reg-failed",{reason:n})}}}NL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebasestorage.googleapis.com",AS="storageBucket",LL=2*60*1e3,ML=10*60*1e3,VL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne extends tr{constructor(e,n,r=0){super(Jh(e),`Firebase Storage: ${n} (${Jh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ne.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Jh(t){return"storage/"+t}function km(){const t="An unknown error occurred, please check the error payload for server response.";return new Ne(Te.UNKNOWN,t)}function FL(t){return new Ne(Te.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jL(t){return new Ne(Te.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ne(Te.UNAUTHENTICATED,t)}function $L(){return new Ne(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zL(t){return new Ne(Te.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PS(){return new Ne(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kS(){return new Ne(Te.CANCELED,"User canceled the upload/download.")}function BL(t){return new Ne(Te.INVALID_URL,"Invalid URL '"+t+"'.")}function HL(t){return new Ne(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qL(){return new Ne(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AS+"' property when initializing the app?")}function bS(){return new Ne(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WL(){return new Ne(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function GL(){return new Ne(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KL(t){return new Ne(Te.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lf(t){return new Ne(Te.INVALID_ARGUMENT,t)}function xS(){return new Ne(Te.APP_DELETED,"The Firebase app was deleted.")}function QL(t){return new Ne(Te.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ms(t,e){return new Ne(Te.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function us(t){throw new Ne(Te.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vt.makeFromUrl(e,n)}catch{return new Vt(e,"")}if(r.path==="")return r;throw HL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${i}/o${p}`,"i"),S={bucket:1,path:3},I=n===RS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",_=new RegExp(`^https?://${I}/${i}/${R}`,"i"),w=[{regex:a,indices:u,postModify:o},{regex:v,indices:S,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<w.length;b++){const L=w[b],V=L.regex.exec(e);if(V){const A=V[L.indices.bucket];let y=V[L.indices.path];y||(y=""),r=new Vt(A,y),L.postModify(r);break}}if(r==null)throw BL(e);return r}}class XL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,t(v,u())},R)}function p(){o&&clearTimeout(o)}function v(R,..._){if(c){p();return}if(R){p(),h.call(null,R,..._);return}if(u()||s){p(),h.call(null,R,..._);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let S=!1;function I(R){S||(S=!0,p(),!c&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function JL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return t!==void 0}function eM(t){return typeof t=="function"}function tM(t){return typeof t=="object"&&!Array.isArray(t)}function Vc(t){return typeof t=="string"||t instanceof String}function N_(t){return bm()&&t instanceof Blob}function bm(){return typeof Blob<"u"}function L_(t,e,n,r){if(r<e)throw Lf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ii||(ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,i,o,s,a,u,c,h,f,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,I)=>{this.resolve_=S,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _l(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ii.NO_ERROR,u=o.getStatus();if(!a||DS(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===ii.ABORT;r(!1,new _l(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new _l(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());ZL(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=km();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?xS():kS();s(u)}else{const u=PS();s(u)}};this.canceled_?n(!1,new _l(!1,null,!0)):this.backoffId_=YL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _l{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aM(t,e,n,r,i,o,s=!0,a=!1){const u=OS(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return oM(h,e),rM(h,n),iM(h,o),sM(h,r),new nM(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uM(...t){const e=lM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bm())return new Blob(t);throw new Ne(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(typeof atob>"u")throw KL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zh{constructor(e,n){this.data=e,this.contentType=n||null}}function dM(t,e){switch(t){case vn.RAW:return new Zh(NS(e));case vn.BASE64:case vn.BASE64URL:return new Zh(LS(t,e));case vn.DATA_URL:return new Zh(pM(e),mM(e))}throw km()}function NS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fM(t){let e;try{e=decodeURIComponent(t)}catch{throw Ms(vn.DATA_URL,"Malformed data URL.")}return NS(e)}function LS(t,e){switch(t){case vn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ms(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ms(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hM(e)}catch(i){throw i.message.includes("polyfill")?i:Ms(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class MS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ms(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pM(t){const e=new MS(t);return e.base64?LS(vn.BASE64,e.rest):fM(e.rest)}function mM(t){return new MS(t).contentType}function gM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){let r=0,i="";N_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N_(this.data_)){const r=this.data_,i=cM(r,e,n);return i===null?null:new Fn(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fn(r,!0)}}static getBlob(...e){if(bm()){const n=e.map(r=>r instanceof Fn?r.data_:r);return new Fn(uM.apply(null,n))}else{const n=e.map(s=>Vc(s)?dM(vn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Fn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){let e;try{e=JSON.parse(t)}catch{return null}return tM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){return e}class _t{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_M}}let wl=null;function wM(t){return!Vc(t)||t.length<2?t:FS(t)}function xm(){if(wl)return wl;const t=[];t.push(new _t("bucket")),t.push(new _t("generation")),t.push(new _t("metageneration")),t.push(new _t("name","fullPath",!0));function e(o,s){return wM(s)}const n=new _t("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new _t("size");return i.xform=r,t.push(i),t.push(new _t("timeCreated")),t.push(new _t("updated")),t.push(new _t("md5Hash",null,!0)),t.push(new _t("cacheControl",null,!0)),t.push(new _t("contentDisposition",null,!0)),t.push(new _t("contentEncoding",null,!0)),t.push(new _t("contentLanguage",null,!0)),t.push(new _t("contentType",null,!0)),t.push(new _t("metadata","customMetadata",!0)),wl=t,wl}function EM(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Vt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function TM(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return EM(r,t),r}function jS(t,e,n){const r=VS(e);return r===null?null:TM(t,r,n)}function SM(t,e,n,r){const i=VS(e);if(i===null||!Vc(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const h=t.bucket,f=t.fullPath,p="/b/"+s(h)+"/o/"+s(f),v=Pa(p,n,r),S=OS({alt:"media",token:c});return v+S})[0]}function US(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Uo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){if(!t)throw km()}function Om(t,e){function n(r,i){const o=jS(t,i,e);return Hn(o!==null),o}return n}function IM(t,e){function n(r,i){const o=jS(t,i,e);return Hn(o!==null),SM(o,i,t.host,t._protocol)}return n}function ka(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$L():i=UL():n.getStatus()===402?i=jL(t.bucket):n.getStatus()===403?i=zL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function $S(t){const e=ka(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=FL(t.path)),o.serverResponse=i.serverResponse,o}return n}function CM(t,e,n){const r=e.fullServerUrl(),i=Pa(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Uo(i,o,Om(t,n),s);return a.errorHandler=$S(e),a}function RM(t,e,n){const r=e.fullServerUrl(),i=Pa(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Uo(i,o,IM(t,n),s);return a.errorHandler=$S(e),a}function AM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zS(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=AM(null,e)),r}function BS(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let b=0;b<2;b++)w=w+Math.random().toString().slice(2);return w}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const c=zS(e,r,i),h=US(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+u+"--",v=Fn.getBlob(f,r,p);if(v===null)throw bS();const S={name:c.fullPath},I=Pa(o,t.host,t._protocol),R="POST",_=t.maxUploadRetryTime,g=new Uo(I,R,Om(t,n),_);return g.urlParams=S,g.headers=s,g.body=v.uploadData(),g.errorHandler=ka(e),g}class Bu{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Dm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Hn(!1)}return Hn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function PM(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=zS(e,r,i),a={name:s.fullPath},u=Pa(o,t.host,t._protocol),c="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=US(s,n),p=t.maxUploadRetryTime;function v(I){Dm(I);let R;try{R=I.getResponseHeader("X-Goog-Upload-URL")}catch{Hn(!1)}return Hn(Vc(R)),R}const S=new Uo(u,c,v,p);return S.urlParams=a,S.headers=h,S.body=f,S.errorHandler=ka(e),S}function kM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(c){const h=Dm(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hn(!1)}f||Hn(!1);const p=Number(f);return Hn(!isNaN(p)),new Bu(p,r.size(),h==="final")}const s="POST",a=t.maxUploadRetryTime,u=new Uo(n,s,o,a);return u.headers=i,u.errorHandler=ka(e),u}const M_=256*1024;function bM(t,e,n,r,i,o,s,a){const u=new Bu(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw WL();const c=u.total-u.current;let h=c;i>0&&(h=Math.min(h,i));const f=u.current,p=f+h;let v="";h===0?v="finalize":c===h?v="upload, finalize":v="upload";const S={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${u.current}`},I=r.slice(f,p);if(I===null)throw bS();function R(b,L){const V=Dm(b,["active","final"]),A=u.current+h,y=r.size();let T;return V==="final"?T=Om(e,o)(b,L):T=null,new Bu(A,y,V==="final",T)}const _="POST",g=e.maxUploadRetryTime,w=new Uo(n,_,R,g);return w.headers=S,w.body=I.uploadData(),w.progressCallback=a||null,w.errorHandler=ka(t),w}const Rt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ed(t){switch(t){case"running":case"pausing":case"canceling":return Rt.RUNNING;case"paused":return Rt.PAUSED;case"success":return Rt.SUCCESS;case"canceled":return Rt.CANCELED;case"error":return Rt.ERROR;default:return Rt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r){if(eM(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class OM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw us("cannot .send() more than once");if(Ta(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw us("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw us("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw us("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw us("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DM extends OM{initXhr(){this.xhr_.responseType="text"}}function Kr(){return new DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=xm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(DS(i.status,[]))if(o)i=PS();else{this.sleepTime=Math.max(this.sleepTime*2,VL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=PM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Kr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=kM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Kr,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=M_*this._chunkMultiplier,n=new Bu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=bM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(s,Kr,i,o,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){M_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=CM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Kr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=BS(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Kr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=kS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ed(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new xM(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ed(this._state)){case Rt.SUCCESS:ki(this._resolve.bind(null,this.snapshot))();break;case Rt.CANCELED:case Rt.ERROR:const n=this._reject;ki(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ed(this._state)){case Rt.RUNNING:case Rt.PAUSED:e.next&&ki(e.next.bind(e,this.snapshot))();break;case Rt.SUCCESS:e.complete&&ki(e.complete.bind(e))();break;case Rt.CANCELED:case Rt.ERROR:e.error&&ki(e.error.bind(e,this._error))();break;default:e.error&&ki(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this._service=e,n instanceof Vt?this._location=n:this._location=Vt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mi(e,n)}get root(){const e=new Vt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FS(this._location.path)}get storage(){return this._service}get parent(){const e=yM(this._location.path);if(e===null)return null;const n=new Vt(this._location.bucket,e);return new mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QL(e)}}function LM(t,e,n){t._throwIfRoot("uploadBytes");const r=BS(t.storage,t._location,xm(),new Fn(e,!0),n);return t.storage.makeRequestWithTokens(r,Kr).then(i=>({metadata:i,ref:t}))}function MM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new NM(t,new Fn(e),n)}function VM(t){t._throwIfRoot("getDownloadURL");const e=RM(t.storage,t._location,xm());return t.storage.makeRequestWithTokens(e,Kr).then(n=>{if(n===null)throw GL();return n})}function FM(t,e){const n=vM(t._location.path,e),r=new Vt(t._location.bucket,n);return new mi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){return/^[A-Za-z]+:\/\//.test(t)}function UM(t,e){return new mi(t,e)}function HS(t,e){if(t instanceof Nm){const n=t;if(n._bucket==null)throw qL();const r=new mi(n,n._bucket);return e!=null?HS(r,e):r}else return e!==void 0?FM(t,e):t}function $M(t,e){if(e&&jM(e)){if(t instanceof Nm)return UM(t,e);throw Lf("To use ref(service, url), the first argument must be a Storage instance.")}else return HS(t,e)}function V_(t,e){const n=e==null?void 0:e[AS];return n==null?null:Vt.makeFromBucketSpec(n,t)}function zM(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ta(e);i&&(aE(`https://${t.host}/b`),uE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:lE(o,t.app.options.projectId))}class Nm{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=RS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LL,this._maxUploadRetryTime=ML,this._requests=new Set,i!=null?this._bucket=Vt.makeFromBucketSpec(i,this._host):this._bucket=V_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vt.makeFromBucketSpec(this._url,e):this._bucket=V_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new XL(xS());{const s=aM(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const F_="@firebase/storage",j_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="storage";function BM(t,e,n){return t=Dt(t),LM(t,e,n)}function HM(t,e,n){return t=Dt(t),MM(t,e,n)}function WS(t){return t=Dt(t),VM(t)}function GS(t,e){return t=Dt(t),$M(t,e)}function qM(t=Hp(),e){t=Dt(t);const r=Do(t,qS).getImmediate({identifier:e}),i=oE("storage");return i&&WM(r,...i),r}function WM(t,e,n,r={}){zM(t,e,n,r)}function GM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nm(n,r,i,e,gE)}function KM(){Yn(new Rn(qS,GM,"PUBLIC").setMultipleInstances(!0)),Xt(F_,j_,""),Xt(F_,j_,"esm2020")}KM();const QM={apiKey:"[YOUR-API-KEY]",authDomain:"gef-mixer.firebaseapp.com",projectId:"gef-mixer",storageBucket:"gef-mixer.firebasestorage.app",messagingSenderId:"1067367218518",appId:"1:1067367218518:web:4f8250d6809b0ff9bdeaf7",measurementId:"G-HWLCYQL7B4"},Lm=yE(QM);xL(Lm);const Si=YD(Lm),KS=qM(Lm);const XM=()=>{const[t,e]=D.useState([]);D.useEffect(()=>{const r=bc(jo(Si,"photos"),Oc("type","==","live"),Dc("createdAt","desc"),ZT(5)),i=Nc(r,o=>{const s=[];o.forEach(a=>{s.push({id:a.id,...a.data()})}),e(s)});return()=>i()},[]);const n={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,fade:!0,cssEase:"linear"};return t.length===0?null:N.jsx("div",{className:"photo-slider-container",children:N.jsx(Sb,{...n,children:t.map(r=>N.jsx("div",{className:"slider-item",children:N.jsx("img",{src:r.url,alt:"Latest from the event"})},r.id))})})};var QS={exports:{}};(function(t,e){(function(n,r){r()})(Vn,function(){function n(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,h,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){u(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Vn=="object"&&Vn.global===Vn?Vn:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,f){var p=s.URL||s.webkitURL,v=document.createElement("a");h=h||c.name||"download",v.download=h,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?o(v):i(v.href)?r(c,h,f):o(v,v.target="_blank")):(v.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,f){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),h);else if(i(c))r(c,h,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){o(p)})}}:function(c,h,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return r(c,h,f);var v=c.type==="application/octet-stream",S=/constructor/i.test(s.HTMLElement)||s.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||v&&S||a)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var w=R.result;w=I?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=w:location=w,p=null},R.readAsDataURL(c)}else{var _=s.URL||s.webkitURL,g=_.createObjectURL(c);p?p.location=g:location.href=g,p=null,setTimeout(function(){_.revokeObjectURL(g)},4e4)}});s.saveAs=u.saveAs=u,t.exports=u})})(QS);var YM=QS.exports;const JM=({photo:t,onClick:e})=>{const[n,r]=D.useState(!1);return D.useEffect(()=>{const i=new Image;i.src=t.url,i.onload=()=>r(!0)},[t.url]),N.jsx("div",{className:`photo-item ${n?"loaded":""}`,onClick:e,children:n?N.jsx("img",{src:t.url,alt:"Uploaded to gallery"}):N.jsx("div",{className:"placeholder"})})},ZM=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(null);D.useEffect(()=>{const a=bc(jo(Si,"photos"),Oc("type","==","live"),Dc("createdAt","desc")),u=Nc(a,c=>{const h=[];c.forEach(f=>{const{url:p}=f.data();h.push({id:f.id,url:p})}),e(h)});return()=>u()},[]);const i=a=>{r(a)},o=()=>{r(null)},s=a=>{a.stopPropagation(),n&&fetch(n).then(u=>u.blob()).then(u=>{YM.saveAs(u,`GEF-Mixer-${Date.now()}.jpg`)}).catch(u=>console.error("Failed to download image:",u))};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"photo-grid",children:t.map(a=>N.jsx(JM,{photo:a,onClick:()=>i(a.url)},a.id))}),n&&N.jsx("div",{className:"modal-overlay",onClick:o,children:N.jsxs("div",{className:"modal-content",children:[N.jsx("img",{src:n,alt:"Full-screen preview"}),N.jsx("button",{className:"download-button",onClick:s,children:"Download"})]})})]})};const e4=(t,e)=>new Promise(n=>{const r=new FileReader;r.onload=i=>{var s;const o=new Image;o.onload=()=>{const a=document.createElement("canvas"),u=a.getContext("2d");if(!u)return n(t);const c=1920,h=.8;let{width:f,height:p}=o;f>c&&(p=c/f*p,f=c),a.width=f,a.height=p,u.drawImage(o,0,0,f,p);const v=()=>{a.toBlob(S=>{if(S){const I=t.name.replace(/\.[^/.]+$/,"")+".jpeg",R=new File([S],I,{type:"image/jpeg"});n(R)}else n(t)},"image/jpeg",h)};if(e){const S=new Image;S.src="/frame.png",S.onload=()=>{const I=f/p,R=S.width/S.height;let _,g,w,b;I>R?(b=S.height,w=b*I,_=(S.width-w)/2,g=0):(w=S.width,b=w/I,_=0,g=S.height-b),u.drawImage(S,_,g,w,b,0,0,f,p),v()},S.onerror=()=>{v()}}else v()},o.src=(s=i.target)==null?void 0:s.result},r.readAsDataURL(t)}),t4=({onClose:t,onUploadComplete:e})=>{const[n,r]=D.useState(null),[i,o]=D.useState(null),[s,a]=D.useState(!1),[u,c]=D.useState(0),[h,f]=D.useState(!0),p=D.useRef(null),v=D.useRef(null),S=_=>{if(_.target.files&&_.target.files[0]){const g=_.target.files[0];r(g),o(URL.createObjectURL(g))}_.target.value=""},I=()=>{r(null),o(null)},R=async()=>{if(!n)return;a(!0),c(0);const _=await e4(n,h),g=`${Date.now()}-${_.name}`,w=GS(KS,`images/${g}`),b=HM(w,_);b.on("state_changed",L=>c(L.bytesTransferred/L.totalBytes*100),L=>{console.error("Upload failed:",L),a(!1)},()=>{WS(b.snapshot.ref).then(async L=>{try{await nS(jo(Si,"photos"),{url:L,createdAt:new Date,type:"live"}),e()}catch(V){console.error("Error adding document: ",V)}a(!1)})})};return N.jsx("div",{className:"modal-overlay",onClick:t,children:N.jsxs("div",{className:"upload-modal-content",onClick:_=>_.stopPropagation(),children:[N.jsx("button",{className:"close-button",onClick:t,children:""}),i?N.jsxs("div",{className:"upload-preview",children:[N.jsx("img",{src:i,alt:"Preview",className:"preview-image"}),N.jsx("div",{className:"frame-toggle",children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",checked:h,onChange:()=>f(!h)}),"Apply #GEF Frame"]})}),s?N.jsxs("div",{className:"progress-bar-container",children:[N.jsx("div",{className:"progress-bar",style:{width:`${u}%`}}),N.jsxs("span",{children:[u.toFixed(0),"%"]})]}):N.jsxs("div",{className:"preview-actions",children:[N.jsx("button",{onClick:R,className:"upload-button primary",children:"Upload"}),N.jsx("button",{onClick:I,className:"upload-button secondary",children:"Cancel"})]})]}):N.jsxs("div",{className:"upload-options",children:[N.jsx("h2",{children:"Upload a Photo"}),N.jsx("button",{onClick:()=>{var _;return(_=v.current)==null?void 0:_.click()},className:"upload-button",children:"Take Photo"}),N.jsx("button",{onClick:()=>{var _;return(_=p.current)==null?void 0:_.click()},className:"upload-button",children:"Choose from Gallery"}),N.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:v,onChange:S,style:{display:"none"}}),N.jsx("input",{type:"file",accept:"image/*",ref:p,onChange:S,style:{display:"none"}})]})]})})};const n4=()=>{const[t,e]=D.useState(!1),n=()=>{e(!1)};return N.jsxs("div",{className:"home-page",children:[N.jsx(XM,{}),N.jsx(ZM,{}),N.jsx("button",{onClick:()=>e(!0),className:"upload-fab",children:"Upload"}),t&&N.jsx(t4,{onClose:()=>e(!1),onUploadComplete:n})]})};const r4=()=>N.jsxs("header",{className:"app-header",children:[N.jsx("div",{className:"header-left",children:N.jsxs(ef,{to:"/",className:"logo-link",children:[N.jsx("img",{src:"/logo.png",alt:"GEF Mixer Logo",className:"logo"}),N.jsx("span",{className:"header-title"})]})}),N.jsx("nav",{className:"header-nav",children:N.jsx(ef,{to:"/",end:!0,children:"Home"})})]});const i4=()=>N.jsx("footer",{className:"app-footer",children:N.jsxs("p",{children:[" ",new Date().getFullYear()," All rights reserved #GEF | Developed by"," ",N.jsx("a",{href:"https://paperlessenv.app",target:"_blank",rel:"noopener noreferrer",children:"Paperless"})," ","|"," ",N.jsx("a",{href:"https://sites.google.com/view/gefmixer/home",target:"_blank",rel:"noopener noreferrer",children:"Privacy"})]})});var o4=Object.defineProperty,s4=(t,e,n)=>e in t?o4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Se=(t,e,n)=>s4(t,typeof e!="symbol"?e+"":e,n);const Hu={x:0,y:0,width:0,height:0,unit:"px"},bi=(t,e,n)=>Math.min(Math.max(t,e),n),a4=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),U_=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function l4(t,e,n,r){const i=mn(t,n,r);return t.width&&(i.height=i.width/e),t.height&&(i.width=i.height*e),i.y+i.height>r&&(i.height=r-i.y,i.width=i.height*e),i.x+i.width>n&&(i.width=n-i.x,i.height=i.width/e),t.unit==="%"?cr(i,n,r):i}function u4(t,e,n){const r=mn(t,e,n);return r.x=(e-r.width)/2,r.y=(n-r.height)/2,t.unit==="%"?cr(r,e,n):r}function cr(t,e,n){return t.unit==="%"?{...Hu,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function mn(t,e,n){return t.unit?t.unit==="px"?{...Hu,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{...Hu,...t,unit:"px"}}function $_(t,e,n,r,i,o=0,s=0,a=r,u=i){const c={...t};let h=Math.min(o,r),f=Math.min(s,i),p=Math.min(a,r),v=Math.min(u,i);e&&(e>1?(h=s?s*e:h,f=h/e,p=a*e):(f=o?o/e:f,h=f*e,v=u/e)),c.y<0&&(c.height=Math.max(c.height+c.y,f),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,h),c.x=0);const S=r-(c.x+c.width);S<0&&(c.x=Math.min(c.x,r-h),c.width+=S);const I=i-(c.y+c.height);if(I<0&&(c.y=Math.min(c.y,i-f),c.height+=I),c.width<h&&((n==="sw"||n=="nw")&&(c.x-=h-c.width),c.width=h),c.height<f&&((n==="nw"||n=="ne")&&(c.y-=f-c.height),c.height=f),c.width>p&&((n==="sw"||n=="nw")&&(c.x-=p-c.width),c.width=p),c.height>v&&((n==="nw"||n=="ne")&&(c.y-=v-c.height),c.height=v),e){const R=c.width/c.height;if(R<e){const _=Math.max(c.width/e,f);(n==="nw"||n=="ne")&&(c.y-=_-c.height),c.height=_}else if(R>e){const _=Math.max(c.height*e,h);(n==="sw"||n=="nw")&&(c.x-=_-c.width),c.width=_}}return c}function c4(t,e,n,r){const i={...t};return e==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),e==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const xi={capture:!0,passive:!1};let h4=0;const sr=class tn extends D.PureComponent{constructor(){super(...arguments),Se(this,"docMoveBound",!1),Se(this,"mouseDownOnCrop",!1),Se(this,"dragStarted",!1),Se(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Se(this,"componentRef",D.createRef()),Se(this,"mediaRef",D.createRef()),Se(this,"resizeObserver"),Se(this,"initChangeCalled",!1),Se(this,"instanceId",`rc-${h4++}`),Se(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Se(this,"onCropPointerDown",e=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const o=mn(n,i.width,i.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,a=!!s;let u=e.clientX,c=e.clientY,h=o.x,f=o.y;if(s){const p=e.clientX-i.x,v=e.clientY-i.y;let S=0,I=0;s==="ne"||s=="e"?(S=p-(o.x+o.width),I=v-o.y,h=o.x,f=o.y+o.height):s==="se"||s==="s"?(S=p-(o.x+o.width),I=v-(o.y+o.height),h=o.x,f=o.y):s==="sw"||s=="w"?(S=p-o.x,I=v-(o.y+o.height),h=o.x+o.width,f=o.y):(s==="nw"||s=="n")&&(S=p-o.x,I=v-o.y,h=o.x+o.width,f=o.y+o.height),u=h+i.x+S,c=f+i.y+I}this.evData={startClientX:u,startClientY:c,startCropX:h,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:a,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Se(this,"onComponentPointerDown",e=>{const{crop:n,disabled:r,locked:i,keepSelection:o,onChange:s}=this.props,a=this.getBox();if(r||i||o&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const u=e.clientX-a.x,c=e.clientY-a.y,h={unit:"px",x:u,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:u,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(mn(h,a.width,a.height),cr(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Se(this,"onDocPointerMove",e=>{const{crop:n,disabled:r,onChange:i,onDragStart:o}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));const{evData:a}=this;a.clientX=e.clientX,a.clientY=e.clientY;let u;a.isResize?u=this.resizeCrop():u=this.dragCrop(),U_(n,u)||i(mn(u,s.width,s.height),cr(u,s.width,s.height))}),Se(this,"onComponentKeyDown",e=>{const{crop:n,disabled:r,onChange:i,onComplete:o}=this.props;if(r)return;const s=e.key;let a=!1;if(!n)return;const u=this.getBox(),c=this.makePixelCrop(u),h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?tn.nudgeStepLarge:e.shiftKey?tn.nudgeStepMedium:tn.nudgeStep;if(s==="ArrowLeft"?(c.x-=h,a=!0):s==="ArrowRight"?(c.x+=h,a=!0):s==="ArrowUp"?(c.y-=h,a=!0):s==="ArrowDown"&&(c.y+=h,a=!0),a){e.cancelable&&e.preventDefault(),c.x=bi(c.x,0,u.width-c.width),c.y=bi(c.y,0,u.height-c.height);const f=mn(c,u.width,u.height),p=cr(c,u.width,u.height);i(f,p),o&&o(f,p)}}),Se(this,"onHandlerKeyDown",(e,n)=>{const{aspect:r=0,crop:i,disabled:o,minWidth:s=0,minHeight:a=0,maxWidth:u,maxHeight:c,onChange:h,onComplete:f}=this.props,p=this.getBox();if(o||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const v=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?tn.nudgeStepLarge:e.shiftKey?tn.nudgeStepMedium:tn.nudgeStep,S=mn(i,p.width,p.height),I=c4(S,e.key,v,n),R=$_(I,r,n,p.width,p.height,s,a,u,c);if(!U_(i,R)){const _=cr(R,p.width,p.height);h(R,_),f&&f(R,_)}}),Se(this,"onDocPointerDone",e=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:o}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(e),i&&i(mn(n,s.width,s.height),cr(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Se(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:o}=e.getBoundingClientRect();return{x:n,y:r,width:i,height:o}}componentDidUpdate(e){const{crop:n,onComplete:r}=this.props;if(r&&!e.crop&&n){const{width:i,height:o}=this.getBox();i&&o&&r(mn(n,i,o),cr(n,i,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,xi),this.document.addEventListener("pointerup",this.onDocPointerDone,xi),this.document.addEventListener("pointercancel",this.onDocPointerDone,xi),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,xi),this.document.removeEventListener("pointerup",this.onDocPointerDone,xi),this.document.removeEventListener("pointercancel",this.onDocPointerDone,xi),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),r=this.makePixelCrop(n),i=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return r.x=bi(e.startCropX+i,0,n.width-r.width),r.y=bi(e.startCropY+o,0,n.height-r.height),r}getPointRegion(e,n,r,i){const{evData:o}=this,s=o.clientX-e.x,a=o.clientY-e.y;let u;i&&n?u=n==="nw"||n==="n"||n==="ne":u=a<o.startCropY;let c;return r&&n?c=n==="nw"||n==="w"||n==="sw":c=s<o.startCropX,c?u?"nw":"sw":u?"ne":"se"}resolveMinDimensions(e,n,r=0,i=0){const o=Math.min(r,e.width),s=Math.min(i,e.height);return!n||!o&&!s?[o,s]:n>1?o?[o,o/n]:[s*n,s]:s?[s*n,s]:[o,o/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,o=this.getBox(),[s,a]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight);let u=this.makePixelCrop(o);const c=this.getPointRegion(o,e.ord,s,a),h=e.ord||c;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-s)),(a&&h==="nw"||h==="n"||h==="ne")&&(p=Math.min(p,-a));const v={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(v.x=e.startCropX,v.width=f,n?(v.height=v.width/n,v.y=e.startCropY-v.height):(v.height=Math.abs(p),v.y=e.startCropY-v.height)):c==="se"?(v.x=e.startCropX,v.y=e.startCropY,v.width=f,n?v.height=v.width/n:v.height=p):c==="sw"?(v.x=e.startCropX+f,v.y=e.startCropY,v.width=Math.abs(f),n?v.height=v.width/n:v.height=p):c==="nw"&&(v.x=e.startCropX+f,v.width=Math.abs(f),n?(v.height=v.width/n,v.y=e.startCropY-v.height):(v.height=Math.abs(p),v.y=e.startCropY+p));const S=$_(v,n,c,o.width,o.height,s,a,r,i);return n||tn.xyOrds.indexOf(h)>-1?u=S:tn.xOrds.indexOf(h)>-1?(u.x=S.x,u.width=S.width):tn.yOrds.indexOf(h)>-1&&(u.y=S.y,u.height=S.height),u.x=bi(u.x,0,o.width-u.width),u.y=bi(u.y,0,o.height-u.height),u}renderCropSelection(){const{ariaLabels:e=tn.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:o,crop:s}=this.props,a=this.getCropStyle();if(s)return ne.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&ne.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ne.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ne.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ne.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ne.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"nw"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"n"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"ne"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"e"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"se"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"s"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"sw"),role:"button"}),ne.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"w"),role:"button"})),i&&ne.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:u=>u.stopPropagation()},i(this.state)),o&&ne.createElement(ne.Fragment,null,ne.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ne.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...Hu,...this.props.crop||{}};return mn(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:r,className:i,crop:o,disabled:s,locked:a,style:u,ruleOfThirds:c}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,p=o?this.renderCropSelection():null,v=a4("ReactCrop",i,h&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",f&&"ReactCrop--new-crop",o&&e&&"ReactCrop--fixed-aspect",o&&r&&"ReactCrop--circular-crop",o&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return ne.createElement("div",{ref:this.componentRef,className:v,style:u},ne.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),o?ne.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},ne.createElement("defs",null,ne.createElement("mask",{id:`hole-${this.instanceId}`},ne.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?ne.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):ne.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),ne.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Se(sr,"xOrds",["e","w"]),Se(sr,"yOrds",["n","s"]),Se(sr,"xyOrds",["nw","ne","se","sw"]),Se(sr,"nudgeStep",1),Se(sr,"nudgeStepMedium",10),Se(sr,"nudgeStepLarge",100),Se(sr,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let d4=sr;const z_=1050/1159;function f4(t,e,n){return u4(l4({unit:"%",width:90},n,t,e),t,e)}const p4=(t,e)=>{const n=document.createElement("canvas"),r=t.naturalWidth/t.width,i=t.naturalHeight/t.height;n.width=e.width*r,n.height=e.height*i;const o=n.getContext("2d");if(!o)throw new Error("No 2d context");return o.drawImage(t,e.x*r,e.y*i,e.width*r,e.height*i,0,0,n.width,n.height),new Promise(s=>n.toBlob(a=>a&&s(a),"image/png"))},m4=({onClose:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(),[o,s]=D.useState(null),[a,u]=D.useState(!1),[c,h]=D.useState(null),f=D.useRef(null),p=m1(),v=D.useRef(null),S=D.useRef(null);function I(g){const{width:w,height:b}=g.currentTarget,L=f4(w,b,z_);i(L),s(L)}const R=g=>{if(g.target.files&&g.target.files.length>0){h(null);const w=new FileReader;w.addEventListener("load",()=>n(w.result)),w.readAsDataURL(g.target.files[0])}},_=async()=>{if(!o||!f.current){h("Please crop the image before generating.");return}u(!0),h(null);const g=await p4(f.current,o),w=new Image;w.src="/frame-attending.png",w.onload=()=>{const b=document.createElement("canvas");b.width=2e3,b.height=2e3;const L=b.getContext("2d");if(!L)return;const V=new Image;V.src=URL.createObjectURL(g),V.onload=()=>{L.drawImage(V,291,421,1050,1159),L.drawImage(w,0,0),b.toBlob(async A=>{if(!A)return;const y=new File([A],`attending-${Date.now()}.png`,{type:"image/png"}),T=GS(KS,`attending_photos/${y.name}`);try{await BM(T,y);const C=await WS(T),k=await nS(jo(Si,"photos"),{url:C,createdAt:new Date,type:"attending"});p(`/attending/share/${k.id}`)}catch{h("Upload failed. Please try again.")}finally{u(!1)}})}},w.onerror=()=>{u(!1),h("Error: The frame template 'frame-attending.png' is missing.")}};return N.jsx("div",{className:"modal-overlay-attending",onClick:t,children:N.jsxs("div",{className:"modal-content-attending",onClick:g=>g.stopPropagation(),children:[N.jsx("button",{className:"close-button-attending",onClick:t,children:""}),e?N.jsxs("div",{className:"crop-container",children:[N.jsx("h3",{children:"Crop Your Photo"}),N.jsx(d4,{crop:r,onChange:g=>i(g),onComplete:g=>s(g),aspect:z_,children:N.jsx("img",{ref:f,src:e,alt:"Crop preview",onLoad:I})}),N.jsx("button",{onClick:_,disabled:a,className:"generate-button",children:a?"Generating...":"Save & Generate Photo"}),N.jsx("button",{onClick:()=>n(null),className:"change-image-button",children:"Change Image"})]}):N.jsxs("div",{className:"upload-initial",children:[N.jsx("h2",{children:'Create Your "I Will Be Seen" Photo'}),N.jsxs("div",{className:"upload-options-attending",children:[N.jsx("button",{onClick:()=>{var g;return(g=S.current)==null?void 0:g.click()},className:"upload-button-attending",children:"Take Photo"}),N.jsx("button",{onClick:()=>{var g;return(g=v.current)==null?void 0:g.click()},className:"upload-button-attending",children:"Choose from Gallery"})]}),N.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:S,onChange:R,style:{display:"none"}}),N.jsx("input",{type:"file",accept:"image/*",ref:v,onChange:R,style:{display:"none"}})]}),c&&N.jsx("p",{className:"error-message",children:c})]})})},g4=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(0),[i,o]=D.useState(!1);D.useEffect(()=>{const u=bc(jo(Si,"photos"),Oc("type","==","attending"),Dc("createdAt","desc"),ZT(20)),c=Nc(u,h=>{const f=[];h.forEach(p=>{f.push({id:p.id,...p.data()})}),e(f)});return()=>c()},[]),D.useEffect(()=>{if(t.length===0)return;const u=setInterval(()=>{r(c=>(c+1)%t.length)},3e3);return()=>clearInterval(u)},[t.length]);const a=(()=>{if(t.length===0)return[];const u=[],c=5;for(let h=0;h<c;h++){const f=(n-2+h+t.length)%t.length;u.push({...t[f],position:h-2,isCenter:h===2})}return u})();return N.jsx("div",{className:"attending-home-container",children:N.jsxs("div",{className:"hero-content-attending",children:[N.jsxs("h1",{children:["Join the Fun! with ",N.jsx("span",{className:"hashtag",children:"#GlobalEntrepreneurshipFestival"})]}),t.length>0&&N.jsx("div",{className:"carousel-container",children:N.jsx("div",{className:"carousel-track",children:a.map((u,c)=>N.jsxs("div",{className:`carousel-slide ${u.isCenter?"center-slide":""}`,style:{filter:u.isCenter?"blur(0px)":"blur(2px)",zIndex:u.isCenter?10:Math.abs(u.position)},children:[N.jsx("img",{src:u.url,alt:"I will be seen",className:"carousel-image"}),u.isCenter&&N.jsx("div",{className:"slide-overlay"})]},`${u.id}-${c}`))})}),N.jsxs("div",{className:"description-text",children:[N.jsx("p",{children:'Generate your personalized "I will be Seen" at'}),N.jsx("p",{children:N.jsx("strong",{children:"#GlobalEntrepreneurshipFestival"})}),N.jsxs("p",{children:["Post on social media and tag ",N.jsx("strong",{children:"@globalentrepreneurshipfestival"})," and use any of the hashtags ",N.jsx("strong",{children:"#GlobalEntrepreneurshipWeek, #GEF, GEF2025, GEFGhana"})]})]}),N.jsxs("div",{className:"action-buttons",children:[N.jsx("button",{onClick:()=>o(!0),className:"action-button primary",children:"Create a Frame"}),N.jsx(go,{to:"/attending/gallery",className:"action-button secondary",children:"View Gallery"})]}),i&&N.jsx(m4,{onClose:()=>o(!1)})]})})};const y4=t=>t.toDate().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v4=()=>{const[t,e]=D.useState([]);return D.useEffect(()=>{const n=bc(jo(Si,"photos"),Oc("type","==","attending"),Dc("createdAt","desc")),r=Nc(n,i=>{const o=[];i.forEach(s=>{o.push({id:s.id,...s.data()})}),e(o)});return()=>r()},[]),N.jsxs("div",{className:"attending-gallery",children:[N.jsx("h2",{children:"I will be seen at #GEFGhana2025"}),N.jsx("div",{className:"photo-grid-attending",children:t.map(n=>N.jsxs("div",{className:"photo-item-attending",children:[N.jsx("img",{src:n.url,alt:"I will be seen"}),N.jsxs("div",{className:"photo-info",children:[N.jsx("p",{className:"photo-date",children:y4(n.createdAt)}),N.jsx(go,{to:`/attending/share/${n.id}`,className:"share-icon",children:""})]})]},n.id))})]})};var _4=typeof Element<"u",w4=typeof Map=="function",E4=typeof Set=="function",T4=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Bl(t[r],e[r]))return!1;return!0}var o;if(w4&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Bl(r.value[1],e.get(r.value[0])))return!1;return!0}if(E4&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(T4&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(_4&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Bl(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var S4=function(e,n){try{return Bl(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const I4=da(S4);var C4=function(t,e,n,r,i,o,s,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},R4=C4;const B_=da(R4);var A4=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var h=s[c];if(!u(h))return!1;var f=e[h],p=n[h];if(o=r?r.call(i,f,p,h):void 0,o===!1||o===void 0&&f!==p)return!1}return!0};const P4=da(A4);var XS=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(XS||{}),td={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},H_=Object.values(XS),Mm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},k4=Object.entries(Mm).reduce((t,[e,n])=>(t[n]=e,t),{}),an="data-rh",oo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},so=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},b4=t=>{let e=so(t,"title");const n=so(t,oo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=so(t,oo.DEFAULT_TITLE);return e||r||void 0},x4=t=>so(t,oo.ON_CHANGE_CLIENT_STATE)||(()=>{}),nd=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),O4=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const a=i[o].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),D4=t=>console&&typeof console.warn=="function"&&console.warn(t),cs=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&D4(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,o)=>{const s={};o.filter(u=>{let c;const h=Object.keys(u);for(let p=0;p<h.length;p+=1){const v=h[p],S=v.toLowerCase();e.indexOf(S)!==-1&&!(c==="rel"&&u[c].toLowerCase()==="canonical")&&!(S==="rel"&&u[S].toLowerCase()==="stylesheet")&&(c=S),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(c=v)}if(!c||!u[c])return!1;const f=u[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(u=>i.push(u));const a=Object.keys(s);for(let u=0;u<a.length;u+=1){const c=a[u],h={...r[c],...s[c]};r[c]=h}return i},[]).reverse()},N4=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},L4=t=>({baseTag:O4(["href"],t),bodyAttributes:nd("bodyAttributes",t),defer:so(t,oo.DEFER),encode:so(t,oo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:nd("htmlAttributes",t),linkTags:cs("link",["rel","href"],t),metaTags:cs("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:cs("noscript",["innerHTML"],t),onChangeClientState:x4(t),scriptTags:cs("script",["src","innerHTML"],t),styleTags:cs("style",["cssText"],t),title:b4(t),titleAttributes:nd("titleAttributes",t),prioritizeSeoTags:N4(t,oo.PRIORITIZE_SEO_TAGS)}),YS=t=>Array.isArray(t)?t.join(""):t,M4=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},rd=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(M4(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},q_=(t,e)=>({...t,[e]:void 0}),V4=["noscript","script","style"],Mf=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),JS=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),F4=(t,e,n,r)=>{const i=JS(n),o=YS(e);return i?`<${t} ${an}="true" ${i}>${Mf(o,r)}</${t}>`:`<${t} ${an}="true">${Mf(o,r)}</${t}>`},j4=(t,e,n=!0)=>e.reduce((r,i)=>{const o=i,s=Object.keys(o).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,h)=>{const f=typeof o[h]>"u"?h:`${h}="${Mf(o[h],n)}"`;return c?`${c} ${f}`:f},""),a=o.innerHTML||o.cssText||"",u=V4.indexOf(t)===-1;return`${r}<${t} ${an}="true" ${s}${u?"/>":`>${a}</${t}>`}`},""),ZS=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Mm[r];return n[i||r]=t[r],n},e),U4=(t,e,n)=>{const r={key:e,[an]:!0},i=ZS(n,r);return[ne.createElement("title",i,e)]},Hl=(t,e)=>e.map((n,r)=>{const i={key:r,[an]:!0};return Object.keys(n).forEach(o=>{const a=Mm[o]||o;if(a==="innerHTML"||a==="cssText"){const u=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[a]=n[o]}),ne.createElement(t,i)}),Bt=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>U4(t,e.title,e.titleAttributes),toString:()=>F4(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ZS(e),toString:()=>JS(e)};default:return{toComponent:()=>Hl(t,e),toString:()=>j4(t,e,n)}}},$4=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=rd(t,td.meta),o=rd(e,td.link),s=rd(n,td.script);return{priorityMethods:{toComponent:()=>[...Hl("meta",i.priority),...Hl("link",o.priority),...Hl("script",s.priority)],toString:()=>`${Bt("meta",i.priority,r)} ${Bt("link",o.priority,r)} ${Bt("script",s.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:s.default}},z4=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:s,title:a="",titleAttributes:u,prioritizeSeoTags:c}=t;let{linkTags:h,metaTags:f,scriptTags:p}=t,v={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:v,linkTags:h,metaTags:f,scriptTags:p}=$4(t)),{priority:v,base:Bt("base",e,r),bodyAttributes:Bt("bodyAttributes",n,r),htmlAttributes:Bt("htmlAttributes",i,r),link:Bt("link",h,r),meta:Bt("meta",f,r),noscript:Bt("noscript",o,r),script:Bt("script",p,r),style:Bt("style",s,r),title:Bt("title",{title:a,titleAttributes:u},r)}},Vf=z4,El=[],eI=!!(typeof window<"u"&&window.document&&window.document.createElement),Ff=class{constructor(t,e){Nn(this,"instances",[]);Nn(this,"canUseDOM",eI);Nn(this,"context");Nn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?El:this.instances,add:t=>{(this.canUseDOM?El:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?El:this.instances).indexOf(t);(this.canUseDOM?El:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Vf({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},B4={},tI=ne.createContext(B4),ao,nI=(ao=class extends D.Component{constructor(n){super(n);Nn(this,"helmetData");this.helmetData=new Ff(this.props.context||{},ao.canUseDOM)}render(){return ne.createElement(tI.Provider,{value:this.helmetData.value},this.props.children)}},Nn(ao,"canUseDOM",eI),ao),Oi=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${an}]`),i=[].slice.call(r),o=[];let s;return e&&e.length&&e.forEach(a=>{const u=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")u.innerHTML=a.innerHTML;else if(c==="cssText")u.styleSheet?u.styleSheet.cssText=a.cssText:u.appendChild(document.createTextNode(a.cssText));else{const h=c,f=typeof a[h]>"u"?"":a[h];u.setAttribute(c,f)}u.setAttribute(an,"true"),i.some((c,h)=>(s=h,u.isEqualNode(c)))?i.splice(s,1):o.push(u)}),i.forEach(a=>{var u;return(u=a.parentNode)==null?void 0:u.removeChild(a)}),o.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:o}},jf=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(an),i=r?r.split(","):[],o=[...i],s=Object.keys(e);for(const a of s){const u=e[a]||"";n.getAttribute(a)!==u&&n.setAttribute(a,u),i.indexOf(a)===-1&&i.push(a);const c=o.indexOf(a);c!==-1&&o.splice(c,1)}for(let a=o.length-1;a>=0;a-=1)n.removeAttribute(o[a]);i.length===o.length?n.removeAttribute(an):n.getAttribute(an)!==s.join(",")&&n.setAttribute(an,s.join(","))},H4=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=YS(t)),jf("title",e)},W_=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:s,noscriptTags:a,onChangeClientState:u,scriptTags:c,styleTags:h,title:f,titleAttributes:p}=t;jf("body",r),jf("html",i),H4(f,p);const v={baseTag:Oi("base",n),linkTags:Oi("link",o),metaTags:Oi("meta",s),noscriptTags:Oi("noscript",a),scriptTags:Oi("script",c),styleTags:Oi("style",h)},S={},I={};Object.keys(v).forEach(R=>{const{newTags:_,oldTags:g}=v[R];_.length&&(S[R]=_),g.length&&(I[R]=v[R].oldTags)}),e&&e(),u(t,S,I)},hs=null,q4=t=>{hs&&cancelAnimationFrame(hs),t.defer?hs=requestAnimationFrame(()=>{W_(t,()=>{hs=null})}):(W_(t),hs=null)},W4=q4,G_=class extends D.Component{constructor(){super(...arguments);Nn(this,"rendered",!1)}shouldComponentUpdate(e){return!P4(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=L4(e.get().map(o=>{const s={...o.props};return delete s.context,s}));nI.canUseDOM?W4(i):Vf&&(r=Vf(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},id,G4=(id=class extends D.Component{shouldComponentUpdate(t){return!I4(q_(this.props,"helmetData"),q_(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return B_(H_.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${H_.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),B_(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ne.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,s=Object.keys(o).reduce((u,c)=>(u[k4[c]||c]=o[c],u),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Ff)){const i=r;r=new Ff(i.context,!0),delete n.helmetData}return r?ne.createElement(G_,{...n,context:r.value}):ne.createElement(tI.Consumer,null,i=>ne.createElement(G_,{...n,context:i}))}},Nn(id,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),id);const K4=()=>{const{id:t}=UA(),[e,n]=D.useState(null),[r,i]=D.useState(!0),[o,s]=D.useState(null),[a,u]=D.useState(!1),[c,h]=D.useState(!1),f="I Will Be Seen At #GEF Ghana 2025!",p="I've created my personalized photo for the Global Entrepreneurship Festival. Create yours and join the movement!";D.useEffect(()=>{(async()=>{if(t)try{const R=HT(Si,"photos",t),_=await dN(R);_.exists()?n(_.data()):s("Photo not found.")}catch{s("Failed to load photo.")}finally{i(!1)}})()},[t]);const v=async()=>{if(e){h(!0);try{try{const R=await fetch(e.url,{mode:"cors",headers:{Origin:window.location.origin}});if(R.ok){const _=await R.blob(),g=window.URL.createObjectURL(_),w=document.createElement("a");w.href=g,w.download=`gef-selfie-${t||"photo"}.jpg`,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(g);return}}catch{console.log("CORS fetch failed, trying alternative method")}try{const _=await(await fetch(e.url,{mode:"no-cors"})).blob();if(_.size>0){const g=window.URL.createObjectURL(_),w=document.createElement("a");w.href=g,w.download=`gef-selfie-${t||"photo"}.jpg`,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(g);return}}catch{console.log("No-cors fetch failed, trying direct link method")}const I=document.createElement("a");I.href=e.url,I.download=`gef-selfie-${t||"photo"}.jpg`,I.target="_blank",I.rel="noopener noreferrer",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch(I){console.error("Error downloading image:",I);const R=window.open(e.url,"_blank");alert(R?'Please right-click on the image and select "Save image as..." to download.':'Download blocked by browser. Please allow popups and try again, or right-click the image above and select "Save image as..."')}finally{h(!1)}}},S=async I=>{const R=window.location.href,_="I will be Seen at #GEF Ghana 2025! Create your own photo and join me at the Global Entrepreneurship Festival. #GEFGhana2025 #GlobalEntrepreneurshipFestival";if(I==="native"&&navigator.share&&e){u(!0);try{const w=await(await fetch(e.url)).blob(),b=new File([w],"gef-selfie.jpg",{type:"image/jpeg"});if(navigator.canShare&&navigator.canShare({files:[b]}))try{await navigator.share({files:[b],text:`${_}

${R}`,title:f})}catch{await navigator.share({files:[b]}),setTimeout(async()=>{try{await navigator.share({text:`${_}

${R}`,title:f})}catch(V){console.log("Text share after image failed:",V)}},1e3)}else await navigator.share({title:f,text:`${_}

${R}`})}catch(g){console.error("Error sharing:",g);try{await navigator.share({title:f,text:`${_}

${R}`})}catch{navigator.clipboard.writeText(`${_}

${R}`),alert("Content copied to clipboard!")}}finally{u(!1)}}else if(I==="twitter"){const g=`${_} ${R}`,w=`https://twitter.com/intent/tweet?text=${encodeURIComponent(g)}`;window.open(w,"_blank")}else if(I==="facebook"){const g=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(R)}&quote=${encodeURIComponent(_)}`;window.open(g,"_blank")}else if(I==="linkedin"){const g=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(R)}&title=${encodeURIComponent(f)}&summary=${encodeURIComponent(_)}`;window.open(g,"_blank")}};return r?N.jsx("div",{className:"share-page-container",children:N.jsx("div",{className:"loading-card",children:N.jsx("p",{children:"Loading Photo..."})})}):o?N.jsx("div",{className:"share-page-container",children:N.jsxs("div",{className:"error-card",children:[N.jsx("p",{className:"error-message",children:o}),N.jsx(go,{to:"/attending",className:"cta-button",children:"Create My #GEF Photo"})]})}):N.jsxs(nI,{children:[N.jsxs(G4,{children:[N.jsx("title",{children:f}),N.jsx("meta",{name:"description",content:p}),N.jsx("meta",{property:"og:title",content:f}),N.jsx("meta",{property:"og:description",content:p}),N.jsx("meta",{property:"og:image",content:e==null?void 0:e.url}),N.jsx("meta",{property:"og:url",content:window.location.href}),N.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),N.jsx("meta",{name:"twitter:title",content:f}),N.jsx("meta",{name:"twitter:description",content:p}),N.jsx("meta",{name:"twitter:image",content:e==null?void 0:e.url})]}),N.jsx("div",{className:"share-page-container",children:e&&N.jsxs("div",{className:"share-card",children:[N.jsx("div",{className:"photo-container",children:N.jsx("img",{src:e.url,alt:"I will be Seen at GEF",className:"shared-photo"})}),N.jsxs("div",{className:"share-content",children:[N.jsx("h2",{children:"I've created my #GEF selfie!"}),N.jsx("p",{children:"Join me in building the excitement for the Global Entrepreneurship Festival in Ghana, 2025."}),N.jsxs("div",{className:"share-buttons",children:[N.jsxs("button",{onClick:v,className:"share-button download",disabled:c,children:[N.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),c?"Downloading...":"Download"]}),N.jsxs("button",{onClick:()=>S("native"),className:"share-button native",disabled:a,children:[N.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})}),a?"Preparing...":"Share"]}),N.jsxs("button",{onClick:()=>S("twitter"),className:"share-button twitter",children:[N.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Share on Twitter"]}),N.jsxs("button",{onClick:()=>S("facebook"),className:"share-button facebook",children:[N.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Share on Facebook"]}),N.jsxs("button",{onClick:()=>S("linkedin"),className:"share-button linkedin",children:[N.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]})]}),N.jsxs("div",{className:"cta-section",children:[N.jsx("h3",{children:"Want to create your own?"}),N.jsx(go,{to:"/attending",className:"cta-button",children:"Create My #GEF Photo"})]})]})]})})]})};function Q4(){return N.jsx(CP,{children:N.jsxs("div",{className:"app-container",children:[N.jsx(r4,{}),N.jsx("main",{children:N.jsxs(tP,{children:[N.jsx(gs,{path:"/",element:N.jsx(g4,{})}),N.jsx(gs,{path:"/gallery",element:N.jsx(n4,{})}),N.jsx(gs,{path:"/attending/gallery",element:N.jsx(v4,{})}),N.jsx(gs,{path:"/attending/share/:id",element:N.jsx(K4,{})})]})}),N.jsx(i4,{})]})})}od.createRoot(document.getElementById("root")).render(N.jsx(ne.StrictMode,{children:N.jsx(Q4,{})}));
